(function(t){function e(e){for(var r,s,i=e[0],l=e[1],u=e[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1521:function(t,e,a){},2680:function(t,e,a){"use strict";a("1521")},"41d9":function(t,e,a){"use strict";a("e76a")},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d833","./ar-tn.js":"6d833","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=o(t);return a(e)}function o(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=o,t.exports=n,n.id="4678"},"4e98":function(t,e,a){},5467:function(t,e,a){"use strict";a("4e98")},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return ql}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px"},attrs:{id:"app"}},[a("div",{attrs:{id:"page-container"}},[a("navbar"),a("router-view")],1),t._m(0)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"bg-light text-center text-lg-start footer"},[a("div",{staticClass:"text-center p-3"},[t._v(" Â© 2021 Copyright: "),a("a",{staticClass:"text-dark"},[a("i",[t._v("Usijani Momci (Nekromantija)")])])])])}],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{toggleable:"sm",type:"light",variant:"outline-hub"}},[a("b-navbar-nav",[a("b-navbar-brand",[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"d-inline-block align-top",attrs:{src:"static/full_logo.png",height:"80%"}})])],1),t._l(t.commonRoutes,(function(e){return a("b-navbar-brand",{key:e.name,staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:e.path}},[t._v(t._s(e.name))])],1)})),t.$helpers.isObjectEmpty(t.user)||"SystemAdmin"!=t.role?t._e():a("b-nav-item-dropdown",{staticClass:"nav-dropdown link-font",attrs:{text:"CRUD",right:""}},t._l(t.userSpecificRoutes["SystemAdmin"],(function(e){return a("b-dropdown-item",{key:e.name},[a("router-link",{staticClass:"link-font",attrs:{to:e.path}},[t._v(t._s(e.name))])],1)})),1),t.$helpers.isObjectEmpty(t.user)||"DrugstoreAdmin"!=t.role?t._e():t._l(t.userSpecificRoutes["DrugstoreAdmin"],(function(e){return a("b-navbar-brand",{key:e.name,staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:e.path}},[t._v(t._s(e.name))])],1)})),t.$helpers.isObjectEmpty(t.user)||"Patient"!=t.role?t._e():t._l(t.userSpecificRoutes["Patient"],(function(e){return a("b-navbar-brand",{key:e.name,staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:e.path}},[t._v(t._s(e.name))])],1)})),t.$helpers.isObjectEmpty(t.user)||"Supplier"!=t.role?t._e():t._l(t.userSpecificRoutes["Supplier"],(function(e){return a("b-navbar-brand",{key:e.name,staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:e.path}},[t._v(t._s(e.name))])],1)})),t.$helpers.isObjectEmpty(t.user)||"Dermatologist"!=t.role?t._e():t._l(t.userSpecificRoutes["Dermatologist"],(function(e){return a("b-navbar-brand",{key:e.name,staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:e.path}},[t._v(t._s(e.name))])],1)})),t.$helpers.isObjectEmpty(t.user)||"Pharmacist"!=t.role?t._e():t._l(t.userSpecificRoutes["Pharmacist"],(function(e){return a("b-navbar-brand",{key:e.name,staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:e.path}},[t._v(t._s(e.name))])],1)}))],2),a("b-navbar-nav",{staticClass:"ml-auto"},[t.$helpers.isObjectEmpty(t.user)?[a("b-navbar-brand",{staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:"/login"}},[t._v("Login")])],1),a("b-navbar-brand",{staticClass:"nav-link",attrs:{tag:"h3"}},[a("router-link",{staticClass:"link-font",attrs:{to:"/register"}},[t._v("Register")])],1)]:[a("b-navbar-brand",{staticClass:"nav-link",attrs:{tag:"h3"}},["Dermatologist"==t.role||"Pharmacist"==t.role?a("router-link",{attrs:{to:"/pharm-derm-profile"}},[t._v(t._s(t.email))]):"Patient"==t.role?a("router-link",{attrs:{to:"/patient"}},[t._v(t._s(t.email))]):"DrugstoreAdmin"==t.role?a("router-link",{attrs:{to:"/drugstore-administrator-profile"}},[t._v(t._s(t.email))]):a("router-link",{attrs:{to:"/"}},[t._v(t._s(t.email))])],1),a("b-navbar-brand",{staticClass:"nav-link",attrs:{tag:"h3"},on:{click:t.logout}},[a("router-link",{staticClass:"link-font",attrs:{to:"/"}},[t._v("Logout")])],1)]],2)],1)},i=[],l=a("5530"),u=a("2f62"),c={name:"Navbar",computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}})),data:function(){return{userSpecificRoutes:{SystemAdmin:[{name:"Drugstore CRUD",path:"/admin-drugstore-table"},{name:"Drug CRUD",path:"/admin-drug-table"},{name:"User CRUD",path:"/admin-user-table"},{name:"Patient Categories CRUD",path:"/admin-patient-categories"},{name:"Complaints",path:"/admin-complaints"}],Supplier:[{name:"Stock",path:"/supplier-stock"},{name:"Orders",path:"/supplier-orders"},{name:"Offers",path:"/supplier-offers"}],DrugstoreAdmin:[{name:"Employees",path:"/employeesOverview"},{name:"Drug stock",path:"/drug-stock-overview"},{name:"Orders",path:"/drug-orders-overview"},{name:"Create order",path:"/create-drug-order"},{name:"My drugstore",path:"/my-drugstore"}],Pharmacist:[{name:"Schedule",path:"/schedule-pharm"},{name:"Patients",path:"/patientoverview"},{name:"Treated patients",path:"/treated"},{name:"Drug issuing",path:"/drug-issuing"},{name:"Absence",path:"/absence-request"},{name:"Appointments",path:"/appointment-page"}],Dermatologist:[{name:"Schedule",path:"/schedule"},{name:"Patients",path:"/patientoverview"},{name:"Treated patients",path:"/treated"},{name:"Absence",path:"/absence-request"},{name:"Appointments",path:"/appointment-page"}],Patient:[{name:"Subscriptions",path:"/subscriptions"},{name:"eReceipt",path:"/receipt-scanner"},{name:"Complaints",path:"/patient-complaints"}]},commonRoutes:[{name:"Drugstores",path:"/drugstoreSearch"},{name:"Drugs",path:"/drugSearch"}]}},methods:{logout:function(t){t.preventDefault(),this.$store.dispatch("userModule/logout")}}},d=c,p=a("2877"),m=Object(p["a"])(d,s,i,!1,null,null,null),h=m.exports,g={components:{Navbar:h},name:"App",data:function(){return{slide:0,sliding:null}}},f=g,b=Object(p["a"])(f,n,o,!1,null,null,null),v=b.exports,y=a("8c4f"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-table",{attrs:{id:"tabela_zaposlenih",striped:"",hover:"",items:t.employees},on:{"row-clicked":t.showModal}}),a("b-modal",{attrs:{id:"my-modal",title:"Your profile","hide-footer":""}},[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{label:"Name","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-input",{attrs:{id:"name-input",required:""},model:{value:t.selected.name,callback:function(e){t.$set(t.selected,"name",e)},expression:"selected.name"}})],1),a("b-form-group",{attrs:{label:"Surame","label-for":"surname-input","invalid-feedback":"Surname is required"}},[a("b-form-input",{attrs:{id:"surname-input",required:""},model:{value:t.selected.surname,callback:function(e){t.$set(t.selected,"surname",e)},expression:"selected.surname"}})],1),a("b-form-group",{attrs:{label:"E-mail","label-for":"email-input","invalid-feedback":"E-mail is required"}},[a("b-form-input",{attrs:{id:"email-input",type:"email",required:""},model:{value:t.selected.email,callback:function(e){t.$set(t.selected,"email",e)},expression:"selected.email"}})],1),a("b-form-group",{attrs:{label:"Password","label-for":"password-input"}},[a("b-form-input",{attrs:{id:"password-input",type:"password"},model:{value:t.selected.password,callback:function(e){t.$set(t.selected,"password",e)},expression:"selected.password"}})],1),a("b-form-group",{attrs:{label:"Repeat password","label-for":"repeatpassword-input"}},[a("b-form-input",{attrs:{id:"repeatpassword-input",type:"password"},model:{value:t.selected.repeatPassword,callback:function(e){t.$set(t.selected,"repeatPassword",e)},expression:"selected.repeatPassword"}})],1),a("b-form-group",{attrs:{label:"Phone number","label-for":"phonenumber-input","invalid-feedback":"Phone number is required"}},[a("b-form-input",{attrs:{id:"phonenumber-input",required:""},model:{value:t.selected.phoneNumber,callback:function(e){t.$set(t.selected,"phoneNumber",e)},expression:"selected.phoneNumber"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Save")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1)],1)},_=[],w=(a("d81d"),a("b0c0"),{data:function(){return{employees:[],selected:{},modified:{}}},methods:{getEmployees:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees").then((function(e){t.employees=e.data.map((function(t){return{id:t.id,name:t.name,surname:t.surname,email:t.email,password:t.password,phoneNumber:t.phoneNumber,type:t.type}}))})).catch((function(t){return console.log(t)}))},showModal:function(t){this.$root.$emit("bv::show::modal","my-modal"),this.selected=JSON.parse(JSON.stringify(t)),this.selected.repeatPassword="",this.modified=t},onSubmit:function(t){t.preventDefault(),this.validatePassword()?(this.modified.name=this.selected.name,this.modified.surname=this.selected.surname,this.modified.email=this.selected.email,this.modified.password=this.selected.password,this.modified.phoneNumber=this.selected.phoneNumber,this.$root.$emit("bv::hide::modal","my-modal"),console.log(this.modified),this.$http.put("https://mrs-isa-usijani.herokuapp.com/employees",this.modified).then((function(t){console.log(t),console.log("ovde")})).catch((function(t){return console.log(t)}))):alert("Passwords aren't matching!")},validatePassword:function(){return""==this.selected.repeatPassword||this.selected.password==this.selected.repeatPassword},handleClose:function(){this.$root.$emit("bv::hide::modal","my-modal")}},mounted:function(){this.getEmployees()}}),x=w,D=Object(p["a"])(x,k,_,!1,null,null,null),S=D.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{"align-h":"center"}},[a("b-row",[a("b-col",[a("search-dermatologist-form",{on:{"dermatologist-search":t.updateDermatologists}})],1),a("b-col",{attrs:{"cols-lg":"8"}},[a("b-form",[a("b-table",{attrs:{id:"dermatologist-table",striped:"",hover:"",items:t.dermatologists,"select-mode":"single"},on:{"row-clicked":t.onRowClicked}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.drugstoreId,expression:"form.drugstoreId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"drugstoreId",e.target.multiple?a:a[0])}}},t._l(t.drugstores,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0),a("button",{on:{click:t.addDermatologist}},[t._v("Add Dermatologist")])],1)],1)],1)],1)},j=[],R=a("b85c"),C=(a("159b"),a("a15b"),a("c740"),a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{"align-h":"left"}},[a("b-form",[a("b-form-group",{attrs:{label:"Name:","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"Surname:","label-for":"surname-input"}},[a("b-form-input",{attrs:{id:"surname-input",placeholder:"Enter surname",required:""},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1),a("b-form-group",[a("button",{attrs:{id:"search"},on:{click:t.onSubmit}},[t._v("Search")])])],1)],1)}),P=[],I={name:"SearchDermatologistForm",components:{},data:function(){return{form:{name:"",surname:""},dermatologists:[]}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/employees/search/dermatologist",this.form).then((function(t){e.dermatologists=t.data,e.$emit("dermatologist-search",e.dermatologists)})).catch((function(t){return console.log(t)}))}}},O=I,A=Object(p["a"])(O,C,P,!1,null,null,null),M=A.exports,N={name:"SelectDermatologistForm",components:{SearchDermatologistForm:M},data:function(){return{form:{dermatologistEmail:"",drugstoreId:""},dermatologists:[],drugstores:[]}},methods:{updateDermatologists:function(t){var e=this;this.dermatologists=t,this.dermatologists.forEach((function(t){return e.mapSingleDermatologist(t)}))},mapSingleDermatologist:function(t){var e,a=[],r=Object(R["a"])(t.drugstores);try{for(r.s();!(e=r.n()).done;){var n=e.value;a.push(n.drugstore.name)}}catch(o){r.e(o)}finally{r.f()}return a.length>1?t.drugstores=a.join(", "):t.drugstores=a[0],t},onRowClicked:function(t){console.log(t),this.form.dermatologistEmail=t.email},addDermatologist:function(t){var e=this;t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/employees/employement",this.form).then((function(t){var a=t.data,r=e.dermatologists.findIndex((function(t){return t.email==a.email}));console.log(r),e.dermatologists.splice(r,1,e.mapSingleDermatologist(a)),alert("Success"),console.log(e.dermatologists)})).catch((function(t){return console.log(t)}))},getDrugstores:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores").then((function(e){t.drugstores=e.data})).catch((function(t){return console.log(t)}))},getDermatologist:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/employees/search/dermatologist",this.form).then((function(e){t.updateDermatologists(e.data)})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getDrugstores(),this.getDermatologist()}},E=N,q=Object(p["a"])(E,$,j,!1,null,null,null),F=q.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("b-table",{attrs:{id:"drugstore-table",striped:"",hover:"",items:t.drugstores,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showEditModal(e.item,a.target)}}},[t._v(" Edit ")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showDeleteModal(e.item,a.target)}}},[t._v(" Delete ")])]}}])})],1),a("b-modal",{attrs:{id:t.editModal.id,title:t.editModal.title,"ok-only":"",size:"xl"},on:{ok:t.edit,hide:t.resetEditModal}},[a("pre",[a("edit-drugstore-form",{ref:"edit-form",attrs:{drugstore:t.editModal.drugstore,submitHandle:"null"}})],1)]),a("b-modal",{attrs:{id:t.deleteModal.id,title:t.deleteModal.title,size:"xl"},on:{ok:t.deleteDrugstore,hide:t.resetDeleteModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.ok,n=e.hide;return[a("b-button",{attrs:{size:"sm"},on:{click:function(t){return r()}}},[t._v(" Yes ")]),a("b-button",{attrs:{size:"sm"},on:{click:function(t){return n()}}},[t._v(" Cancel ")])]}}])},[a("pre",[t._v("Are you sure you want to delete this Drugstore?")])])],1)},V=[],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("drugstore-basic-info",{ref:"info",attrs:{form:t.drugstore}})],1)},U=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-form",[a("b-row",{attrs:{"align-h":"center"}},[a("div",{staticStyle:{"margin-top":"40px","margin-bottom":"40px",width:"75%"}},[a("b-input-group",{staticClass:"mt-3",attrs:{prepend:"Name"}},[a("b-form-input",{attrs:{required:"add"==t.mode},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-input-group",{staticClass:"mt-3",attrs:{prepend:"Description"}},[a("b-form-input",{attrs:{required:"add"==t.mode},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("b-input-group",{staticClass:"mt-3",staticStyle:{"margin-top":"45px"},attrs:{prepend:"Working from"}},[a("b-form-input",{attrs:{required:"add"==t.mode},model:{value:t.form.workingHoursFrom,callback:function(e){t.$set(t.form,"workingHoursFrom",e)},expression:"form.workingHoursFrom"}})],1),a("b-input-group",{staticClass:"mt-3",staticStyle:{"margin-top":"45px"},attrs:{prepend:"Working to"}},[a("b-form-input",{attrs:{required:"add"==t.mode},model:{value:t.form.workingHoursTo,callback:function(e){t.$set(t.form,"workingHoursTo",e)},expression:"form.workingHoursTo"}})],1),a("b-input-group",{staticClass:"mt-3",staticStyle:{"margin-top":"45px"},attrs:{prepend:"Price for pharmacist appointment"}},[a("b-form-input",{attrs:{type:"number",required:"add"==t.mode},model:{value:t.form.pharmacistAppointmentPrice,callback:function(e){t.$set(t.form,"pharmacistAppointmentPrice",e)},expression:"form.pharmacistAppointmentPrice"}})],1)],1)]),a("div",{staticStyle:{float:"left",width:"48%",height:"300px","padding-top":"30px","padding-bottom":"30px"}},[a("b-input-group",{staticClass:"mt-3",staticStyle:{"margin-bottom":"45px"},attrs:{prepend:"Address"}},[a("b-form-input",{attrs:{required:"add"==t.mode},model:{value:t.form.location.address,callback:function(e){t.$set(t.form.location,"address",e)},expression:"form.location.address"}})],1),a("b-input-group",{staticClass:"mt-3",staticStyle:{"margin-bottom":"45px","margin-top":"45px"},attrs:{prepend:"City"}},[a("b-form-input",{attrs:{required:"add"==t.mode},model:{value:t.form.location.city,callback:function(e){t.$set(t.form.location,"city",e)},expression:"form.location.city"}})],1),a("b-input-group",{staticClass:"mt-3",staticStyle:{"margin-top":"45px"},attrs:{prepend:"Country"}},[a("b-form-input",{attrs:{required:"add"==t.mode},model:{value:t.form.location.country,callback:function(e){t.$set(t.form.location,"country",e)},expression:"form.location.country"}})],1)],1),a("div",{staticStyle:{float:"right",width:"48%",height:"300px","border-style":"solid"}},[a("map-container",{ref:"map-container",attrs:{coordinates:[t.form.point.longitude,t.form.point.latitude]}})],1)],1)],1)},J=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"map-root",staticStyle:{width:"100%",height:"100%"}})},L=[],B=a("a2c7"),G=a("5eee"),W=a("480c"),Q=a("d0e9"),Z=a("4cdf"),K=a("f403"),X=a("6c77"),tt=a("6cbf"),et=(a("5bc0"),a("3e6b")),at=a("5831"),rt=a("a2e1"),nt=a("256f"),ot={type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[18.7559,46.265],[23.05,46.265],[23.05,41.85],[18.7559,41.85]]]}},st={name:"MapContainer",components:{},props:["coordinates"],data:function(){return{olMap:null,vectorLayer:null,vectorSource:null}},methods:{updateSource:function(t){var e=this.olMap.getView(),a=this.vectorLayer.getSource(),r=new rt["a"]({featureProjection:"EPSG:3857"}).readFeatures(t);a.clear(),a.addFeatures(r),e.fit(a.getExtent())},addMarker:function(t){console.log(t);var e=new Z["a"](new K["a"](t)),a=1;e.setStyle(new X["b"]({image:new tt["a"]({anchor:[.5,36],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:1,src:"static/mapPointer.png",zIndex:a}),zIndex:a})),this.vectorSource.clear(),this.vectorSource.addFeature(e),this.$parent.$parent.drugstore.point.longitude=Object(nt["l"])(t)[0],this.$parent.$parent.drugstore.point.latitude=Object(nt["l"])(t)[1]}},watch:{geojson:function(t){this.updateSource(t)}},mounted:function(){var t=this;this.vectorSource=new at["a"]({features:[]}),this.vectorLayer=new et["a"]({source:this.vectorSource}),this.olMap=new G["a"]({target:this.$refs["map-root"],layers:[new W["a"]({source:new Q["a"]}),this.vectorLayer],view:new B["a"]({zoom:0,center:[0,0],constrainResolution:!0})}),this.olMap.on("dblclick",(function(e){t.addMarker(e.coordinate)})),this.updateSource(ot),this.addMarker(Object(nt["d"])(this.coordinates))}},it=st,lt=Object(p["a"])(it,H,L,!1,null,null,null),ut=lt.exports,ct={components:{MapContainer:ut},props:["form","mode"],name:"DrugstoreBasicInfo",data:function(){return{map:null}},mounted:function(){this.map=this.$refs["map-container"].olMap}},dt=ct,pt=Object(p["a"])(dt,Y,J,!1,null,null,null),mt=pt.exports,ht={props:["drugstore"],components:{DrugstoreBasicInfo:mt},data:function(){return{map:null}},methods:{getSelectedDrugstoreInfo:function(){},submitHandler:function(t){t.preventDefault(),alert("Update saved.")}},mounted:function(){this.getSelectedDrugstoreInfo(),this.map=this.$refs["info"].map}},gt=ht,ft=Object(p["a"])(gt,z,U,!1,null,null,null),bt=ft.exports,vt={components:{EditDrugstoreForm:bt},name:"AdminDrugstoreTable",data:function(){return{fields:[{key:"name",label:"Full Name"},{key:"description",label:"Description"},{key:"actions",label:"Actions"}],editModal:{id:"edit-modal",title:"",drugstore:{}},deleteModal:{id:"delete-modal",title:"",drugstore:{}},drugstores:[]}},methods:{showEditModal:function(t,e){var a=this;this.editModal.title="Drugstore: ".concat(t.name),this.editModal.drugstore=JSON.parse(JSON.stringify(t)),console.log(this.editModal.drugstore),this.$root.$emit("bv::show::modal",this.editModal.id,e),setTimeout((function(){a.$refs["edit-form"].map.updateSize(),a.$refs["edit-form"].map.getView().setZoom(6)}),300)},resetEditModal:function(){this.editModal.title=""},edit:function(){var t=this;this.$http.put("https://mrs-isa-usijani.herokuapp.com/drugstores",this.editModal.drugstore).then((function(e){var a=t.drugstores.findIndex((function(t){return t.id==e.data.id}));t.drugstores.splice(a,1,e.data),alert("success")})).catch((function(t){return console.log(t)}))},showDeleteModal:function(t,e){this.deleteModal.title="drug: ".concat(t.name),this.deleteModal.drugstore=JSON.parse(JSON.stringify(t)),console.log(this.deleteModal.drugstore),this.$root.$emit("bv::show::modal",this.deleteModal.id,e)},resetDeleteModal:function(){this.deleteModal.title=""},deleteDrugstore:function(){var t=this;this.$http.delete("https://mrs-isa-usijani.herokuapp.com/drugstores/".concat(this.deleteModal.drugstore.id)).then((function(e){var a=t.drugstores.findIndex((function(e){return e.id==t.deleteModal.drugstore.id}));t.drugstores.splice(a,1),alert("success",e)})).catch((function(t){return console.log(t)}))},getDrugstores:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores").then((function(e){t.drugstores=e.data})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getDrugstores()}},yt=vt,kt=Object(p["a"])(yt,T,V,!1,null,null,null),_t=kt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("b-table",{attrs:{id:"drug-table",striped:"",hover:"",items:t.drugs,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showEditModal(e.item,a.target)}}},[t._v(" Edit ")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showDeleteModal(e.item,a.target)}}},[t._v(" Delete ")])]}}])}),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(e){return t.showAddModal(e.target)}}},[t._v(" Add ")])],1),a("b-modal",{attrs:{id:t.addModal.id,title:t.addModal.title,"ok-only":"","ok-variant":"outline-hub",size:"lg"},on:{ok:t.addDrug,hide:t.resetAddModal}},[a("add-drug-form",{ref:"add-drug-form"})],1),a("b-modal",{attrs:{id:t.editModal.id,title:t.editModal.title,"ok-only":"","ok-variant":"outline-hub",size:"lg"},on:{ok:t.edit,hide:t.resetEditModal}},[a("edit-drug-form",{ref:"edit-drug-form",attrs:{form:this.editModal.drug},on:{"update-drug-success":t.updateDrugInTable}})],1),a("b-modal",{attrs:{id:t.deleteModal.id,title:t.deleteModal.title,"ok-only":"","ok-variant":"outline-hub",size:"lg"},on:{ok:t.deleteDrug,hide:t.resetDeleteModal}},[t._v(" Are you sure that you want to delete this drug? ")])],1)},xt=[],Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"form-container"},[a("b-row",[a("b-col",[a("drug-form",{attrs:{form:t.form}})],1)],1)],1)},St=[],$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",[a("b-form-group",{attrs:{label:"Name:","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Drug Type:","label-for":"drug-type-select"}},[a("b-form-select",{attrs:{id:"drug-type-select",options:t.drugTypeOptions,required:null==t.form.type},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Form:","label-for":"form-input"}},[a("b-form-input",{attrs:{id:"form-input",placeholder:"Form name",required:""},model:{value:t.form.form,callback:function(e){t.$set(t.form,"form",e)},expression:"form.form"}})],1)],1)],1),a("b-form-group",{attrs:{label:"Manufacturer:","label-for":"manufacturer-select"}},[a("b-form-select",{attrs:{id:"manufacturer-select",options:t.manufacturerOptions,required:null==t.form.manufacturer},model:{value:t.form.manufacturer,callback:function(e){t.$set(t.form,"manufacturer",e)},expression:"form.manufacturer"}})],1),a("b-form-group",{attrs:{label:"Description:","label-for":"description-textarea"}},[a("b-form-textarea",{attrs:{id:"description-textarea",placeholder:"Enter something...",rows:"3","max-rows":"6",required:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Receipt:","label-for":"receipt-select"}},[a("b-form-select",{attrs:{id:"receipt-select",options:t.receiptOptions},model:{value:t.form.receipt,callback:function(e){t.$set(t.form,"receipt",e)},expression:"form.receipt"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Points:","label-for":"point-input"}},[a("b-form-input",{attrs:{id:"point-input",placeholder:"Number of points",type:"number",required:""},model:{value:t.form.point,callback:function(e){t.$set(t.form,"point",e)},expression:"form.point"}})],1)],1)],1),a("searchable-tags",{attrs:{labelName:"Ingredients",form:t.form,options:t.ingredients,type:"ingredients"}}),a("searchable-tags",{attrs:{labelName:"Substitutions",form:t.form,options:t.substitutions,type:"substitutions"}})],1)},jt=[],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form-group",{attrs:{label:t.labelName+":","label-for":"tags-with-dropdown"}},[a("multiselect",{attrs:{id:"tags-with-dropdown","tag-placeholder":"",placeholder:"Search for ingrediants",label:"name","select-label":"","track-by":"id",options:t.options,multiple:!0,taggable:!0},model:{value:t.form[t.type],callback:function(e){t.$set(t.form,t.type,e)},expression:"form[type]"}})],1)],1)},Ct=[],Pt=a("8e5f"),It=a.n(Pt),Ot={components:{Multiselect:It.a},props:["form","options","labelName","type"],data:function(){return{}}},At=Ot,Mt=(a("60bc"),Object(p["a"])(At,Rt,Ct,!1,null,null,null)),Nt=Mt.exports,Et={name:"DrugForm",components:{SearchableTags:Nt},props:["form"],data:function(){return{receiptOptions:[{value:!1,text:"Doesn't need receipt"},{value:!0,text:"Needs receipt"}],manufacturerOptions:[],drugTypeOptions:[],ingredients:[],substitutions:[]}},methods:{getManufacturers:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/manufacturers").then((function(e){t.manufacturerOptions=e.data.map((function(t){return{value:t,text:t.name}})),t.manufacturerOptions.unshift({value:null,text:"Choose one"})})).catch((function(e){return t.$toastr.e(e)}))},getDrugTypes:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drug-types").then((function(e){t.drugTypeOptions=e.data.map((function(t){return{value:t,text:t.name}})),t.drugTypeOptions.unshift({value:null,text:"Choose one"})})).catch((function(e){return t.$toastr.e(e)}))},getIngredients:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/ingredients").then((function(e){t.ingredients=e.data})).catch((function(e){return t.$toastr.e(e)}))},getSubstitutionDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs").then((function(e){t.substitutions=e.data})).catch((function(e){return t.$toastr.e(e)}))}},mounted:function(){this.getManufacturers(),this.getIngredients(),this.getSubstitutionDrugs(),this.getDrugTypes()}},qt=Et,Ft=Object(p["a"])(qt,$t,jt,!1,null,null,null),Tt=Ft.exports,Vt={name:"AddDrugForm",components:{DrugForm:Tt},data:function(){return{form:{name:"",form:"",receipt:!1,description:"",substitutions:[],ingredients:[],manufacturer:null,type:null,point:0}}},methods:{addDrug:function(t){t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugs",this.form).then((function(t){alert("drug added successfully"),console.log(t)})).catch((function(t){return console.log(t)}))}}},zt=Vt,Ut=Object(p["a"])(zt,Dt,St,!1,null,null,null),Yt=Ut.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"form-container"},[a("b-row",[a("b-col",[a("drug-form",{attrs:{form:t.form}})],1)],1)],1)},Ht=[],Lt={name:"EditDrugForm",components:{DrugForm:Tt},props:["form"],data:function(){return{}},methods:{editDrug:function(t){var e=this;t.preventDefault(),this.$http.put("https://mrs-isa-usijani.herokuapp.com/drugs",this.form).then((function(t){e.$emit("update-drug-success",t.data),e.$toastr.s("Drug edited successfully!")})).catch((function(t){return e.$toastr.e(t)}))}}},Bt=Lt,Gt=Object(p["a"])(Bt,Jt,Ht,!1,null,null,null),Wt=Gt.exports,Qt={name:"AdminDrugTable",components:{AddDrugForm:Yt,EditDrugForm:Wt},data:function(){return{fields:[{key:"name",label:"Name"},{key:"form",label:"Form"},{key:"type.name",label:"Type"},{key:"manufacturer.name",label:"Manufacturer"},{key:"description",label:"Description"},{key:"actions",label:"Actions"}],addModal:{id:"add-modal",title:"Add Drug"},editModal:{id:"edit-modal",title:"",drug:{}},deleteModal:{id:"delete-modal",title:"",drug:{}},drugs:[]}},methods:{showAddModal:function(t){this.$root.$emit("bv::show::modal",this.addModal.id,t)},resetAddModal:function(){},addDrug:function(t){this.$refs["add-drug-form"].addDrug(t)},showEditModal:function(t,e){this.editModal.title="drug: ".concat(t.name),this.editModal.drug=JSON.parse(JSON.stringify(t)),this.$root.$emit("bv::show::modal",this.editModal.id,e)},resetEditModal:function(){this.editModal.title=""},edit:function(t){this.$refs["edit-drug-form"].editDrug(t)},showDeleteModal:function(t,e){this.deleteModal.title="drug: ".concat(t.name),this.deleteModal.drug=JSON.parse(JSON.stringify(t)),this.$root.$emit("bv::show::modal",this.deleteModal.id,e)},resetDeleteModal:function(){this.deleteModal.title=""},deleteDrug:function(){var t=this;this.$http.delete("https://mrs-isa-usijani.herokuapp.com/drugs/".concat(this.deleteModal.drug.id)).then((function(e){var a=t.drugs.findIndex((function(e){return e.id==t.deleteModal.drug.id}));t.drugs.splice(a,1),alert("success",e)})).catch((function(e){return t.$toastr.e(e)}))},getDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs").then((function(e){t.drugs=e.data})).catch((function(e){return t.$toastr.e(e)}))},updateDrugInTable:function(t){var e=this.drugs.findIndex((function(e){return e.id==t.id}));this.$set(this.drugs,e,t),this.$root.$emit("bv::hide::modal",this.editModal.id)}},mounted:function(){this.getDrugs()}},Zt=Qt,Kt=Object(p["a"])(Zt,wt,xt,!1,null,null,null),Xt=Kt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("b-card",[a("b-button-group",{attrs:{vertical:""}},[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(e){return t.showAddModal(e.target,"Supplier")}}},[t._v(" Add Supplier ")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(e){return t.showAddModal(e.target,"DrugstoreAdmin")}}},[t._v(" Add Drugstore Admin ")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(e){return t.showAddModal(e.target,"SystemAdmin")}}},[t._v(" Add System Admin ")])],1)],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-card",[a("b-table",{attrs:{id:"user-table",striped:"",hover:"",items:t.users,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return["SystemAdmin"!=e.item.type?a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showDeleteModal(e.item,a.target)}}},[t._v(" Delete ")]):t._e()]}}])})],1)],1)],1)],1),a("b-modal",{attrs:{id:t.addModal.id,title:t.addModal.title,"ok-only":"",size:"lg"},on:{ok:t.addUser}},[a("add-user-form",{ref:"add-user-form",attrs:{type:t.addModal.type},on:{"added-user":t.handleSuccess}})],1),a("b-modal",{attrs:{id:t.deleteModal.id,title:t.deleteModal.title,"ok-only":"",size:"lg"},on:{ok:t.deleteUser,hide:t.resetDeleteModal}},[t._v(" Are you sure that you want to delete this user? ")])],1)},ee=[],ae=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Name:","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Surname:","label-for":"surname-input"}},[a("b-form-input",{attrs:{id:"surname-input",placeholder:"Enter surname",required:""},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1)],1)],1),a("b-form-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{label:"Email:","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",placeholder:"Enter email address",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{label:"Phone Number:","label-for":"phoneNumber-input"}},[a("b-form-input",{attrs:{id:"phoneNumber-input",placeholder:"Enter phone number",required:""},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Address:","label-for":"address-input"}},[a("b-form-input",{attrs:{id:"address-input",placeholder:"Enter address"},model:{value:t.form.location.address,callback:function(e){t.$set(t.form.location,"address",e)},expression:"form.location.address"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"City:","label-for":"city-input"}},[a("b-form-input",{attrs:{id:"city-input",placeholder:"Enter city"},model:{value:t.form.location.city,callback:function(e){t.$set(t.form.location,"city",e)},expression:"form.location.city"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Country:","label-for":"country-input"}},[a("b-form-input",{attrs:{id:"country-input",placeholder:"Enter country"},model:{value:t.form.location.country,callback:function(e){t.$set(t.form.location,"country",e)},expression:"form.location.country"}})],1)],1)],1),"DrugstoreAdmin"==t.type?a("b-form-group",{attrs:{label:"Drugstore:","label-for":"drugstore-input"}},[a("b-form-select",{attrs:{id:"drugstore-select",options:t.drugstoreOptions},model:{value:t.form.drugstoreId,callback:function(e){t.$set(t.form,"drugstoreId",e)},expression:"form.drugstoreId"}})],1):t._e()],1)}),re=[],ne={name:"AddUserForm",props:["type"],components:{},data:function(){return{form:{name:"",surname:"",email:"",phoneNumber:"",location:{address:"",city:"",country:""},drugstoreId:""},drugstoreOptions:[]}},methods:{addUser:function(t){var e=this;t.preventDefault();var a=JSON.parse(JSON.stringify(this.form));a.type=this.type,this.$http.post("https://mrs-isa-usijani.herokuapp.com/register/",a).then((function(t){console.log(t),alert("New user successfully added."),e.$emit("added-user",a)})).catch((function(t){return console.log(t)}))},getDrugstores:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/").then((function(e){console.log(e.data),t.drugstoreOptions=e.data.map((function(t){return{value:t.id,text:t.name}}))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getDrugstores()}},oe=ne,se=Object(p["a"])(oe,ae,re,!1,null,null,null),ie=se.exports,le={name:"AdminuserTable",components:{AddUserForm:ie},data:function(){return{fields:[{key:"name",label:"Name"},{key:"surname",label:"Surname"},{key:"type",label:"User Type"},{key:"actions",label:"Actions"}],addModal:{id:"add-modal",title:"Add user",type:""},deleteModal:{id:"delete-modal",title:"",user:{}},users:[]}},methods:{handleSuccess:function(t){this.users.push(t)},showAddModal:function(t,e){this.addModal.type=e,this.$root.$emit("bv::show::modal",this.addModal.id,t)},addUser:function(t){this.$refs["add-user-form"].addUser(t)},showDeleteModal:function(t,e){this.deleteModal.title="user: ".concat(t.name),this.deleteModal.user=JSON.parse(JSON.stringify(t)),console.log(this.deleteModal.user),this.$root.$emit("bv::show::modal",this.deleteModal.id,e)},resetDeleteModal:function(){this.deleteModal.title=""},deleteUser:function(){var t=this,e="";"Supplier"==this.deleteModal.user.type?(e="suppliers",console.log("https://mrs-isa-usijani.herokuapp.com/".concat(e,"/").concat(this.deleteModal.user.id)),this.$http.delete("https://mrs-isa-usijani.herokuapp.com/".concat(e,"/").concat(this.deleteModal.user.id)).then((function(e){var a=t.users.findIndex((function(e){return e.id==t.deleteModal.user.id}));t.users.splice(a,1),alert("success",e)})).catch((function(t){return console.log(t)}))):alert("Not yet supported")},getUsers:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/suppliers-and-admins").then((function(e){t.users=e.data})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getUsers()}},ue=le,ce=Object(p["a"])(ue,te,ee,!1,null,null,null),de=ce.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{staticClass:"mt-3"},[a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("drug-order-search",{ref:"drugOrdersSearch",attrs:{perPage:t.perPage,currentPage:t.currentPage},on:{"success-search-results":function(e){return t.drugOrders=e}}})],1),a("b-col",[a("b-card",[0!=t.drugOrders.length?a("b-table",{attrs:{id:"stock-table",striped:"",hover:"",items:t.drugOrders,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showDetailsModal(e.item,a.target)}}},[t._v(" Show details ")])]}}],null,!1,27856858)}):a("div",[a("h3",[t._v("No results")])]),0!=t.drugOrders.length?a("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)],1),a("b-modal",{attrs:{id:t.detailsModal.id,title:t.detailsModal.title,size:"xl"}},[a("b-table",{attrs:{items:t.detailsModal.order.stock,fields:t.stockFields}}),a("div",["Expiered"!=t.detailsModal.order.state?a("b-form",{attrs:{inline:""}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Price:","label-for":"input-2"}},[a("b-form-input",{staticClass:"ml-3",attrs:{id:"input-2",type:"number",placeholder:"Enter price"},model:{value:t.detailsModal.price,callback:function(e){t.$set(t.detailsModal,"price",e)},expression:"detailsModal.price"}})],1),a("b-form-group",{staticClass:"ml-3",attrs:{"invalid-feedback":"date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",required:""},model:{value:t.detailsModal.date,callback:function(e){t.$set(t.detailsModal,"date",e)},expression:"detailsModal.date"}})],1),a("b-form-group",{staticClass:"ml-3",attrs:{"invalid-feedback":"time is required"}},[a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.detailsModal.time,callback:function(e){t.$set(t.detailsModal,"time",e)},expression:"detailsModal.time"}})],1),a("b-button",{staticClass:"ml-3 float-right",attrs:{size:"sm",variant:"outline-hub",id:"offer-button"},on:{click:t.makeOffer}},[t._v(" Make Offer ")])],1):t._e()],1)],1)],1)},me=[],he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{attrs:{title:"Search"}},[a("b-form",{staticClass:"text-left",on:{submit:function(e){return t.submitSearch()}}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Order status:","label-for":"input-1"}},[a("b-form-select",{attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("div",{staticClass:"text-center"},[a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")])],1)],1)],1)],1)},ge=[],fe=(a("841c"),a("ac1f"),{name:"DrugOrderSearch",props:["currentPage","perPage"],watch:{currentPage:function(){this.search()}},components:{},computed:Object(l["a"])({},Object(u["b"])({supplierId:function(t){return t.userModule.loggedInUser.id}})),data:function(){return{selected:"",currentSearchTerm:"",currentPageData:[],nextPageData:[],options:[{value:"Active",text:"Active"},{value:"Expiered",text:"Expiered"},{value:"Successfull",text:"Successfull"}]}},methods:{submitSearch:function(){this.currentSearchTerm=this.selected,this.search()},search:function(){var t=this;1!=this.currentPage?(this.currentPageData=JSON.parse(JSON.stringify(this.nextPageData)),this.$emit("success-search-results",this.currentPageData),this.getNextPage(this.currentPage)):this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-orders/search",{orderStatus:this.currentSearchTerm,drugstoreId:""},{params:{page:this.currentPage-1,size:this.perPage}}).then((function(e){console.log(e.data),t.currentPageData=e.data,t.$emit("success-search-results",t.currentPageData),t.getNextPage(t.currentPage)})).catch((function(e){return t.$toastr.e(e.message)}))},getNextPage:function(t){var e=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-orders/search",{orderStatus:this.currentSearchTerm,drugstoreId:""},{params:{page:t,size:this.perPage}}).then((function(t){e.nextPageData=t.data})).catch((function(t){return e.$toastr.e(t)}))}},mounted:function(){this.submitSearch()}}),be=fe,ve=Object(p["a"])(be,he,ge,!1,null,null,null),ye=ve.exports,ke={name:"DrugOrderTable",components:{DrugOrderSearch:ye},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({supplierId:function(t){return t.userModule.loggedInUser.id}})),{},{rows:function(){return(this.currentPage+1)*this.perPage}}),data:function(){return{drugOrders:[],perPage:5,currentPage:1,detailsModal:{id:"detailsModal",order:{},price:0,date:"",time:"",title:""},stockFields:[{key:"drug.name",label:"Drug"},{key:"amount",label:"Amount"}],fields:[{key:"drugstoreName",label:"Drugstore"},{key:"status",label:"Status"},{key:"deadlineDate",label:"Deadline Date"},{key:"deadlineTime",label:"Deadline Time"},{key:"actions",label:""}]}},methods:{showDetailsModal:function(t,e){this.detailsModal.title="drug: ".concat(t.drugstoreName),this.detailsModal.order=JSON.parse(JSON.stringify(t)),this.$root.$emit("bv::show::modal",this.detailsModal.id,e)},makeOffer:function(){var t=this,e={drugOrderId:this.detailsModal.order.id,price:this.detailsModal.price,status:"Pending",deliveryDate:this.detailsModal.date,deliveryTime:this.detailsModal.time,supplierId:this.supplierId};console.log(this.detailsModal.order),this.$http.post("https://mrs-isa-usijani.herokuapp.com/offers/",e).then((function(e){console.log(e),t.$toastr.s("success-offer")})).catch((function(e){return t.$toastr.e(e.message)}))}}},_e=ke,we=Object(p["a"])(_e,pe,me,!1,null,null,null),xe=we.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{staticClass:"mt-3"},[a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("offer-search",{ref:"offersSearch",attrs:{perPage:t.perPage,currentPage:t.currentPage},on:{"success-search-results":function(e){return t.offers=e}}})],1),a("b-col",[a("b-card",[0!=t.offers.length?a("b-table",{attrs:{id:"stock-table",striped:"",hover:"",items:t.offers,fields:t.fields}}):a("div",[a("h3",[t._v("No results")])]),0!=t.offers.length?a("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)],1)],1)},Se=[],$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{attrs:{title:"Search"}},[a("b-form",{staticClass:"text-left",on:{submit:function(e){return t.submitSearch()}}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Offer status:","label-for":"input-1"}},[a("b-form-select",{attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("div",{staticClass:"text-center"},[a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")])],1)],1)],1)],1)},je=[],Re={name:"OfferSearch",props:["currentPage","perPage"],watch:{currentPage:function(){this.search()}},components:{},computed:Object(l["a"])({},Object(u["b"])({supplierId:function(t){return t.userModule.loggedInUser.id}})),data:function(){return{selected:"",currentSearchTerm:"",currentPageData:[],nextPageData:[],options:[{value:"Accepted",text:"Accepted"},{value:"Pending",text:"Pending"},{value:"Rejected",text:"Rejected"}]}},methods:{submitSearch:function(){this.currentSearchTerm=this.selected,this.search()},search:function(){var t=this;1!=this.currentPage?(this.currentPageData=JSON.parse(JSON.stringify(this.nextPageData)),this.$emit("success-search-results",this.currentPageData),this.getNextPage(this.currentPage)):this.$http.post("https://mrs-isa-usijani.herokuapp.com/offers/search",{offerStatus:this.currentSearchTerm,supplierId:this.supplierId},{params:{page:this.currentPage-1,size:this.perPage}}).then((function(e){console.log(e.data),t.currentPageData=e.data,t.$emit("success-search-results",t.currentPageData),t.getNextPage(t.currentPage)})).catch((function(e){return t.$toastr.e(e.message)}))},getNextPage:function(t){var e=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/offers/search",{offerStatus:this.currentSearchTerm,supplierId:this.supplierId},{params:{page:t,size:this.perPage}}).then((function(t){e.nextPageData=t.data})).catch((function(t){return e.$toastr.e(t)}))}},mounted:function(){this.submitSearch()}},Ce=Re,Pe=Object(p["a"])(Ce,$e,je,!1,null,null,null),Ie=Pe.exports,Oe={name:"OfferTable",components:{OfferSearch:Ie},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({supplierId:function(t){return t.userModule.loggedInUser.id}})),{},{rows:function(){return(this.currentPage+1)*this.perPage}}),data:function(){return{offers:[],perPage:5,currentPage:1,fields:[{key:"price",label:"Price"},{key:"status",label:"Status"},{key:"deliveryDate",label:"Delivery date"},{key:"deliveryTime",label:"Delivery time"}]}},methods:{}},Ae=Oe,Me=Object(p["a"])(Ae,De,Se,!1,null,null,null),Ne=Me.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{cols:"4"}},[a("b-card",[a("edit-configuration-form")],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-card",[a("b-table",{attrs:{id:"categories-table",striped:"",hover:"",items:t.categories,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showEditModal(e.item,a.target)}}},[t._v(" Edit ")])]}}])})],1)],1)],1)],1),a("b-modal",{attrs:{id:t.editModal.id,title:t.editModal.title,"ok-only":"",size:"xl"},on:{ok:t.edit,hide:t.resetEditModal}},[a("edit-patient-category",{attrs:{form:t.editModal.category},on:{"update-category-success":t.getCategories}})],1)],1)},qe=[],Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{on:{submit:t.editConfiguration}},[a("b-form-group",{attrs:{label:"Dermatologists appointment:","label-for":"dermatologist-points-gained-input"}},[a("b-form-input",{attrs:{id:"dermatologist-points-gained-input",type:"number",placeholder:"Enter points",required:""},model:{value:t.form.dermatologistPointsGained,callback:function(e){t.$set(t.form,"dermatologistPointsGained",e)},expression:"form.dermatologistPointsGained"}})],1),a("b-form-group",{attrs:{label:"Pharmacist appointment:","label-for":"pharamcist-points-gained-input"}},[a("b-form-input",{attrs:{id:"name-input",type:"number",placeholder:"Enter points",required:""},model:{value:t.form.pharmacistPointsGained,callback:function(e){t.$set(t.form,"pharmacistPointsGained",e)},expression:"form.pharmacistPointsGained"}})],1),a("b-button",{attrs:{variant:"outline-hub",type:"submit"}},[t._v("Save")])],1)},Te=[],Ve={name:"EditConfigurationForm",data:function(){return{form:{id:1,dermatologistPointsGained:"",pharmacistPointsGained:""}}},methods:{editConfiguration:function(t){t.preventDefault(),this.$http.put("https://mrs-isa-usijani.herokuapp.com/patient-categories/configuration",this.form).then((function(t){alert("Configuration updated successfully"),console.log(t)})).catch((function(t){return console.log(t)}))},getConfiguration:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/patient-categories/configuration").then((function(e){t.form=e.data,console.log(e)})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getConfiguration()}},ze=Ve,Ue=Object(p["a"])(ze,Fe,Te,!1,null,null,null),Ye=Ue.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{on:{submit:t.editConfiguration}},[a("b-form-group",{attrs:{label:"Dermatologists appointment:","label-for":"dermatologist-points-gained-input"}},[a("b-form-input",{attrs:{id:"dermatologist-points-gained-input",type:"number",placeholder:"Enter points",required:""},model:{value:t.form.requieredPoints,callback:function(e){t.$set(t.form,"requieredPoints",e)},expression:"form.requieredPoints"}})],1),a("b-form-group",{attrs:{label:"Pharmacist appointment:","label-for":"pharamcist-points-gained-input"}},[a("b-form-input",{attrs:{id:"name-input",type:"number",placeholder:"Enter discount (%)",required:""},model:{value:t.form.discount,callback:function(e){t.$set(t.form,"discount",e)},expression:"form.discount"}})],1),a("b-button",{attrs:{variant:"outline-hub",type:"submit"}},[t._v("Save")])],1)},He=[],Le={name:"EditPatientCategoryForm",props:["form"],data:function(){return{}},methods:{editConfiguration:function(t){var e=this;t.preventDefault(),this.$http.put("https://mrs-isa-usijani.herokuapp.com/patient-categories/",this.form).then((function(t){e.$emit("update-category-success",t.data),console.log(t)})).catch((function(t){return console.log(t)}))}},mounted:function(){}},Be=Le,Ge=Object(p["a"])(Be,Je,He,!1,null,null,null),We=Ge.exports,Qe={name:"PatientCategoryTable",components:{EditConfigurationForm:Ye,EditPatientCategory:We},data:function(){return{fields:[{key:"name",label:"Full Name"},{key:"requieredPoints",label:"Requiered points"},{key:"discount",label:"Discount"},{key:"actions",label:""}],editModal:{id:"edit-modal",title:"",category:{}},categories:[]}},methods:{showEditModal:function(t,e){this.editModal.title="Patient category: ".concat(t.name),this.editModal.category=JSON.parse(JSON.stringify(t)),console.log(this.editModal.category),this.$root.$emit("bv::show::modal",this.editModal.id,e)},resetEditModal:function(){this.editModal.title=""},edit:function(){var t=this;this.$http.put("https://mrs-isa-usijani.herokuapp.com/patient-categories",this.editModal.category).then((function(e){var a=t.drugstores.findIndex((function(t){return t.id==e.data.id}));t.drugstores.splice(a,1,e.data),alert("success")})).catch((function(t){return console.log(t)}))},getCategories:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/patient-categories").then((function(e){t.categories=e.data})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getCategories()}},Ze=Qe,Ke=Object(p["a"])(Ze,Ee,qe,!1,null,null,null),Xe=Ke.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{staticClass:"mt-3"},[a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("supplier-stock-search",{ref:"supplierStockSearch",attrs:{perPage:t.perPage,currentPage:t.currentPage},on:{"success-search-results":function(e){return t.supplierStocks=e}}}),a("add-supplier-stock",{on:{"add-stock-success":function(){return t.$refs["supplierStockSearch"].search()}}})],1),a("b-col",[a("b-card",[0!=t.supplierStocks.length?a("b-table",{attrs:{id:"stock-table",striped:"",hover:"",items:t.supplierStocks,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showEditModal(e.item,a.target)}}},[t._v(" Edit ")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-hub"},on:{click:function(a){return t.showDeleteModal(e.item,a.target)}}},[t._v(" Delete ")])]}}],null,!1,2683851797)}):a("div",[a("h3",[t._v("No results")])]),0!=t.supplierStocks.length?a("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)],1),a("b-modal",{attrs:{id:t.editModal.id,title:t.editModal.title,"ok-only":"",size:"lg"},on:{ok:t.editStock}},[a("pre",[t._v("        "),a("b-form",[t._v("\n            "),a("b-form-group",{attrs:{id:"input-group-2",label:"Amount:","label-for":"input-2"}},[t._v("\n                "),a("b-form-input",{attrs:{id:"input-2",type:"number",placeholder:"Enter drug amount"},model:{value:t.editModal.stock.amount,callback:function(e){t.$set(t.editModal.stock,"amount",e)},expression:"editModal.stock.amount"}},[t._v("\n                ")]),t._v("\n            ")],1),t._v("\n        ")],1),t._v("\n        ")],1)]),a("b-modal",{attrs:{id:t.deleteModal.id,title:t.deleteModal.title,"ok-only":"",size:"xl"},on:{ok:t.deleteStock}},[t._v(" Are you sure that you want to delete this stock? ")])],1)},ea=[],aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"mt-3"},[a("b-form",{staticClass:"text-left",on:{submit:t.add}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Drug:","label-for":"input-1"}},[a("multiselect",{attrs:{"track-by":"id",label:"name",placeholder:"Select one",options:t.drugs,searchable:!0,"allow-empty":!1,"select-label":""},model:{value:t.form.drug,callback:function(e){t.$set(t.form,"drug",e)},expression:"form.drug"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:"Amount:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",type:"number",placeholder:"Enter drug amount"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),a("div",{staticClass:"text-center"},[a("b-button",{attrs:{type:"submit",size:"sm",variant:"outline-hub"}},[t._v(" Add To Stock ")])],1)],1)],1)},ra=[],na={name:"SupplierStockTable",components:{Multiselect:It.a},computed:Object(l["a"])({},Object(u["b"])({supplierId:function(t){return t.userModule.loggedInUser.id}})),data:function(){return{form:{drug:"",amount:0},drugs:[]}},methods:{getDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs/").then((function(e){t.drugs=e.data})).catch((function(e){return t.$toastr.e(e)}))},add:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/supplier-stocks/",{supplierId:this.supplierId,drugId:this.form.drug.id,drugName:this.form.drug.name,id:"",amount:this.form.amount}).then((function(e){t.$emit("add-stock-success",e.data)})).catch((function(e){return t.$toastr.e(e.message)}))}},mounted:function(){this.getDrugs()}},oa=na,sa=Object(p["a"])(oa,aa,ra,!1,null,null,null),ia=sa.exports,la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{attrs:{title:"Search"}},[a("b-form",{staticClass:"text-left",on:{submit:function(e){return t.submitSearch()}}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Drug name:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter drug name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"text-center"},[a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")])],1)],1)],1)],1)},ua=[],ca={name:"SupplierStockSearch",props:["currentPage","perPage"],watch:{currentPage:function(){this.search()}},components:{},computed:Object(l["a"])({},Object(u["b"])({supplierId:function(t){return t.userModule.loggedInUser.id}})),data:function(){return{name:"",currentSearchTerm:"",currentPageData:[],nextPageData:[]}},methods:{submitSearch:function(){this.currentSearchTerm=this.name,this.search()},search:function(){var t=this;1!=this.currentPage?(this.currentPageData=JSON.parse(JSON.stringify(this.nextPageData)),this.$emit("success-search-results",this.currentPageData),this.getNextPage(this.currentPage)):this.$http.post("https://mrs-isa-usijani.herokuapp.com/supplier-stocks/search",{drugName:this.currentSearchTerm,supplierId:this.supplierId},{params:{page:this.currentPage-1,size:this.perPage}}).then((function(e){console.log(e.data),t.currentPageData=e.data,t.$emit("success-search-results",t.currentPageData),t.getNextPage(t.currentPage)})).catch((function(e){return t.$toastr.e(e.message)}))},getNextPage:function(t){var e=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/supplier-stocks/search",{drugName:this.currentSearchTerm,supplierId:this.supplierId},{params:{page:t,size:this.perPage}}).then((function(t){e.nextPageData=t.data})).catch((function(t){return e.$toastr.e(t)}))}},mounted:function(){this.submitSearch()}},da=ca,pa=Object(p["a"])(da,la,ua,!1,null,null,null),ma=pa.exports,ha={name:"SupplierStockTable",components:{SupplierStockSearch:ma,AddSupplierStock:ia},computed:{rows:function(){return(this.currentPage+1)*this.perPage}},data:function(){return{supplierStocks:[],perPage:5,currentPage:1,fields:[{key:"drugName",label:"Drug"},{key:"amount",label:"Amount"},{key:"actions",label:""}],deleteModal:{id:"deleteModal",title:"",stock:{}},editModal:{id:"editModal",title:"",stock:{}}}},methods:{showEditModal:function(t,e){this.editModal.title="drug: ".concat(t.drugName),this.editModal.stock=JSON.parse(JSON.stringify(t)),this.$root.$emit("bv::show::modal",this.editModal.id,e)},editStock:function(){var t=this;this.$http.put("https://mrs-isa-usijani.herokuapp.com/supplier-stocks/",this.editModal.stock).then((function(){t.$refs["supplierStockSearch"].search()})).catch((function(e){return t.$toastr.e(e)}))},showDeleteModal:function(t,e){this.deleteModal.title="Drug stock: ".concat(t.drugName),this.deleteModal.stock=JSON.parse(JSON.stringify(t)),this.$root.$emit("bv::show::modal",this.deleteModal.id,e)},deleteStock:function(){var t=this;this.$http.delete("https://mrs-isa-usijani.herokuapp.com/supplier-stocks/".concat(this.deleteModal.stock.id)).then((function(){t.$refs["supplierStockSearch"].search()})).catch((function(e){return t.$toastr.e(e)}))}}},ga=ha,fa=Object(p["a"])(ga,ta,ea,!1,null,null,null),ba=fa.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{"margin-top":"3rem"},attrs:{id:"appinfo"}},[a("h1",[t._v("Absence request")]),a("b-form",{on:{submit:t.createRequest}},[a("b-form-group",{attrs:{label:"Start date:","label-for":"date-picker","invalid-feedback":"Start date is required"}},[a("b-form-datepicker",{attrs:{id:"startdate-input",min:t.minDate,required:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("b-form-group",{attrs:{label:"End date:","label-for":"date-picker","invalid-feedback":"End date is required"}},[a("b-form-datepicker",{attrs:{id:"enddate-input",min:t.minDate,required:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("b-col",{staticStyle:{"text-align":"center"}},[a("label",{attrs:{for:"reason"}},[a("h6",[t._v("Reason:")])]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticStyle:{resize:"none"},attrs:{id:"reason",name:"reason",rows:"10",cols:"50",required:""},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}})]),a("br"),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Create request")])],1)],1)},ya=[],ka={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{minDate:a,startDate:null,endDate:null,reason:""}},methods:{createRequest:function(t){if(t.preventDefault(),null!=this.startDate)if(null!=this.endDate)if(Date.parse(this.startDate)>Date.parse(this.endDate))alert("End date must be after start date!");else{var e={startDate:this.startDate,endDate:this.endDate,reason:this.reason,employeeId:this.user.id};this.$http.post("https://mrs-isa-usijani.herokuapp.com/absence-request/create",JSON.parse(JSON.stringify(e))).then((function(t){alert(t.data)}))}else alert("Please input an end date!");else alert("Please input a start date!")}}},_a=ka,wa=Object(p["a"])(_a,va,ya,!1,null,null,null),xa=wa.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{width:"40%"},attrs:{"align-h":"center"}},[a("h1",[t._v(" Add dermatologist form ")]),a("b-row",[a("b-col",[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{label:"Name:","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"Surname:","label-for":"surname-input"}},[a("b-form-input",{attrs:{id:"surname-input",placeholder:"Enter surname",required:""},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1),a("b-form-group",{attrs:{label:"Email:","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",placeholder:"Enter email address",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{attrs:{label:"Phone Number:","label-for":"phoneNumber-input"}},[a("b-form-input",{attrs:{id:"phoneNumber-input",placeholder:"Enter phone number",required:""},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1),a("div",{staticStyle:{"margin-top":"50px","margin-bottom":"50px"}},[a("b-form-group",{attrs:{label:"Address:","label-for":"address-input"}},[a("b-form-input",{attrs:{id:"address-input",placeholder:"Enter address"},model:{value:t.form.location.address,callback:function(e){t.$set(t.form.location,"address",e)},expression:"form.location.address"}})],1),a("b-form-group",{attrs:{label:"City:","label-for":"city-input"}},[a("b-form-input",{attrs:{id:"city-input",placeholder:"Enter city"},model:{value:t.form.location.city,callback:function(e){t.$set(t.form.location,"city",e)},expression:"form.location.city"}})],1),a("b-form-group",{attrs:{label:"Country:","label-for":"country-input"}},[a("b-form-input",{attrs:{id:"country-input",placeholder:"Enter country"},model:{value:t.form.location.country,callback:function(e){t.$set(t.form.location,"country",e)},expression:"form.location.country"}})],1)],1),a("b-form-group",{staticStyle:{display:"inline-block"},attrs:{label:"Working hours:","label-for":"workingHours-input"}},[a("div",{staticStyle:{float:"left",margin:"20px"}},[a("b",{staticStyle:{clear:"right"}},[t._v("From:")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.form.workingHoursFrom,callback:function(e){t.$set(t.form,"workingHoursFrom",e)},expression:"form.workingHoursFrom"}})],1),a("div",{staticStyle:{float:"left",margin:"20px"}},[a("b",[t._v("To:")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.form.workingHoursTo,callback:function(e){t.$set(t.form,"workingHoursTo",e)},expression:"form.workingHoursTo"}})],1)]),a("div",{staticStyle:{margin:"25px"}},[a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"outline-hub"}},[t._v("Reset")])],1)],1)],1)],1)],1)},Sa=[],$a={name:"AddDermatologistForm",components:{},data:function(){return{form:{name:"",surname:"",email:"",phoneNumber:"",location:{address:"",city:"",country:""},workingHoursFrom:"",workingHoursTo:"",type:"Dermatologist"}}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/employment/dermatologist/",JSON.parse(JSON.stringify(this.form))).then((function(t){console.log(t),alert("New dermatologist successfully added."),e.$router.push("employeesOverview")})).catch((function(t){return console.log(t)}))}}},ja=$a,Ra=Object(p["a"])(ja,Da,Sa,!1,null,null,null),Ca=Ra.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("drugstore-basic-info",{attrs:{form:t.drugstore,mode:"add"}}),a("b-button",{staticStyle:{margin:"30px",width:"25%"},attrs:{type:"submit",variant:"outline-hub",size:"lg"},on:{click:t.submitHandler}},[t._v("Save")])],1)},Ia=[],Oa={components:{DrugstoreBasicInfo:mt},data:function(){return{drugstore:{name:"",description:"",location:{address:"",city:"",country:""},workingHoursFrom:"",workingHoursTo:"",pharmacistAppointmentPrice:null,point:{longitude:null,latitude:null}}}},methods:{submitHandler:function(){this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugstores",this.drugstore).then((function(t){console.log(t),alert("Successfully added drugstore")})).catch((function(t){return console.log(t)}))}}},Aa=Oa,Ma=Object(p["a"])(Aa,Pa,Ia,!1,null,null,null),Na=Ma.exports,Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{width:"40%"},attrs:{"align-h":"center"}},[a("h1",[t._v(" Add pharmacist form ")]),a("b-row",[a("b-col",[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{label:"Name:","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"Surname:","label-for":"surname-input"}},[a("b-form-input",{attrs:{id:"surname-input",placeholder:"Enter surname",required:""},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1),a("b-form-group",{attrs:{label:"Email:","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",placeholder:"Enter email address",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{attrs:{label:"Phone Number:","label-for":"phoneNumber-input"}},[a("b-form-input",{attrs:{id:"phoneNumber-input",placeholder:"Enter phone number",required:""},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1),a("div",{staticStyle:{"margin-top":"50px","margin-bottom":"50px"}},[a("b-form-group",{attrs:{label:"Address:","label-for":"address-input"}},[a("b-form-input",{attrs:{id:"address-input",placeholder:"Enter address"},model:{value:t.form.location.address,callback:function(e){t.$set(t.form.location,"address",e)},expression:"form.location.address"}})],1),a("b-form-group",{attrs:{label:"City:","label-for":"city-input"}},[a("b-form-input",{attrs:{id:"city-input",placeholder:"Enter city"},model:{value:t.form.location.city,callback:function(e){t.$set(t.form.location,"city",e)},expression:"form.location.city"}})],1),a("b-form-group",{attrs:{label:"Country:","label-for":"country-input"}},[a("b-form-input",{attrs:{id:"country-input",placeholder:"Enter country"},model:{value:t.form.location.country,callback:function(e){t.$set(t.form.location,"country",e)},expression:"form.location.country"}})],1)],1),a("b-form-group",{staticStyle:{display:"inline-block"},attrs:{label:"Working hours:","label-for":"workingHours-input"}},[a("div",{staticStyle:{float:"left",margin:"20px"}},[a("b",{staticStyle:{clear:"right"}},[t._v("From:")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.form.workingHoursFrom,callback:function(e){t.$set(t.form,"workingHoursFrom",e)},expression:"form.workingHoursFrom"}})],1),a("div",{staticStyle:{float:"left",margin:"20px"}},[a("b",[t._v("To:")]),a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.form.workingHoursTo,callback:function(e){t.$set(t.form,"workingHoursTo",e)},expression:"form.workingHoursTo"}})],1)]),a("div",{staticStyle:{margin:"25px"}},[a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"outline-hub"}},[t._v("Reset")])],1)],1)],1)],1)],1)},qa=[],Fa={name:"AddPharmacistForm",components:{},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{form:{name:"",surname:"",email:"",phoneNumber:"",location:{address:"",city:"",country:""},workingHoursFrom:"",workingHoursTo:"",type:"Pharmacist",drugstore:{}}}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),console.log(this.form),this.$http.post("https://mrs-isa-usijani.herokuapp.com/employees/pharmacist",JSON.parse(JSON.stringify(this.form))).then((function(t){console.log(t),alert("New pharmacist successfully added."),e.$router.push("employeesOverview")})).catch((function(t){return console.log(t)}))},getDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.form.drugstore=e.data})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getDrugstore()}},Ta=Fa,Va=Object(p["a"])(Ta,Ea,qa,!1,null,null,null),za=Va.exports,Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{"margin-top":"3rem"},attrs:{id:"appinfo"}},[a("b-row",[a("b-col",{staticStyle:{"text-align":"left"}},[a("h1",[t._v("Appointment info")]),a("h2",[t._v("Drugstore: "+t._s(t.currentAppointment.drugstore.name))]),a("h2",[t._v("Patient: "+t._s(t.currentAppointment.patient.name)+" "+t._s(t.currentAppointment.patient.surname))]),a("h2",[t._v("Dermatologist: "+t._s(t.currentAppointment.dermatologist.name))]),a("h2",[t._v("Duration: "+t._s(t.currentAppointment.duration)+" minutes")])]),a("b-col",{staticStyle:{"text-align":"center"}},[a("label",{attrs:{for:"diagnosis"}},[a("h3",[t._v("Diagnosis:")])]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentAppointment.appointmentReport,expression:"currentAppointment.appointmentReport"}],staticStyle:{resize:"none"},attrs:{id:"diagnosis",name:"diagnosis",rows:"10",cols:"50"},domProps:{value:t.currentAppointment.appointmentReport},on:{input:function(e){e.target.composing||t.$set(t.currentAppointment,"appointmentReport",e.target.value)}}})])],1),a("b-row",{staticStyle:{"margin-top":"140px"}},[a("b-col",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.showReserveModal}},[t._v("Reserve drug")])],1),a("b-col",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.showAppointmentModal}},[t._v("New appointment")])],1),a("b-col",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.endAppointment}},[t._v("End appointment")])],1)],1),a("b-modal",{attrs:{id:"appointmentmodal",size:"xl",title:"New appointment","hide-footer":""}},[a("h1",[t._v("Available appointments")]),t.appointments.length>0?a("b-table",{attrs:{items:t.appointments,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.createReservation(e.item,e.index,a.target)}}},[t._v(" Reserve ")]):t._e()]}}],null,!1,994490421)}):t._e(),0==t.appointments.length?a("h1",[t._v("No dermatology appointments available")]):t._e(),a("hr"),a("h1",[t._v("Create appointment")]),a("b-form",[a("b-form-group",{attrs:{label:"Appointment date","label-for":"date-picker","invalid-feedback":"Appointment date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",min:t.minDate,required:""},model:{value:t.inputValues.date,callback:function(e){t.$set(t.inputValues,"date",e)},expression:"inputValues.date"}})],1),a("b-form-group",{attrs:{label:"Appointment time","label-for":"time-picker","invalid-feedback":"Appointment time is required"}},[a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.inputValues.time,callback:function(e){t.$set(t.inputValues,"time",e)},expression:"inputValues.time"}})],1),a("b-form-group",{attrs:{label:"Appointment duration(in minutes)","label-for":"duration-picker","invalid-feedback":"Appointment duration is required"}},[a("b-form-input",{attrs:{id:"duration-input",type:"number",required:""},model:{value:t.inputValues.duration,callback:function(e){t.$set(t.inputValues,"duration",e)},expression:"inputValues.duration"}})],1),a("b-form-group",{attrs:{label:"Appointment price(in RSD)","label-for":"price-picker","invalid-feedback":"Appointment price is required"}},[a("b-form-input",{attrs:{id:"price-input",type:"number",required:""},model:{value:t.inputValues.price,callback:function(e){t.$set(t.inputValues,"price",e)},expression:"inputValues.price"}})],1),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.addNewApointment}},[t._v("Save")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1),a("b-modal",{attrs:{id:"reservemodal",size:"xl",title:"Reserve a drug","hide-footer":""}},[a("h1",[t._v("Drugs")]),a("DrugTable",{attrs:{align:"center",passedDrugstoreId:t.currentAppointment.drugstore.id,passedPatientId:t.currentAppointment.patient.id,passedAppointmentId:t.currentAppointment.id,passedCheck:t.derm}})],1)],1)},Ya=[],Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{cols:"4"}},[a("b-card",[a("b-card",{staticStyle:{border:"none"}},[a("img",{staticClass:"center img-fluid w-10",attrs:{width:"100",height:"100",src:"static/pharmacy.png",alt:"image slot"}})]),a("b-form",{on:{submit:t.searchDrugs}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Drug name:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter drug name"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Drug type:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",placeholder:"Choose a drug type",options:t.drugTypeOptions},model:{value:t.searchForm.type,callback:function(e){t.$set(t.searchForm,"type",e)},expression:"searchForm.type"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Drug form:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter a drug form"},model:{value:t.searchForm.form,callback:function(e){t.$set(t.searchForm,"form",e)},expression:"searchForm.form"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Drug manufacturer:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.manufacturerOptions},model:{value:t.searchForm.manufacturerId,callback:function(e){t.$set(t.searchForm,"manufacturerId",e)},expression:"searchForm.manufacturerId"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Receipt needed:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.receiptOptions},model:{value:t.searchForm.receipt,callback:function(e){t.$set(t.searchForm,"receipt",e)},expression:"searchForm.receipt"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")]),a("br"),a("br")],1)],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-card",[a("b-table",{attrs:{"head-variant":"outline-hub",striped:"",hover:"",fields:t.fields,items:t.drugs,"sticky-header":"400px"},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item&&null==t.passedPatientId?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm",disabled:t.employee.penaltyCounter>=3},on:{click:function(a){return t.getDrugstores(e.item,e.index,a.target)}}},[t._v(" Reserve ")]):t._e(),e.item&&null!=t.passedPatientId?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.getDrugstores(e.item,e.index,a.target)}}},[t._v(" Reserve ")]):t._e()]}},{key:"cell(rateAction)",fn:function(e){return[e.item&&null==t.passedPatientId?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showModal(e.item,e.index,a.target)}}},[t._v(" Rate drug ")]):t._e()]}}])}),a("b-pagination",{attrs:{"per-page":"3","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t.reserved?a("b-card",{staticClass:"mt-3"},[a("drug-reservation",{attrs:{selecteddrug:t.selectedDrug,reserved:t.reserved,drugstores:t.drugstores,patientId:t.patientId,passedDrugstoreId:t.passedDrugstoreId,drugSubstitutions:t.drugSubstitutions,appointmentId:t.passedAppointmentId,check:t.passedCheck}}),0==t.drugs.length?a("h1",[t._v(" There are no drugs that fit the search parameters ")]):t._e()],1):t._e()],1)],1),a("b-modal",{attrs:{id:"my-modalR",title:"Rate drug","hide-footer":""}},[a("b-form",{on:{submit:t.saveRating}},[t.canRate?a("label",{staticStyle:{margin:"20px"}},[a("b",[t._v("Rate us: ")])]):t._e(),t.canRate?a("b-form-rating",{attrs:{id:"rate",inline:"",value:"userRating"},model:{value:t.userRating,callback:function(e){t.userRating=e},expression:"userRating"}}):t._e(),0==t.canRate?a("label",{staticStyle:{margin:"20px"}},[a("b",[t._v("Rate us: ")])]):t._e(),0==t.canRate?a("b-form-rating",{attrs:{id:"cant-rate",inline:"",disabled:"",value:"2.75"}}):t._e(),a("br"),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1),a("b-modal",{attrs:{id:"my-modal1",title:"Almost done!","hide-footer":""}},[a("p",[t._v("Before you finish the reservation process you must select the date to wait for your order")]),a("b-form",{on:{submit:t.makeReservation}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.minDate,id:"example-datepicker"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("br"),a("p",[t._v("Now choose how much you want")]),a("b-form-input",{attrs:{value:1,min:1,type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("br"),a("p",[t._v("Duration of therapy (in days):")]),a("b-form-input",{attrs:{value:1,min:1,type:"number"},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}}),a("br"),a("b-button",{attrs:{disabled:""==t.date||""==t.amount,type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1)],1)},Ha=[],La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[t.patientId==t.user.id?[1==t.reserved?a("h1",[t._v("Drug: "+t._s(t.selecteddrug.name))]):t._e(),0==t.drugstores.length&1==t.reserved?a("h1",[t._v("Sorry, there are no pharmacies with that drug in stock :(")]):t._e(),0!=t.drugstores.length?a("b-table",{attrs:{striped:"",hover:"",fields:t.drugstoreFields,items:t.drugstores},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showModal(e.item,e.index,a.target)}}},[t._v(" Choose pharmacy ")]):t._e()]}}],null,!1,3305025281)}):t._e(),a("b-modal",{attrs:{id:"my-modal",title:"Almost done!","hide-footer":""}},[a("p",[t._v("Before you finish the reservation process you must select the date to wait for your order")]),a("b-form",{on:{submit:t.makeReservation}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.minDate,id:"example-datepicker"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("br"),a("p",[t._v("Now choose how much you want")]),a("b-form-input",{attrs:{value:1,min:1,type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("br"),a("b-button",{attrs:{disabled:""==t.date||""==t.amount,type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1)]:[0==t.drugstores.length&1==t.reserved?a("h1",[t._v("Sorry, the selected drug is not on stock in this pharmacy :( Substitutes: ")]):t._e(),0==t.drugstores.length?a("b-table",{attrs:{striped:"",hover:"",fields:t.drugFields,items:t.drugSubstitutions},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showSubstituteModal(e.item,e.index,a.target)}}},[t._v(" Reserve ")]):t._e()]}}],null,!1,2765505979)}):t._e(),a("b-modal",{attrs:{id:"my-modal",title:"Almost done!","hide-footer":""}},[a("p",[t._v("Before you finish the reservation process you must select the date to wait for your order")]),a("b-form",{on:{submit:t.makeReservationEmployee}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.minDate,id:"example-datepicker"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("p",[t._v("Now choose how much you want")]),a("b-form-input",{attrs:{value:1,min:1,type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("br"),a("p",[t._v("Duration of therapy (in days):")]),a("b-form-input",{attrs:{value:1,min:1,type:"number"},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}}),a("br"),a("b-button",{attrs:{disabled:""==t.date||""==t.amount,type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1)]],2)},Ba=[],Ga={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}})),props:["drugstores","reserved","selecteddrug","patientId","passedDrugstoreId","appointmentId","check"],data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{amount:"",minDate:a,drugstoreId:"",date:"",drugSubstitutions:[],drugstoreFields:[{key:"name"},{key:"address"},{key:"city"},{key:"rating"},{key:"actions",label:""}],drugFields:[{key:"name"},{key:"form"},{key:"type"},{key:"receipt"},{key:"manufacturer"},{key:"actions",label:""}],duration:""}},methods:{showModal:function(t){this.drugstoreId=t.id,this.$root.$emit("bv::show::modal","my-modal")},showSubstituteModal:function(t){this.selecteddrug.id=t.id,this.drugstoreId=this.passedDrugstoreId,this.$root.$emit("bv::show::modal","my-modal")},makeReservation:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugReservation/saveReservation",{patientId:this.patientId,drugstoreId:this.drugstoreId,drugId:this.selecteddrug.id,date:this.date,amount:this.amount}).then((function(e){alert(e.data),t.$root.$emit("bv::hide::modal","my-modal")})).catch((function(t){return console.log(t)}))},makeReservationEmployee:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugReservation/saveReservationEmployee",{patientId:this.patientId,drugstoreId:this.drugstoreId,drugId:this.selecteddrug.id,date:this.date,amount:this.amount,duration:this.duration,appointmentId:this.appointmentId,check:this.check}).then((function(e){alert(e.data),t.$root.$emit("bv::hide::modal","my-modal1")})).catch((function(t){return console.log(t)}))}},mounted:function(){var t=this;null!=this.passedDrugstoreId&&this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs/substitutionsDrugstore",{params:{drugId:this.selecteddrug.id,drugstoreId:this.passedDrugstoreId,patientId:this.patientId}}).then((function(e){t.drugSubstitutions=e.data.map((function(t){return{id:t.id,name:t.name,form:t.form,type:t.type.name,receipt:t.receipt?"Yes":"No",manufacturer:t.manufacturer.name}}))})).catch((function(t){return console.log(t)}))}},Wa=Ga,Qa=Object(p["a"])(Wa,La,Ba,!1,null,null,null),Za=Qa.exports,Ka={name:"DrugTable",components:{DrugReservation:Za},props:{passedDrugstoreId:String,passedPatientId:String,passedAppointmentId:String,passedCheck:String},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}})),watch:{currentPage:function(){this.suppress?this.suppress=!1:this.getDrugs()}},data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{amount:"",minDate:a,userRating:"1",canRate:!1,reserved:0,drugstores:[],drugSubstitutions:[],date:"",searchForm:{name:"",type:"",form:"",manufacturerId:"",receipt:""},fields:[{key:"name"},{key:"form"},{key:"type"},{key:"receipt"},{key:"manufacturer"},{key:"actions",label:""},{key:"rateAction",label:""}],receiptOptions:[{value:null,text:"Both"},{value:!0,text:"Yes"},{value:!1,text:"No"}],drugReservations:[],selectedDrug:null,drugs:[],drugType:[],manufacturerOptions:[],drugTypeOptions:[],ingrediants:[],substitutions:[],currentPage:1,suppress:!1,currentSearch:{},patientId:"",selectedDrugId:"",rows:0,appointmentId:"",check:"",duration:""}},methods:{saveRating:function(){return!0},showModal:function(t){if(null!=this.user){var e;this.getDrugReservations(),this.selecteddrug=t.id;var a=1;for(e=0;e<this.drugReservations.length;e++)this.drugReservations[e].drug==t.name&&(this.canRate=!0,a=0);1==a&&(this.canRate=!1),this.$root.$emit("bv::show::modal","my-modalR")}else alert("You must be logged in to rate a drug!")},makeReservation:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugReservation/saveReservationEmployee",{patientId:this.patientId,drugstoreId:this.drugstoreId,drugId:this.selectedDrugId,date:this.date,amount:this.amount,duration:this.duration,appointmentId:this.appointmentId,check:this.check}).then((function(e){alert(e.data),t.$root.$emit("bv::hide::modal","my-modal1")})).catch((function(t){return console.log(t)}))},getDrugReservations:function(){var t=this;null!=this.user&&this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugReservation/getPatientReservations",{params:{patientId:this.user.id}}).then((function(e){t.drugReservations=e.data.map((function(t){return{id:t.id,drug:t.drug.name,drugstore:t.drugstore.name,date:t.date}}))})).catch((function(t){return console.log(t)}))},getDrugstores:function(t){var e=this;null!=this.user?(null==this.passedPatientId?this.patientId=this.user.id:this.patientId=this.passedPatientId,this.selectedDrug={id:t.id,name:t.name,type:t.type},this.reserved=1,null==this.passedDrugstoreId?this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/reserve",{params:{drugId:t.id}}).then((function(t){e.drugstores=t.data.map((function(t){return{id:t.drugstore.id,name:t.drugstore.name,address:t.drugstore.location.address,city:t.drugstore.location.city,rating:t.drugstore.averageRating}}))})):this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/reserveEmployee",{params:{drugId:t.id,drugstoreId:this.passedDrugstoreId}}).then((function(a){e.drugstores=a.data.map((function(t){return{id:t.drugstore.id,name:t.drugstore.name,address:t.drugstore.location.address,city:t.drugstore.location.city,rating:t.drugstore.averageRating}})),0!=e.drugstores.length&&(e.selectedDrugId=t.id,e.drugstoreId=e.passedDrugstoreId,e.patientId=e.passedPatientId,e.check=e.passedCheck,e.appointmentId=e.passedAppointmentId,e.$root.$emit("bv::show::modal","my-modal1"))}))):alert("You must be logged in to reserve a drug!")},getLength:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugs/searchLength",this.currentSearch).then((function(e){t.rows=e.data})).catch((function(t){return console.log(t)}))},searchDrugs:function(){this.currentSearch=JSON.parse(JSON.stringify(this.searchForm)),this.getDrugs()},getDrugs:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugs/search?page=".concat(this.currentPage-1,"&size=3"),this.currentSearch).then((function(e){t.getLength(),e.data.length,t.drugs=t.mapDrugs(e)})).catch((function(t){return console.log(t)}))},getManufacturers:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/manufacturers").then((function(e){t.manufacturerOptions=e.data.map((function(t){return{value:t.id,text:t.name}}))})).catch((function(t){return console.log(t)}))},getDrugTypes:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drug-types").then((function(e){t.drugTypeOptions=e.data.map((function(t){return{value:t.name,text:t.name}}))})).catch((function(t){return console.log(t)}))},getIngrediants:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/ingredients").then((function(e){t.ingrediants=e.data})).catch((function(t){return console.log(t)}))},getSubstitutionDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs").then((function(e){t.substitutions=e.data})).catch((function(t){return console.log(t)}))},mapDrugs:function(t){return t.data.map((function(t){return{id:t.id,name:t.name,form:t.form,type:t.type.name,receipt:t.receipt?"Yes":"No",manufacturer:t.manufacturer.name,substitutions:t.substitutions&&0!=t.substitutions.length?t.substitutions.map((function(t){return t.name})).join(", "):"No substitute",ingredients:t.ingredients.map((function(t){return t.name})).join(", ")}}))},getEmployee:function(){var t=this;null!=this.user?this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/id",{params:{patientId:this.user.id}}).then((function(e){t.employee=e.data,console.log(t.employee.penaltyCounter)})).catch((function(t){return console.log(t)})):this.employee="not logged in"}},mounted:function(){this.getEmployee(),this.getDrugReservations(),this.getManufacturers(),this.getIngrediants(),this.getSubstitutionDrugs(),this.getDrugTypes(),this.searchDrugs()}},Xa=Ka,tr=Object(p["a"])(Xa,Ja,Ha,!1,null,null,null),er=tr.exports,ar={name:"AppointmentDermatologist",props:{passedId:String},components:{DrugTable:er},data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{derm:"derm",currentAppointment:{},minDate:a,appointments:[],fields:[{key:"dermatologist"},{key:"drugstore"},{key:"date"},{key:"time"},{key:"duration"},{key:"actions",label:""}],inputValues:{dermatologistId:"",drugstoreId:"",date:"",time:"",duration:"",patientId:"",price:0}}},methods:{endAppointment:function(){var t=this;this.currentAppointment.id=this.passedId?this.passedId:"4a73ae19-2001-450a-a050-85f51717ab76",this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/end-appointment",{params:{dermatologistAppointmentId:this.currentAppointment.id,appointmentReport:this.currentAppointment.appointmentReport}}).then((function(e){t.currentAppointment=e.data,t.$router.push({name:"Schedule"})}))},beginAppointment:function(){var t=this;this.currentAppointment.id=this.passedId?this.passedId:"4a73ae19-2001-450a-a050-85f51717ab76",this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/begin-appointment",{params:{dermatologistAppointmentId:this.currentAppointment.id}}).then((function(e){t.currentAppointment=e.data}))},showAppointmentModal:function(){this.getAllAppointments(),this.$root.$emit("bv::show::modal","appointmentmodal")},showReserveModal:function(){this.$root.$emit("bv::show::modal","reservemodal")},getAllAppointments:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/available",{params:{drugstoreId:this.currentAppointment.drugstore.id,dermatologistId:this.currentAppointment.dermatologist.id}}).then((function(e){t.appointments=e.data.map((function(t){return{appointmentId:t.id,dermatologist:t.dermatologist.name,drugstore:t.drugstore.name,date:t.date.substring(0,10),time:t.time,duration:t.duration,patient:t.patient?t.patient.name:"Available"}}))}))},handleClose:function(){this.$root.$emit("bv::hide::modal","appointmentmodal")},addNewApointment:function(t){t.preventDefault(),this.inputValues.drugstoreId=this.currentAppointment.drugstore.id,this.inputValues.patientId=this.currentAppointment.patient.id,this.inputValues.dermatologistId=this.currentAppointment.dermatologist.id,this.$http.post("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/with-patient",JSON.parse(JSON.stringify(this.inputValues))).then((function(t){console.log(t),alert("New appointment is successfully created.")})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","appointmentmodal")},createReservation:function(t){var e=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/reserveAppointment",{params:{drugstoreId:this.currentAppointment.drugstore.id,patientId:this.currentAppointment.patient.id,appointmentId:t.appointmentId}}).then((function(t){e.appointments=t.data.map((function(t){return{appointmentId:t.id,dermatologist:t.dermatologist.name,drugstore:t.drugstore.name,date:t.date.substring(0,10),time:t.time,duration:t.duration,patient:t.patient?t.patient.name:"Available"}}))})),this.$root.$emit("bv::hide::modal","appointmentmodal")}},mounted:function(){this.beginAppointment()}},rr=ar,nr=Object(p["a"])(rr,Ua,Ya,!1,null,null,null),or=nr.exports,sr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{"margin-top":"3rem"},attrs:{id:"appinfo"}},[a("b-row",[a("b-col",{staticStyle:{"text-align":"left"}},[a("h1",[t._v("Appointment info")]),a("h2",[t._v("Drugstore: "+t._s(t.currentAppointment.pharmacist.drugstore.name)+" ")]),a("h2",[t._v("Patient: "+t._s(t.currentAppointment.patient.name)+" ")]),a("h2",[t._v("Pharmacist: "+t._s(t.currentAppointment.pharmacist.name)+" ")]),a("h2",[t._v("Duration: "+t._s(t.currentAppointment.duration)+" minutes")])]),a("b-col",{staticStyle:{"text-align":"center"}},[a("label",{attrs:{for:"diagnosis"}},[a("h3",[t._v("Diagnosis:")])]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentAppointment.appointmentReport,expression:"currentAppointment.appointmentReport"}],staticStyle:{resize:"none"},attrs:{id:"diagnosis",name:"diagnosis",rows:"10",cols:"50"},domProps:{value:t.currentAppointment.appointmentReport},on:{input:function(e){e.target.composing||t.$set(t.currentAppointment,"appointmentReport",e.target.value)}}})])],1),a("b-row",{staticStyle:{"margin-top":"140px"}},[a("b-col",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.showReserveModal}},[t._v("Reserve drug")])],1),a("b-col",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.showAppointmentModal}},[t._v("New appointment")])],1),a("b-col",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.endAppointment}},[t._v("End appointment")])],1)],1),a("b-modal",{attrs:{id:"appointmentmodal",size:"xl",title:"New appointment","hide-footer":""}},[a("h1",[t._v("Create appointment")]),a("b-form",[a("b-form-group",{attrs:{label:"Appointment date","label-for":"date-picker","invalid-feedback":"Appointment date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",min:t.minDate,required:""},model:{value:t.inputValues.date,callback:function(e){t.$set(t.inputValues,"date",e)},expression:"inputValues.date"}})],1),a("b-form-group",{attrs:{label:"Appointment time","label-for":"time-picker","invalid-feedback":"Appointment time is required"}},[a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.inputValues.time,callback:function(e){t.$set(t.inputValues,"time",e)},expression:"inputValues.time"}})],1),a("b-form-group",{attrs:{label:"Appointment duration(in minutes)","label-for":"duration-picker","invalid-feedback":"Appointment duration is required"}},[a("b-form-input",{attrs:{id:"duration-input",type:"number",required:""},model:{value:t.inputValues.duration,callback:function(e){t.$set(t.inputValues,"duration",e)},expression:"inputValues.duration"}})],1),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.addNewApointment}},[t._v("Save")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1),a("b-modal",{attrs:{id:"reservemodal",size:"xl",title:"Reserve a drug","hide-footer":""}},[a("h1",[t._v("Drugs")]),a("DrugTable",{attrs:{align:"center",passedDrugstoreId:t.currentAppointment.pharmacist.drugstore.id,passedPatientId:t.currentAppointment.patient.id,passedAppointmentId:t.currentAppointment.id,passedCheck:t.pharm}})],1)],1)},ir=[],lr={name:"AppointmentPharmacist",props:{passedId:String},components:{DrugTable:er},data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{pharm:"pharm",currentAppointment:{},minDate:a,inputValues:{pharmacistId:"",date:"",time:"",duration:"",patientId:""}}},methods:{endAppointment:function(){var t=this;this.currentAppointment.id=this.passedId?this.passedId:"2229dbcb-7f36-4e4e-81f5-656ce14a553a",this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/end-appointment",{params:{pharmacistAppointmentId:this.currentAppointment.id,appointmentReport:this.currentAppointment.appointmentReport}}).then((function(e){t.currentAppointment=e.data,t.$router.push({name:"SchedulePharmacist"})}))},beginAppointment:function(){var t=this;this.currentAppointment.id=this.passedId?this.passedId:"2229dbcb-7f36-4e4e-81f5-656ce14a553a",this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/begin-appointment",{params:{pharmacistAppointmentId:this.currentAppointment.id}}).then((function(e){t.currentAppointment=e.data}))},showAppointmentModal:function(){this.$root.$emit("bv::show::modal","appointmentmodal")},showReserveModal:function(){this.$root.$emit("bv::show::modal","reservemodal")},handleClose:function(){this.$root.$emit("bv::hide::modal","appointmentmodal")},addNewApointment:function(t){t.preventDefault(),this.inputValues.patientId=this.currentAppointment.patient.id,this.inputValues.pharmacistId=this.currentAppointment.pharmacist.id,this.$http.post("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/with-patient",JSON.parse(JSON.stringify(this.inputValues))).then((function(t){console.log(t),alert("New appointment is successfully created.")})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","appointmentmodal")}},mounted:function(){this.beginAppointment()}},ur=lr,cr=Object(p["a"])(ur,sr,ir,!1,null,null,null),dr=cr.exports,pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Graphic overview of appointments ")]),a("div",{staticStyle:{margin:"40px",height:"500px","border-style":"solid"}}),a("div",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.showForm}},[t._v("Create new appointment")])],1),a("b-modal",{attrs:{id:"my-modal",title:"Create new appointment","hide-footer":""}},[a("b-form",[a("b-form-group",{attrs:{label:"Choose dermatologist","label-for":"dermatologist-picker","invalid-feedback":"Dermatologist is required"}},[a("b-form-select",{attrs:{options:t.availableDermatologists},model:{value:t.inputValues.dermatologist,callback:function(e){t.$set(t.inputValues,"dermatologist",e)},expression:"inputValues.dermatologist"}})],1),a("b-form-group",{attrs:{label:"Appointment date","label-for":"date-picker","invalid-feedback":"Appointment date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",min:t.minDate,required:""},model:{value:t.inputValues.date,callback:function(e){t.$set(t.inputValues,"date",e)},expression:"inputValues.date"}})],1),a("b-form-group",{attrs:{label:"Appointment time","label-for":"time-picker","invalid-feedback":"Appointment time is required"}},[a("b-form-timepicker",{attrs:{locale:"en"},model:{value:t.inputValues.time,callback:function(e){t.$set(t.inputValues,"time",e)},expression:"inputValues.time"}})],1),a("b-form-group",{attrs:{label:"Appointment duration(in minutes)","label-for":"duration-picker","invalid-feedback":"Appointment duration is required"}},[a("b-form-input",{attrs:{id:"duration-input",type:"number",min:"0",required:""},model:{value:t.inputValues.duration,callback:function(e){t.$set(t.inputValues,"duration",e)},expression:"inputValues.duration"}})],1),a("b-form-group",{attrs:{label:"Appointment price(in RSD)","label-for":"price-picker","invalid-feedback":"Appointment price is required"}},[a("b-form-input",{attrs:{id:"price-input",type:"number",min:"0",required:""},model:{value:t.inputValues.price,callback:function(e){t.$set(t.inputValues,"price",e)},expression:"inputValues.price"}})],1),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.addNewApointment}},[t._v("Save")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1)],1)},mr=[],hr={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{appointments:[],minDate:a,availableDermatologists:[],inputValues:{dermatologist:"",drugstoreId:"",date:"",time:"",duration:"",price:""}}},methods:{getAllApointments:function(){},initialize:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.inputValues.drugstoreId=e.data.id,t.getAllApointments(),t.getAllDermatologistForThisDrugstore()})).catch((function(t){return console.log(t)}))},getAllDermatologistForThisDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employment/dermatologists",{params:{drugstoreId:this.inputValues.drugstoreId}}).then((function(e){t.availableDermatologists=e.data.map((function(t){return{value:t,text:t.name}}))})).catch((function(t){return console.log(t)}))},showForm:function(t){t.preventDefault(),this.$root.$emit("bv::show::modal","my-modal")},addNewApointment:function(t){t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/",JSON.parse(JSON.stringify(this.inputValues))).then((function(t){console.log(t),alert("New appointment is successfully created.")})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","my-modal")},handleClose:function(){this.$root.$emit("bv::hide::modal","my-modal")}},mounted:function(){this.initialize()}},gr=hr,fr=Object(p["a"])(gr,pr,mr,!1,null,null,null),br=fr.exports,vr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",{staticClass:"overflow-auto",staticStyle:{height:"90vh",direction:"ltr"},attrs:{cols:"4"}},[a("b-list-group",t._l(t.complaints,(function(e){return a("b-list-group-item",{key:e.id,attrs:{href:"#"},on:{click:function(a){return t.showComplaint(e)}}},[a("b-row",[a("b-col",{staticStyle:{"text-align":"left"},attrs:{cols:"6"}},[a("b",[t._v(t._s(e.patientEmail))]),a("br"),t._v(" "+t._s(e.type)+" ")]),a("b-col",{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[e.hasReply?a("div",[a("br")]):a("div",[t._v(" Not anwsered ")]),"Drugstore"==e.type?a("div",[t._v(" "+t._s(e.drugstoreName)+" ")]):t._e(),"Drugstore"!=e.type?a("div",[t._v(" "+t._s(e.employeName)+" "+t._s(e.employeSurname)+" ")]):t._e()])],1),a("b-row",[a("b-col",[a("b-card",{staticClass:"mt-3",staticStyle:{"text-align":"left"}},[t._v(" "+t._s(e.text)+" ")])],1)],1)],1)})),1)],1),t.$helpers.isObjectEmpty(t.selectedComplaint)?a("b-col",{staticClass:"mt-3"},[a("h3",[t._v("Select a complaint")])]):a("b-col",{attrs:{cols:"8"}},[a("div",{staticStyle:{"text-align":"left"}},[a("b-card-header",[t._v("Complaint")]),a("p",{staticClass:"m-2",staticStyle:{"text-align":"justify"}},[t._v(" "+t._s(t.selectedComplaint.text)+" ")])],1),a("div",{staticClass:"mt-3",staticStyle:{"text-align":"left"}},[a("b-card-header",[t._v("Reply")]),a("p",{staticClass:"m-2",staticStyle:{"text-align":"justify"}},[t._v(" "+t._s(t.selectedComplaintReply.text)+" ")])],1),a("b-card",{staticClass:"mt-3"},[a("b-form",[a("b-form-row",[a("b-col",{attrs:{cols:"10"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6",disabled:!t.$helpers.isObjectEmpty(t.selectedComplaintReply)},model:{value:t.replyForm.text,callback:function(e){t.$set(t.replyForm,"text",e)},expression:"replyForm.text"}})],1),a("b-col",[a("b-button",{attrs:{variant:"outline-hub",disabled:!t.$helpers.isObjectEmpty(t.selectedComplaintReply)},on:{click:t.postReplyForComplaint}},[t._v("Reply")])],1)],1)],1)],1)],1)],1)],1)},yr=[],kr={name:"AdminComplaintsView",components:{},data:function(){return{complaints:[],selectedComplaint:{},selectedComplaintReply:{},replyForm:{text:"",complaintId:"",adminId:""}}},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),methods:{getComplaints:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/complaints").then((function(e){t.complaints=e.data}))},getReplyForComplaint:function(t){var e=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/complaints/reply/"+t.id).then((function(t){e.selectedComplaintReply=t.data}))},showComplaint:function(t){this.selectedComplaint=t,this.getReplyForComplaint(this.selectedComplaint),this.replyForm.complaintId=this.selectedComplaint.id,this.replyForm.adminId=this.user.id},postReplyForComplaint:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/complaints/reply/"+this.selectedComplaint.id,this.replyForm).then((function(e){t.selectedComplaintReply=e.data,t.replyForm.text="",t.selectedComplaint.hasReply=!0}))}},mounted:function(){this.getComplaints()}},_r=kr,wr=Object(p["a"])(_r,vr,yr,!1,null,null,null),xr=wr.exports,Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",{staticClass:"overflow-auto",staticStyle:{height:"90vh",direction:"ltr"},attrs:{cols:"4"}},[a("b-list-group",t._l(t.complaints,(function(e){return a("b-list-group-item",{key:e.id,attrs:{href:"#"},on:{click:function(a){return t.showComplaint(e)}}},[a("b-row",[a("b-col",{staticStyle:{"text-align":"left"},attrs:{cols:"6"}},[a("b",[t._v(t._s(e.patientEmail))]),a("br"),t._v(" "+t._s(e.type)+" ")]),a("b-col",{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[e.hasReply?a("div",[a("br")]):a("div",[t._v(" Not anwsered ")]),"Drugstore"==e.type?a("div",[t._v(" "+t._s(e.drugstoreName)+" ")]):t._e(),"Drugstore"!=e.type?a("div",[t._v(" "+t._s(e.employeName)+" "+t._s(e.employeSurname)+" ")]):t._e()])],1),a("b-row",[a("b-col",[a("b-card",{staticClass:"mt-3",staticStyle:{"text-align":"left"}},[t._v(" "+t._s(e.text)+" ")])],1)],1)],1)})),1)],1),t.$helpers.isObjectEmpty(t.selectedComplaint)?a("b-col",{staticClass:"mt-3"},[a("h3",[t._v("Select a complaint")])]):a("b-col",{attrs:{cols:"8"}},[a("div",{staticStyle:{"text-align":"left"}},[a("b-card-header",[t._v("Complaint")]),a("p",{staticClass:"m-2",staticStyle:{"text-align":"justify"}},[t._v(" "+t._s(t.selectedComplaint.text)+" ")])],1),a("div",{staticClass:"mt-3",staticStyle:{"text-align":"left"}},[a("b-card-header",[t._v("Reply")]),a("p",{staticClass:"m-2",staticStyle:{"text-align":"justify"}},[t._v(" "+t._s(t.selectedComplaintReply.text)+" ")])],1)])],1)],1)},Sr=[],$r={name:"UserComplaintsView",components:{},data:function(){return{complaints:[],selectedComplaint:{},selectedComplaintReply:{}}},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),methods:{getComplaints:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/complaints/patient/"+this.user.id).then((function(e){t.complaints=e.data}))},getReplyForComplaint:function(t){var e=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/complaints/reply/"+t.id).then((function(t){e.selectedComplaintReply=t.data}))},showComplaint:function(t){this.selectedComplaint=t,this.getReplyForComplaint(this.selectedComplaint),this.replyForm.complaintId=this.selectedComplaint.id,this.replyForm.adminId=this.user.id}},mounted:function(){this.getComplaints()}},jr=$r,Rr=Object(p["a"])(jr,Dr,Sr,!1,null,null,null),Cr=Rr.exports,Pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Drug list ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{"sticky-header":"",striped:"",hover:"",items:t.drugs,selectable:"","select-mode":"multi"},on:{"row-selected":t.onRowSelected}})],1),a("div",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.showModal}},[t._v("Create new drug order")])],1),a("b-container",{staticStyle:{"margin-top":"15px"}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-form",{staticStyle:{width:"40%"},on:{submit:t.onSubmit}},[a("p",{staticStyle:{"margin-top":"20px"}},[t._v("Filter drugs:")]),a("b-form-select",{attrs:{options:t.options},on:{select:t.onSubmit},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("div",[a("b-button",{staticStyle:{"margin-top":"40px","margin-bottom":"40px"},attrs:{type:"submit",variant:"outline-hub",size:"lg"}},[t._v("Submit")])],1)],1)],1)],1),a("b-modal",{attrs:{id:"createOrderModal",title:"Finish order","hide-footer":""}},[a("b-form",[t._l(t.orderAtributtes.selectedDrugs,(function(e){return a("div",{key:e.name,staticStyle:{margin:"5px"}},[a("b-form-group",{attrs:{label:e.name,"label-for":"amount-input","invalid-feedback":"Amount is required"}},[a("b-form-input",{attrs:{required:"",min:0,type:"number",placeholder:"Insert amount.."},model:{value:e.amount,callback:function(a){t.$set(e,"amount",a)},expression:"drug.amount"}})],1)],1)})),a("b-form-group",{attrs:{label:"Deadline date for offerss","label-for":"date-picker","invalid-feedback":"Deadline date is required"}},[a("b-form-datepicker",{staticStyle:{margin:"5px"},attrs:{min:t.minDate,required:""},model:{value:t.orderAtributtes.date,callback:function(e){t.$set(t.orderAtributtes,"date",e)},expression:"orderAtributtes.date"}})],1),a("b-form-group",{attrs:{label:"Deadline time for offerss","label-for":"time-picker","invalid-feedback":"Deadline time is required"}},[a("b-form-timepicker",{staticStyle:{margin:"5px"},attrs:{locale:"en"},model:{value:t.orderAtributtes.time,callback:function(e){t.$set(t.orderAtributtes,"time",e)},expression:"orderAtributtes.time"}})],1),a("div",{staticStyle:{margin:"20px"}},[a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.createOrder}},[t._v("Create")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.cancel}},[t._v("Cancel")])],1)],2)],1)],1)},Ir=[],Or={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{minDate:a,drugstoreId:"",drugs:[],selected:"All_Drugs",options:[{value:"All_Drugs",text:"All drugs"},{value:"Requested_Drugs",text:"Requested drugs"}],orderAtributtes:{selectedDrugs:[],date:"",time:"",drugstoreId:""}}},methods:{initialize:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.drugstoreId=e.data.id,t.getDrugs()})).catch((function(t){return console.log(t)}))},getDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs/createOrderView",{params:{drugstoreId:this.drugstoreId,drugsToBeShown:this.selected}}).then((function(e){t.drugs=e.data.map((function(t){return{name:t.drugName,available_in_this_drugstore:t.available?"Yes":"No",amount_available:t.available?t.availableAmount:"/",requested:t.requested?"Yes":"No",active_order:t.activeOrder?"Yes":"No"}}))})).catch((function(t){return console.log(t)}))},onSubmit:function(t){t.preventDefault(),this.getDrugs()},showModal:function(t){if(t.preventDefault(),0==this.orderAtributtes.selectedDrugs.length)alert("You need to select at least one drug for which you want to create order!");else{var e,a=!1;for(e=0;e<this.orderAtributtes.selectedDrugs.length;e++)if(0===this.orderAtributtes.selectedDrugs[e].available_in_this_drugstore.localeCompare("No")){a=!0;break}a?alert("You need first to add drugs that are not currently available in drugstore to create order for them!"):this.$root.$emit("bv::show::modal","createOrderModal")}},onRowSelected:function(t){this.orderAtributtes.selectedDrugs=t},createOrder:function(t){var e=this;t.preventDefault(),this.orderAtributtes.drugstoreId=this.drugstoreId,this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-orders/create",JSON.parse(JSON.stringify(this.orderAtributtes))).then((function(){e.$root.$emit("bv::hide::modal","createOrderModal"),alert("Order successfully created!")})).catch((function(t){return console.log(t)}))},cancel:function(){this.$root.$emit("bv::hide::modal","createOrderModal")}},mounted:function(){this.initialize()}},Ar=Or,Mr=Object(p["a"])(Ar,Pr,Ir,!1,null,null,null),Nr=Mr.exports,Er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Dermatologist absence requests overview ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{striped:"",hover:"",items:t.requests,fields:t.fields,selectable:"","select-mode":"single"},on:{"row-selected":t.onRowSelected}}),0==t.requests.length?a("p",[t._v(" There are no absence requests at the moment. ")]):t._e()],1),0!=t.requests.length&&0!=t.selectedRequest.length?a("div",{staticStyle:{margin:"40px"}},[a("p",[a("b",[t._v("Reason of request")]),t._v(":")]),a("b-form-input",{attrs:{id:"input-large",placeholder:"Reason..",disabled:""},model:{value:t.selectedRequest[0].reason,callback:function(e){t.$set(t.selectedRequest[0],"reason",e)},expression:"selectedRequest[0].reason"}})],1):t._e(),0!=t.requests.length?a("div",[a("b-button",{staticStyle:{"margin-right":"50px"},attrs:{variant:"outline-hub",size:"lg"},on:{click:t.acceptRequest}},[t._v(" Accept ")]),a("b-button",{staticStyle:{"margin-left":"50px"},attrs:{variant:"outline-hub",size:"lg"},on:{click:t.rejectRequest}},[t._v(" Reject ")])],1):t._e(),a("b-modal",{attrs:{id:"rejectConfirmation",title:"Complete rejection",align:"center","hide-footer":""}},[a("b-form",[a("b-row",{staticStyle:{padding:"20px"}},[a("b-label",{staticStyle:{"margin-bottom":"10px"}},[t._v(" Reason of rejection: ")]),a("b-form-input",{attrs:{id:"input-default",placeholder:"Type the reason of rejection.."},model:{value:t.reasonOfRejection,callback:function(e){t.reasonOfRejection=e},expression:"reasonOfRejection"}})],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.reject}},[t._v("Finish")]),a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1)],1)],1)},qr=[],Fr=(a("fb6a"),{computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{selectedRequest:[],requests:[],reasonOfRejection:"",fields:[{key:"name"},{key:"surname"},{key:"absence_start_date"},{key:"absence_end_date"},{key:"drugstores"}]}},methods:{getRequests:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employment/dermatologistRequests").then((function(e){t.requests=e.data.map((function(t){return{name:t.pharmacistName,surname:t.pharmacistSurname,absence_start_date:t.startDate.slice(0,10),absence_end_date:t.endDate.slice(0,10),reason:t.reason,requestId:t.requestId,drugstores:t.drugstores}}))})).catch((function(t){return console.log(t)}))},acceptRequest:function(){var t=this;0==this.selectedRequest.length?alert("You need to select absence request that you want to accept."):this.$http.post("https://mrs-isa-usijani.herokuapp.com/absence-request/approveDermatologist/"+this.selectedRequest[0].requestId).then((function(e){alert(e.data),t.getRequests()})).catch((function(t){return console.log(t)}))},rejectRequest:function(t){t.preventDefault(),0==this.selectedRequest.length?alert("You need to select absence request that you want to reject."):this.$root.$emit("bv::show::modal","rejectConfirmation")},reject:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/absence-request/reject",{requestId:this.selectedRequest[0].requestId,reasonOfRejection:this.reasonOfRejection}).then((function(e){alert(e.data),t.getRequests(),t.$root.$emit("bv::hide::modal","rejectConfirmation")})).catch((function(t){return console.log(t)}))},cancel:function(){this.$root.$emit("bv::hide::modal","rejectConfirmation")},onRowSelected:function(t){this.selectedRequest=t}},mounted:function(){this.getRequests()}}),Tr=Fr,Vr=Object(p["a"])(Tr,Er,qr,!1,null,null,null),zr=Vr.exports,Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[t.appointments.length>0?a("b-table",{attrs:{items:t.appointments,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.createReservation(e.item,e.index,a.target)}}},[t._v(" Reserve ")]):t._e()]}}],null,!1,994490421)}):t._e(),0==t.appointments.length?a("h1",[t._v("No dermatology appointments available")]):t._e()],1)},Yr=[],Jr={data:function(){return{appointments:[],drugstoreId:this.$route.params.id,fields:[{key:"dermatologist"},{key:"drugstore"},{key:"date"},{key:"time"},{key:"duration"},{key:"actions",label:""}]}},methods:{info:function(t){console.log(t)},getAllAppointments:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/search",{params:{drugstoreId:this.drugstoreId}}).then((function(e){t.appointments=e.data.map((function(t){return{appointmentId:t.id,dermatologist:t.dermatologist.name,drugstore:t.drugstore.name,date:t.date.substring(0,10),time:t.time,duration:t.duration,patient:t.patient?t.patient.name:"Available"}}))})).catch((function(t){return console.log(t)}))},createReservation:function(t){var e=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/createReserrvation",{params:{appointmentId:t.appointmentId,patientId:"8128d806-c29b-4086-aae6-877d17eeb6fa",drugstoreId:this.drugstoreId}}).then((function(t){e.appointments=t.data.map((function(t){return{appointmentId:t.id,dermatologist:t.dermatologist.name,drugstore:t.drugstore.name,date:t.date.substring(0,10),time:t.time,duration:t.duration,patient:t.patient?t.patient.name:"Available"}}))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getAllAppointments()}},Hr=Jr,Lr=Object(p["a"])(Hr,Ur,Yr,!1,null,null,null),Br=Lr.exports,Gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" List of dermatologists ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{striped:"",hover:"",items:t.dermatologists}}),0==t.dermatologists.length?a("p",[t._v(" There are no dermatologists for this criteria.")]):t._e()],1),a("b-container",{staticStyle:{"margin-left":"60px"}},[a("b-row",[a("p",[a("b",[t._v("Search:")])])]),a("b-row",{staticStyle:{"margin-left":"20px"},attrs:{"align-h":"left"}},[a("b-form",{staticStyle:{width:"80%"},attrs:{align:"center",inline:""}},[a("b-label",[t._v("Name:")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{placeholder:"Enter name"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("b-label",[t._v("Surname:")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{placeholder:"Enter surname"},model:{value:t.searchSurname,callback:function(e){t.searchSurname=e},expression:"searchSurname"}})],1)],1),a("b-row",[a("p",[a("b",[t._v("Filters:")])])]),a("b-row",{staticStyle:{"margin-left":"20px"},attrs:{"align-h":"left"}},[a("b-form",{staticStyle:{width:"80%"},attrs:{align:"center",inline:""}},[a("b-label",[t._v("Average rate:")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{type:"number",min:"0",max:"10",placeholder:"min"},model:{value:t.filterRateMin,callback:function(e){t.filterRateMin=e},expression:"filterRateMin"}}),a("b-label",[t._v(" - ")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{type:"number",min:"0",max:"10",placeholder:"max"},model:{value:t.filterRateMax,callback:function(e){t.filterRateMax=e},expression:"filterRateMax"}})],1)],1),a("b-row",{staticStyle:{"margin-left":"20px"},attrs:{"align-h":"left"}},[a("b-form",{staticStyle:{width:"80%"},attrs:{align:"center",inline:""}},[a("b-label",[t._v("Drugstore:")]),a("b-form-select",{staticStyle:{margin:"20px"},attrs:{options:t.drugstores,"aria-placeholder":"All drugstores"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-button",{staticStyle:{margin:"40px"},attrs:{type:"reset",variant:"outline-hub",size:"lg"},on:{click:t.onReset}},[t._v("Reset")]),a("b-button",{staticStyle:{margin:"40px"},attrs:{type:"submit",variant:"outline-hub",size:"lg"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},Wr=[],Qr={data:function(){return{dermatologists:[],searchName:"",searchSurname:"",filterRateMin:0,filterRateMax:10,selected:"",drugstores:[]}},methods:{getDermatologists:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/dermatologists").then((function(e){t.dermatologists=e.data.map((function(t){return{name:t.name,surname:t.surname,averageRate:t.averageRate,drugstore:t.drugstoreName}}))})).catch((function(t){return console.log(t)}))},getDrugstores:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores").then((function(e){t.drugstores=e.data.map((function(t){return{value:t,text:t.name}}))})).catch((function(t){return console.log(t)}))},dermatologistSearchResult:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/dermatologists/search",{params:{name:this.searchName,surname:this.searchSurname,minRate:this.filterRateMin,maxRate:this.filterRateMax,drugstore:this.selected.name?this.selected.name:""}}).then((function(e){t.dermatologists=e.data.map((function(t){return{name:t.name,surname:t.surname,averageRate:t.averageRate,drugstore:t.drugstoreName}}))})).catch((function(t){return console.log(t)}))},onSubmit:function(){this.dermatologistSearchResult()},onReset:function(){this.searchName="",this.searchSurname="",this.filterRateMin=0,this.filterRateMax=10,this.selected="",this.getDermatologists()}},mounted:function(){this.getDermatologists(),this.getDrugstores()}},Zr=Qr,Kr=Object(p["a"])(Zr,Gr,Wr,!1,null,null,null),Xr=Kr.exports,tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-modal",{attrs:{id:"my-modal",title:"Drug issuing","hide-footer":""}},[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{label:"Reservation ID","label-for":"reservationid-input","invalid-feedback":"Reservation id is requred"}},[a("b-form-input",{attrs:{id:"reservationid-input",type:"text",placeholder:"Enter reservation id",required:""},model:{value:t.confirmationCode,callback:function(e){t.confirmationCode=e},expression:"confirmationCode"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Issue drug")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1),a("b-row",[a("b-col",[t.showTable?a("b-table",{attrs:{id:"tabela_rezervacija",striped:"",hover:"",fields:t.fields,items:t.reservations},on:{"row-clicked":t.showModal}}):t._e(),t.noResults?a("h1",[t._v("There are no reservations of patient in this drugstore!")]):t._e()],1)],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{sm:"3",md:"4",lg:"4"}},[a("div",[a("b-form",{on:{submit:t.search}},[a("b-form-group",{attrs:{label:"E-mail","label-for":"email1-input","invalid-feedback":"E-mail is required"}},[a("b-form-input",{attrs:{id:"email1-input",type:"email",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Search")])],1)],1)])],1)],1)},en=[],an={components:{},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}})),data:function(){return{form:{email:"",name:"",surname:"",food:null,substitutions:[]},fields:[{key:"name"},{key:"surname"},{key:"email"},{key:"drug"},{key:"date",sortable:!0}],reservations:[],noResults:!1,showTable:!1,reservationId:"",confirmationCode:""}},methods:{search:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugReservation/getPatientReservationsInDrugstore",{params:{patientEmail:this.form.email,pharmacistId:this.user.id}}).then((function(e){t.reservations=e.data.map((function(t){return{name:t.patient.name,surname:t.patient.surname,email:t.patient.email,drug:t.drug.name,date:t.date,id:t.id}})),0==t.reservations.length?(t.noResults=!0,t.showTable=!1):(t.noResults=!1,t.showTable=!0)})).catch((function(t){return console.log(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugReservation/issueReservation",{params:{reservationId:this.reservationId,confirmationCode:this.confirmationCode}}).then((function(t){alert(t.data),e.search()})).catch((function(t){return console.log(t)}))},handleClose:function(){this.$root.$emit("bv::hide::modal","my-modal")},showModal:function(t){this.reservationId=t.id,this.$root.$emit("bv::show::modal","my-modal")}}},rn=an,nn=(a("ee52"),Object(p["a"])(rn,tn,en,!1,null,null,null)),on=nn.exports,sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Drug order list ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{"sticky-header":"",striped:"",hover:"",items:t.drugOrders,fields:t.fields_for_orders},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return["Pending"===e.item.Order_status&&t.selectedOrder!=e.item.Order_id?a("b-button",{attrs:{variant:"outline-hub"},on:{click:function(a){return t.showOffersForOrder(e)}}},[t._v("Select offer")]):t._e(),"Pending"===e.item.Order_status&&t.selectedOrder==e.item.Order_id?a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.hideOffers}},[t._v("Hide offers")]):t._e()]}}])})],1),t.showOferrs?a("b-container",[a("b-card",{staticStyle:{margin:"40px"}},[a("h2",{staticStyle:{"margin-top":"5px"}},[a("b",[t._v(" Available offers for selected order: ")])]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{selectable:"","select-mode":"single","sticky-header":"",striped:"",hover:"",items:t.offers,fields:t.fields_for_offers},on:{"row-selected":t.onRowSelected}})],1),a("b-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"submit",variant:"outline-hub",size:"lg"},on:{click:t.completeOrder}},[t._v("Accept offer")]),a("b-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"submit",variant:"outline-hub",size:"lg"},on:{click:t.decline}},[t._v("Decline all offers")])],1)],1):t._e(),t.showOferrs?t._e():a("b-container",{staticStyle:{"margin-top":"15px"}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-form",{staticStyle:{width:"40%"}},[a("p",{staticStyle:{"margin-top":"20px"}},[t._v("Filter orders by status:")]),a("b-form-select",{attrs:{placeholder:"All",options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("div",[a("b-button",{staticStyle:{"margin-top":"40px","margin-bottom":"40px"},attrs:{type:"submit",variant:"outline-hub",size:"lg"},on:{click:t.filterByStatus}},[t._v("Submit")])],1)],1)],1)],1),a("b-modal",{attrs:{id:"declineConfirmation",title:"Warning! You are going to decline all offers!",align:"center","hide-footer":""}},[a("b-form",[a("b-row",{attrs:{"align-h":"center"}},[a("b-label",[t._v(" Are you sure that you want to decline all offers for this order?")])],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.declineAllOffers}},[t._v("Continue")]),a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1)],1)],1)},ln=[],un={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{minDate:a,drugstoreId:"",drugOrders:[],offers:[],selected:"All_orders",options:[{value:"All_orders",text:"All orders"},{value:"Active",text:"Active"},{value:"Expired",text:"Expired"},{value:"Pending",text:"Pending"},{value:"Accepted",text:"Accepted"},{value:"Declined",text:"Declined"}],fields_for_orders:[{key:"Drugs_in_order",label:"Drugs in order"},{key:"Order_status",label:"Order status"},{key:"Expiration_date",label:"Expiration date"},{key:"Expiration_time",label:"Expiration time"},{key:"Actions"}],fields_for_offers:[{key:"Supplier"},{key:"Price"},{key:"Delivery_date"},{key:"Delivery_time"}],showOferrs:!1,selectedOrder:"",selectedOffer:""}},methods:{initialize:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.drugstoreId=e.data.id,t.getDrugOrders()})).catch((function(t){return console.log(t)}))},getDrugOrders:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drug-orders",{params:{drugstoreId:this.drugstoreId,filter:this.selected}}).then((function(e){t.drugOrders=e.data.map((function(t){return{Drugs_in_order:t.drugs,Order_status:t.status,Expiration_date:t.expirationDate,Expiration_time:t.expirationTime,Order_id:t.orderId}}))})).catch((function(t){return console.log(t)}))},filterByStatus:function(t){t.preventDefault(),this.getDrugOrders()},showModal:function(t){if(t.preventDefault(),0==this.orderAtributtes.selectedDrugs.length)alert("You need to select at least one drug for which you want to create order!");else{var e,a=!1;for(e=0;e<this.orderAtributtes.selectedDrugs.length;e++)if(0===this.orderAtributtes.selectedDrugs[e].available_in_this_drugstore.localeCompare("No")){a=!0;break}a?alert("You need first to add drugs that are not currently available in drugstore to create order for them!"):this.$root.$emit("bv::show::modal","createOrderModal")}},onRowSelected:function(t){this.selectedOffer=t[0].Offer_id},showOffersForOrder:function(t){var e=this;this.selectedOrder=t.item.Order_id,this.$http.get("https://mrs-isa-usijani.herokuapp.com/offers",{params:{orderId:this.selectedOrder}}).then((function(t){e.offers=t.data.map((function(t){return{Supplier:t.supplier.name,Price:t.price,Delivery_date:t.deliveryDate,Delivery_time:t.deliveryTime,Offer_id:t.id}})),e.offers.length>0?e.showOferrs=!0:(alert("For this order there are no offers, so this expired order will be automatically archived."),e.orderExpired())})).catch((function(t){return console.log(t)}))},hideOffers:function(){this.showOferrs=!1,this.selectedOrder=""},completeOrder:function(){var t=this;""==this.selectedOffer?alert("To complete order you need to select one of available offers!"):this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-orders/accepted/"+this.selectedOffer).then((function(){t.getDrugOrders(),t.showOferrs=!1,alert("You successfully accepted offer!")})).catch((function(t){return console.log(t)}))},decline:function(){this.$root.$emit("bv::show::modal","declineConfirmation")},declineAllOffers:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-orders/declined/"+this.selectedOrder).then((function(){t.getDrugOrders(),t.showOferrs=!1,t.$root.$emit("bv::hide::modal","declineConfirmation")})).catch((function(t){return console.log(t)}))},cancel:function(){this.$root.$emit("bv::hide::modal","declineConfirmation")},orderExpired:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-orders/expired/"+this.selectedOrder).then((function(){t.getDrugOrders()})).catch((function(t){return console.log(t)}))}},mounted:function(){this.initialize()}},cn=un,dn=Object(p["a"])(cn,sn,ln,!1,null,null,null),pn=dn.exports,mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Drugs ")]),a("div",[a("b-table",{attrs:{striped:"",hover:"",items:t.drugs}})],1)])},hn=[],gn={name:"DrugOverview",data:function(){return{drugs:[]}},methods:{getDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs").then((function(e){console.log(e),t.drugs=e.data.map((function(t){return{name:t.name,form:t.form,type:t.type.name,receipt:t.receipt?"Yes":"No",manufacturer:t.manufacturer.name,substitutions:t.substitutions&&0!=t.substitutions.length?t.substitutions.map((function(t){return t.name})).join(", "):"No substitute",ingredients:t.ingredients.map((function(t){return t.name})).join(", ")}}))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getDrugs()}},fn=gn,bn=Object(p["a"])(fn,mn,hn,!1,null,null,null),vn=bn.exports,yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Drugs on stock ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{striped:"",hover:"",items:t.drugStocks,selectable:"","select-mode":"single"},on:{"row-selected":t.onRowSelected}}),0==t.drugStocks.length?a("p",[t._v("There are no certain drugs in this drugstore at the moment.")]):t._e()],1),a("div",[a("router-link",{attrs:{to:"/drug-stock-create-order"}},[a("b-button",{staticStyle:{"margin-right":"50px"},attrs:{variant:"outline-hub"},on:{click:t.newDrug}},[t._v("Add new drug to stock")])],1),a("router-link",{attrs:{to:"/drug-stock-check-offers"}},[a("b-button",{staticStyle:{"margin-left":"50px","margin-right":"50px"},attrs:{variant:"outline-hub"},on:{click:t.deleteDrug}},[t._v("Delete drug from stock")])],1),a("b-button",{staticStyle:{"margin-left":"50px","margin-right":"50px"},attrs:{variant:"outline-hub"},on:{click:t.newPriceAssign}},[t._v("Assign new price")]),a("router-link",{attrs:{to:"#"}},[a("b-button",{staticStyle:{"margin-left":"50px"},attrs:{variant:"outline-hub"},on:{click:t.newPromotion}},[t._v("Create promotion")])],1)],1),a("b-container",{staticStyle:{margin:"15px"}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-form",{staticStyle:{width:"40%"},on:{submit:t.search}},[a("p",{staticStyle:{"margin-top":"20px"}},[t._v("Search text:")]),a("b-form-input",{attrs:{placeholder:"Enter text for search"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),a("div",[a("b-button",{staticStyle:{margin:"40px"},attrs:{type:"button",variant:"outline-hub",size:"lg"},on:{click:t.search}},[t._v("Search")])],1)],1)],1)],1),a("b-modal",{attrs:{id:"newPriceModal",title:"Create new price","hide-footer":""}},[a("b-form",[a("b-form-group",{attrs:{label:"New price","label-for":"price-input","invalid-feedback":"Price is required"}},[a("b-form-input",{attrs:{id:"price-input",required:"",min:0,type:"number"},model:{value:t.inputValuesForNewPrice.price,callback:function(e){t.$set(t.inputValuesForNewPrice,"price",e)},expression:"inputValuesForNewPrice.price"}})],1),a("b-form-group",{attrs:{label:"Price expiration date","label-for":"date-input","invalid-feedback":"Expiration date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",min:t.minDate,required:""},model:{value:t.inputValuesForNewPrice.endDate,callback:function(e){t.$set(t.inputValuesForNewPrice,"endDate",e)},expression:"inputValuesForNewPrice.endDate"}})],1),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.addNewPrice}},[t._v("Save")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1),a("b-modal",{attrs:{id:"newPromotionModal",title:"Create new promotion","hide-footer":""}},[a("b-form",[a("b-form-group",{attrs:{label:"Promotion price","label-for":"price-input","invalid-feedback":"Price is required"}},[a("b-form-input",{attrs:{id:"price-input",required:"",min:0,type:"number"},model:{value:t.inputValuesForNewPromotion.price,callback:function(e){t.$set(t.inputValuesForNewPromotion,"price",e)},expression:"inputValuesForNewPromotion.price"}})],1),a("b-form-group",{attrs:{label:"Promotion expiration date","label-for":"date-input","invalid-feedback":"Expiration date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",min:t.minDate,required:""},model:{value:t.inputValuesForNewPromotion.endDate,callback:function(e){t.$set(t.inputValuesForNewPromotion,"endDate",e)},expression:"inputValuesForNewPromotion.endDate"}})],1),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.createNewPromotion}},[t._v("Save")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1),a("b-modal",{attrs:{id:"addNewDrugModal",title:"Add new drug to stock","hide-footer":""}},[a("b-form",[a("b-form-group",{attrs:{id:"input-group-1",label:"Drug","label-for":"input-1"}},[a("multiselect",{attrs:{"track-by":"id",label:"name",placeholder:"Select one",options:t.drugs,searchable:!0,"allow-empty":!1,"select-label":""},model:{value:t.inputValuesForNewDrug.selectedDrug,callback:function(e){t.$set(t.inputValuesForNewDrug,"selectedDrug",e)},expression:"inputValuesForNewDrug.selectedDrug"}})],1),a("b-form-group",{attrs:{label:"Initial price","label-for":"price-input","invalid-feedback":"Price is required"}},[a("b-form-input",{attrs:{id:"price-input",required:"",min:0,type:"number"},model:{value:t.inputValuesForNewDrug.price,callback:function(e){t.$set(t.inputValuesForNewDrug,"price",e)},expression:"inputValuesForNewDrug.price"}})],1),a("b-form-group",{attrs:{label:"Price expiration date","label-for":"date-input","invalid-feedback":"Expiration date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",min:t.minDate,required:""},model:{value:t.inputValuesForNewDrug.endDate,callback:function(e){t.$set(t.inputValuesForNewDrug,"endDate",e)},expression:"inputValuesForNewDrug.endDate"}})],1),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.addNewDrugToDrugstore}},[t._v("Add")]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1),a("b-modal",{attrs:{id:"deleteConfirmation",title:"Warning! This drug is going to be removed from drugstore stock!",align:"center","hide-footer":""}},[a("b-form",[a("b-row",{attrs:{"align-h":"center"}},[a("b-label",[t._v(" Are you sure that you want to remove this drug?")])],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.deleteDrugFromStock}},[t._v("Continue")]),a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1)],1)],1)},kn=[],_n={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),components:{Multiselect:It.a},data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{drugs:[],drugStocks:[],searchText:"",selected:[],minDate:a,drugstoreId:"",inputValuesForNewPrice:{price:"",drugName:"",drugStoreId:"",startDate:a,endDate:""},inputValuesForNewPromotion:{price:"",drugName:"",drugStoreId:"",startDate:a,endDate:""},inputValuesForNewDrug:{drugStoreId:"",selectedDrug:"",price:"",startDate:a,endDate:""}}},methods:{initialize:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.inputValuesForNewPrice.drugStoreId=e.data.id,t.inputValuesForNewPromotion.drugStoreId=e.data.id,t.inputValuesForNewDrug.drugStoreId=e.data.id,t.drugstoreId=e.data.id,t.getDrugStockForDrugstore(),t.getDrugsNotOnStock()})).catch((function(t){return console.log(t)}))},getDrugStockForDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drug-stock",{params:{drugstoreId:this.drugstoreId}}).then((function(e){t.drugStocks=e.data.map((function(t){return{drug:t.drugName,amount:t.drugAmount,price:t.drugPrice,priceExpirationDate:t.priceExpirationDate.slice(0,10)}}))})).catch((function(t){return console.log(t)}))},getDrugsNotOnStock:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs/notOnStock",{params:{drugstoreId:this.drugstoreId}}).then((function(e){t.drugs=e.data})).catch((function(e){return t.$toastr.e(e)}))},onRowSelected:function(t){this.selected=t},search:function(t){var e=this;t.preventDefault(),this.$http.get("https://mrs-isa-usijani.herokuapp.com/drug-stock/search",{params:{searchedText:this.searchText,drugstoreId:this.drugstoreId}}).then((function(t){e.drugStocks=t.data.map((function(t){return{drug:t.drugName,amount:t.drugAmount,price:t.drugPrice,priceExpirationDate:t.priceExpirationDate.slice(0,10)}}))})).catch((function(t){return console.log(t)}))},newPriceAssign:function(t){t.preventDefault(),0==this.selected.length?alert("You need to select drug for which you want to assign new price."):this.$root.$emit("bv::show::modal","newPriceModal")},newPromotion:function(t){t.preventDefault(),0==this.selected.length?alert("You need to select drug for which you want to create promotion."):this.$root.$emit("bv::show::modal","newPromotionModal")},newDrug:function(t){t.preventDefault(),this.$root.$emit("bv::show::modal","addNewDrugModal")},deleteDrug:function(t){t.preventDefault(),0==this.selected.length?alert("You need to select the drug that you want to delete."):this.$root.$emit("bv::show::modal","deleteConfirmation")},addNewPrice:function(t){var e=this;t.preventDefault(),this.inputValuesForNewPrice.drugName=this.selected[0].drug,this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-price/",JSON.parse(JSON.stringify(this.inputValuesForNewPrice))).then((function(){alert("New price for "+e.selected[0].drug+" is successfully added."),e.getDrugStockForDrugstore()})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","newPriceModal")},createNewPromotion:function(t){var e=this;t.preventDefault(),this.inputValuesForNewPromotion.drugName=this.selected[0].drug,this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-price/promotion",JSON.parse(JSON.stringify(this.inputValuesForNewPromotion))).then((function(){alert("New promotion for "+e.selected[0].drug+" is successfully added."),e.getDrugStockForDrugstore()})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","newPromotionModal")},addNewDrugToDrugstore:function(t){var e=this;t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/drug-stock",JSON.parse(JSON.stringify(this.inputValuesForNewDrug))).then((function(){alert("New drug '"+e.inputValuesForNewDrug.selectedDrug.drugName+"' is successfully added to stock."),e.getDrugStockForDrugstore(),e.getDrugsNotOnStock()})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","addNewDrugModal")},handleClose:function(){this.$root.$emit("bv::hide::modal","newPriceModal"),this.$root.$emit("bv::hide::modal","newPromotionModal"),this.$root.$emit("bv::hide::modal","addNewDrugModal")},cancel:function(){this.$root.$emit("bv::hide::modal","deleteConfirmation")},deleteDrugFromStock:function(t){var e=this;t.preventDefault(),this.$http.delete("https://mrs-isa-usijani.herokuapp.com/drug-stock/delete/",{data:{drugName:this.selected[0].drug,drugStoreId:this.drugstoreId}}).then((function(t){alert(t.data),e.getDrugStockForDrugstore(),e.getDrugsNotOnStock()})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","deleteConfirmation")}},mounted:function(){this.initialize()}},wn=_n,xn=Object(p["a"])(wn,yn,kn,!1,null,null,null),Dn=xn.exports,Sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[a("div",{staticClass:"container emp-profile",staticStyle:{width:"750px",padding:"20px"}},[a("form",{on:{submit:t.handleSubmit}},[a("div",{staticClass:"row",staticStyle:{},attrs:{align:"center"}},[a("div",{staticClass:"col-md-12",staticStyle:{padding:"20px"},attrs:{align:"center"}},[a("b-card",{staticStyle:{padding:"20px"},attrs:{"no-body":""}},[a("h1",[t._v(" Profile overview ")]),a("div",{staticClass:"profile-head",attrs:{align:"center"}},[a("br"),a("h5",[t._v(" "+t._s(t.user.name)+" ")]),a("h6")]),a("div",{attrs:{"align-h":"center"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Name")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"name-input",required:""},model:{value:t.profile.name,callback:function(e){t.$set(t.profile,"name",e)},expression:"profile.name"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Surname")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"surname-input",required:""},model:{value:t.profile.surname,callback:function(e){t.$set(t.profile,"surname",e)},expression:"profile.surname"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Email")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"email-input",type:"email",required:""},model:{value:t.profile.email,callback:function(e){t.$set(t.profile,"email",e)},expression:"profile.email"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Phone")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"phonenumber-input",required:""},model:{value:t.profile.phoneNumber,callback:function(e){t.$set(t.profile,"phoneNumber",e)},expression:"profile.phoneNumber"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("b-button",{staticClass:"dugme",attrs:{type:"button",variant:"outline-hub",disabled:!t.editEnabled},on:{click:t.handleEdit}},[t._v("Edit info ")])],1),a("div",{staticClass:"col-md-4"},[a("b-button",{staticClass:"dugme",attrs:{type:"submit",variant:"outline-hub",disabled:t.editEnabled}},[t._v(" Save info")])],1),a("div",{staticClass:"col-md-4"},[a("b-button",{staticClass:"dugme",attrs:{variant:"outline-hub"},on:{click:t.handlePassword}},[t._v("Change password")])],1)])])])],1)])]),a("b-modal",{attrs:{id:"my-modal",title:"Change password","hide-footer":""}},[a("b-form",{on:{submit:t.oldPasswordValidate}},[a("b-form-input",{attrs:{id:"password-input1",type:"password",required:"",placeholder:"Old password"},model:{value:t.oldPasswordInput,callback:function(e){t.oldPasswordInput=e},expression:"oldPasswordInput"}}),a("br"),a("b-form-input",{attrs:{id:"password-input2",type:"password",required:"",placeholder:"New password"},model:{value:t.newPasswordInput,callback:function(e){t.newPasswordInput=e},expression:"newPasswordInput"}}),a("br"),a("b-form-input",{attrs:{id:"password-input3",type:"password",required:"",state:t.validationState,placeholder:"Repeat new password"},model:{value:t.newPasswordValidateInput,callback:function(e){t.newPasswordValidateInput=e},expression:"newPasswordValidateInput"}}),a("br"),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1)],1)])},$n=[],jn={computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),{},{validationState:function(){return this.editEnabled?null:this.profile.password==this.validationPassword}}),data:function(){return{profile:{},editEnabled:!0,validationPassword:"",oldPasswordInput:"",newPasswordInput:"",newPasswordValidateInput:""}},methods:{getProfile:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstoreAdmin",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.profile=e.data})).catch((function(t){return console.log(t)}))},handleEdit:function(){this.editEnabled=!1},handleSubmit:function(t){t.preventDefault(),this.editEnabled=!0,this.$http.put("https://mrs-isa-usijani.herokuapp.com/drugstoreAdminUpdate",this.profile).then((function(){alert("You succesfully updated your profile informations!")})).catch((function(t){return console.log(t)}))},handlePassword:function(){this.$root.$emit("bv::show::modal","my-modal")},validatePassword:function(){return this.newPasswordInput==this.newPasswordValidateInput},oldPasswordValidate:function(t){var e=this;t.preventDefault();var a=!1;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstoreAdmin/password",{params:{drugstoreAdminId:this.user.id,passwordInput:this.oldPasswordInput}}).then((function(t){a=t.data,a?e.changePassword():alert("Old password does not match!")})).catch((function(t){return console.log(t)}))},changePassword:function(){var t=this;this.validatePassword()?(this.profile.password=this.newPasswordInput,this.$http.put("https://mrs-isa-usijani.herokuapp.com/drugstoreAdmin/updatepassword",this.profile).then((function(){alert("You succesfully updated your password!"),t.$root.$emit("bv::hide::modal","my-modal")})).catch((function(t){return console.log(t)})),this.oldPasswordInput="",this.newPasswordInput="",this.newPasswordValidateInput=""):alert("New passwords not ok!")}},mounted:function(){this.getProfile()}},Rn=jn,Cn=(a("5467"),Object(p["a"])(Rn,Sn,$n,!1,null,null,null)),Pn=Cn.exports,In=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("div",[a("drugstore-basic-info",{attrs:{form:t.drugstore}})],1),a("div",[a("router-link",{attrs:{to:"/my-drugstore"}},[a("b-button",{staticStyle:{"margin-top":"40px","margin-bottom":"40px","margin-right":"100px"},attrs:{type:"button",variant:"outline-hub",size:"lg"}},[t._v("Cancel")])],1),a("b-button",{staticStyle:{"margin-top":"40px","margin-bottom":"40px","margin-left":"100px"},attrs:{type:"button",variant:"outline-hub",size:"lg"},on:{click:t.saveChanges}},[t._v("Save changes")])],1)])},On=[],An={components:{DrugstoreBasicInfo:mt},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{drugstore:{}}},methods:{getSelectedDrugstoreInfo:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/adminsDrugstore",{params:{adminId:this.user.id}}).then((function(e){t.drugstore=e.data})).catch((function(t){return console.log(t)}))},saveChanges:function(){var t=this;this.$http.put("https://mrs-isa-usijani.herokuapp.com/drugstores/update",this.drugstore).then((function(){t.$router.push("my-drugstore"),alert("You succesfully updated drugstore informations!")})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getSelectedDrugstoreInfo()}},Mn=An,Nn=Object(p["a"])(Mn,In,On,!1,null,null,null),En=Nn.exports,qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",[a("DrugstoreTable")],1)],1)],1)},Fn=[],Tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",[a("b-form",{on:{submit:t.searchDrugstores}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Drugstore name:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter drugstore name"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:"City:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",type:"text",placeholder:"Enter city"},model:{value:t.searchForm.location.city,callback:function(e){t.$set(t.searchForm.location,"city",e)},expression:"searchForm.location.city"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Country:","label-for":"input-3"}},[a("b-form-input",{attrs:{id:"input-3",type:"text",placeholder:"Enter country"},model:{value:t.searchForm.location.country,callback:function(e){t.$set(t.searchForm.location,"country",e)},expression:"searchForm.location.country"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")]),a("br"),a("br"),a("br")],1)],1)],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-col",[t._l(t.getCardDrugstores(),(function(e,r){return[a("b-row",{key:r,attrs:{"cols-lg":"4"}},t._l(e,(function(t){return a("b-col",{key:t.id,staticStyle:{padding:"20px","text-align":"center"}},[a("drugstore-card",{attrs:{drugstore:t}})],1)})),1)]})),0==t.drugstores.length?a("h1",[t._v(" There are no drugstores that fit the search parameters")]):t._e(),a("b-pagination",{attrs:{"per-page":"4","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],2)],1)],1)},Vn=[],zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{"no-body":"","img-alt":"Image","img-top":"","img-src":"https://cdn.sanity.io/images/0vv8moc6/mhe/35d3654e121cea13826925b77336d022384fcb78-1000x667.png?auto=format",tag:"article"},scopedSlots:t._u([{key:"header",fn:function(){return[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.drugstore.name))])]},proxy:!0}])},[a("b-card-body",[a("b-card-sub-title",{staticClass:"mb-2"},[t._v("Description:")]),a("b-card-text",[t._v(" "+t._s(t.drugstore.description)+" ")])],1),a("b-list-group",{attrs:{flush:""}},[a("b-list-group-item",[t._v("Address: "+t._s(t.drugstore.adress))]),a("b-list-group-item",[t._v("City: "+t._s(t.drugstore.city))]),a("b-list-group-item",[t._v("Country: "+t._s(t.drugstore.country))]),a("b-list-group-item",[t._v("Rating: "+t._s(t.drugstore.rating))])],1),a("div",{staticStyle:{"text-align":"center",padding:"0.5rem"}},[a("router-link",{attrs:{to:"drugstores/"+t.drugstore.id}},[a("b-button",{staticStyle:{width:"50%"},attrs:{variant:"outline-hub"}},[t._v("Visit")])],1)],1)],1)},Un=[],Yn={props:{drugstore:{}}},Jn=Yn,Hn=Object(p["a"])(Jn,zn,Un,!1,null,null,null),Ln=Hn.exports,Bn={computed:{},watch:{currentPage:function(){this.suppress?this.suppress=!1:this.getDrugstores()}},components:{DrugstoreCard:Ln},name:"DrugstoreTable",data:function(){return{searchForm:{name:"",location:{city:"",country:"",id:"",address:""}},id:"",drugstores:[],currentPage:1,suppress:!1,currentSearch:{},rows:0}},methods:{getDrugstoresLength:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugstores/searchLength",this.currentSearch).then((function(e){t.rows=e.data})).catch((function(t){return console.log(t)}))},searchDrugstores:function(){this.currentSearch=JSON.parse(JSON.stringify(this.searchForm)),this.getDrugstores()},getDrugstores:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugstores/search?page=".concat(this.currentPage-1,"&size=4"),this.currentSearch).then((function(e){t.getDrugstoresLength(),e.data.length,t.drugstores=t.mapDrugstores(e)})).catch((function(t){return console.log(t)}))},getAllDrugstores:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores").then((function(e){t.drugstores=t.mapDrugstores(e)})).catch((function(t){return console.log(t)}))},mapDrugstores:function(t){return t.data.map((function(t){return{id:t.id,name:t.name,adress:t.location.address,country:t.location.country,city:t.location.city,description:t.decription,rating:t.averageRating}}))},getCardDrugstores:function(){for(var t=[],e=0;e<this.drugstores.length;e+=4)t.push(this.drugstores.slice(e,e+4));return t}},mounted:function(){this.searchDrugstores()}},Gn=Bn,Wn=Object(p["a"])(Gn,Tn,Vn,!1,null,null,null),Qn=Wn.exports,Zn={components:{DrugstoreTable:Qn}},Kn=Zn,Xn=Object(p["a"])(Kn,qn,Fn,!1,null,null,null),to=Xn.exports,eo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticStyle:{margin:"20px"}},[a("b-col",[a("b-img",{attrs:{left:"",src:"https://cdn.sanity.io/images/0vv8moc6/mhe/35d3654e121cea13826925b77336d022384fcb78-1000x667.png?auto=format",alt:"Left image",fluid:""}})],1),a("b-col",{staticStyle:{"padding-left":"25px"}},[a("div",{staticStyle:{"margin-top":"30px"},attrs:{align:"left"}},[a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Name")]),t._v(": "+t._s(t.drugstore.name))]),a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Address")]),t._v(": "+t._s(t.drugstore.location.address)+", "+t._s(t.drugstore.location.city)+", "+t._s(t.drugstore.location.country)+" ")]),a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Description")]),t._v(": "+t._s(t.drugstore.description)+" ")]),null!=t.averageRate?a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Average rating")]),t._v(": "+t._s(t.averageRate.toFixed(2))+" (From "+t._s(t.numberOfRates)+" rates) ")]):t._e(),null==t.averageRate?a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Average rating")]),t._v(": There are currently no rates for this drugstore ")]):t._e(),a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Working hours")]),t._v(": "+t._s(t.drugstore.workingHoursFrom)+" - "+t._s(t.drugstore.workingHoursTo)+" ")]),0==t.subscribed?a("b-button",{staticStyle:{margin:"20px"},attrs:{variant:"outline-hub"},on:{click:t.subscribe}},[t._v(" Subscribe")]):t._e(),1==t.subscribed?a("b-button",{staticStyle:{margin:"20px"},attrs:{variant:"outline-hub"},on:{click:t.unsubscribe}},[t._v(" Unsubscribe")]):t._e(),a("b-button",{staticClass:"mr-1",staticStyle:{margin:"20px"},attrs:{variant:"outline-hub"},on:{click:function(e){return t.showModal()}}},[t._v(" Rate drugstore ")]),a("b-button",{staticClass:"mr-1",staticStyle:{margin:"20px"},attrs:{variant:"outline-hub"},on:{click:function(e){return t.showComplaintModal("Drugstore")}}},[t._v(" Make complaint ")])],1)])],1),a("b-row",{staticStyle:{margin:"10px"}},[a("b-col",[a("b",[t._v("Employees overview")])])],1),a("b-row",[a("b-col",[t._v("Dermatologists:")]),a("b-col",[t._v("Pharmacists:")])],1),a("b-row",[a("b-col",[a("div",{staticStyle:{"margin-top":"20px","margin-right":"20px","margin-left":"20px","border-style":"solid"}},[a("b-table",{attrs:{items:t.dermatologists,fields:t.dTableFields},scopedSlots:t._u([{key:"cell(rateActionD)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showModalD(e.item,e.index,a.target)}}},[t._v(" Rate ")]):t._e()]}},{key:"cell(complain)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showComplaintModal("Dermatologist",e.item)}}},[t._v(" Complain ")]):t._e()]}}])}),0==t.dermatologists.length?a("p",[t._v(" There are no dermatologists employed in this drugstore. ")]):t._e()],1)]),a("b-col",[a("div",{staticStyle:{"margin-top":"20px","margin-left":"20px","margin-right":"20px","border-style":"solid"}},[a("b-table",{attrs:{items:t.pharmacists,fields:t.pTableFields},scopedSlots:t._u([{key:"cell(rateActionP)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showModalP(e.item,e.index,a.target)}}},[t._v(" Rate ")]):t._e()]}},{key:"cell(complain)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showComplaintModal("Pharmacist",e.item)}}},[t._v(" Complain ")]):t._e()]}}])}),0==t.pharmacists.length?a("p",[t._v(" There are no pharmacists employed in this drugstore. ")]):t._e()],1)])],1),a("b-row",[a("b-col",{staticStyle:{margin:"20px"}},[a("router-link",{attrs:{to:"/dermatologist-appointments/"+t.currentDrugstoreId}},[a("b-button",{staticStyle:{margin:"30px"},attrs:{variant:"outline-hub"}},[t._v("Make appointment with dermatologist")])],1)],1),a("b-col",{staticStyle:{margin:"20px"}},[a("router-link",{attrs:{to:"/pharmacist-appointments/"+t.currentDrugstoreId}},[a("b-button",{staticStyle:{margin:"30px"},attrs:{variant:"outline-hub"}},[t._v("Make appointment with pharmacist")])],1)],1)],1),a("b-row",{staticStyle:{margin:"10px"}},[a("b-col",[a("b",[t._v("Drug stock overview")])])],1),a("div",{staticStyle:{"margin-top":"30px"}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"All available drugs",active:""}},[a("DrugInDrugstoreTable")],1),a("b-tab",{attrs:{title:"From my e-receipt only"}})],1)],1)],1),a("b-modal",{attrs:{id:"my-modal1",title:"Rate drugstore","hide-footer":""}},[a("b-form",{on:{submit:function(e){return t.saveRatingDrugstore(t.item)}}},[t.canRate?a("label",{staticStyle:{margin:"20px"}},[a("b",[t._v("Rate us: ")])]):t._e(),t.canRate?a("b-form-rating",{attrs:{id:"rate",inline:"",value:"userRating"},model:{value:t.userRating,callback:function(e){t.userRating=e},expression:"userRating"}}):t._e(),0==t.canRate?a("label",{staticStyle:{margin:"20px"}},[a("b",[t._v("Rate us: ")])]):t._e(),0==t.canRate?a("b-form-rating",{attrs:{id:"cant-rate",inline:"",disabled:"",value:"2.75"}}):t._e(),a("br"),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1),a("b-modal",{attrs:{id:"my-modalP",title:"Rate pharmacist","hide-footer":""}},[a("b-form",{on:{submit:function(e){return t.saveRatingPharmacist(t.item)}}},[t.canRate?a("b-form-rating",{attrs:{id:"rate",inline:"",value:"userRating"},model:{value:t.userRating,callback:function(e){t.userRating=e},expression:"userRating"}}):t._e(),0==t.canRate?a("b-form-rating",{attrs:{id:"cant-rate",inline:"",disabled:"",value:"2.75"}}):t._e(),a("br"),a("br"),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1),a("b-modal",{attrs:{id:"my-modalD",title:"Rate dermatologist","hide-footer":""}},[a("b-form",{on:{submit:function(e){return t.saveRatingDermatologist(t.item)}}},[t.canRate?a("b-form-rating",{attrs:{id:"rate",inline:"",value:"userRating"},model:{value:t.userRating,callback:function(e){t.userRating=e},expression:"userRating"}}):t._e(),0==t.canRate?a("b-form-rating",{attrs:{id:"cant-rate",inline:"",disabled:"",value:"2.75"}}):t._e(),a("br"),a("br"),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1),a("b-modal",{attrs:{id:"complaintModal",title:"Make complaint",size:"lg","hide-footer":""}},[a("b-form",[a("make-complaint-form",{attrs:{complaintForm:t.complaintForm},on:{"complaint-success":t.handleComplaintSuccess}})],1)],1)],1)},ao=[],ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",[a("b-form",{on:{submit:t.getDrugs}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Drug name:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter drug name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Drug type:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",placeholder:"Choose a drug type",options:t.drugTypeOptions},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Drug form:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter a drug form"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Drug manufacturer:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.manufacturerOptions},model:{value:t.manufacturer,callback:function(e){t.manufacturer=e},expression:"manufacturer"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Receipt needed:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.receiptOptions},model:{value:t.receipt,callback:function(e){t.receipt=e},expression:"receipt"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")]),a("br"),a("br")],1)],1),a("b-col",[a("b-table",{attrs:{"head-variant":"outline-hub",striped:"",hover:"",items:t.drugs,fields:t.fields,"sticky-header":"400px"},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",disabled:t.employee.penaltyCounter>=3,size:"sm"},on:{click:function(a){return t.showModal(e.item,e.index,a.target)}}},[t._v(" Reserve ")]):t._e()]}}])}),0==t.drugs.length?a("h1",[t._v(" There are no drugs that fit the search parameters")]):t._e()],1)],1),a("b-modal",{attrs:{id:"my-modal",title:"Almost done!","hide-footer":""}},[a("p",[t._v("Before you finish the reservation process you must select the date to wait for your order")]),a("b-form",{on:{submit:t.makeReservation}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{min:t.minDate,id:"example-datepicker"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("p",[t._v("Now choose how much you want")]),a("b-form-input",{attrs:{value:1,min:1,type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("br"),a("b-button",{attrs:{disabled:""==t.date||""==t.amount,type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1)],1)},no=[],oo={name:"DrugTable",props:{passedDrugstoreId:String,passedPatientId:String},data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{employee:0,amount:"",selecteddrug:"",minDate:a,date:"",currentDrugstoreId:"",name:"",type:"",form:"",manufacturer:"",receipt:"",receiptOptions:["Yes","No"],drugs:[],drugType:[],manufacturerOptions:[],drugTypeOptions:[],ingrediants:[],substitutions:[],fields:[{key:"name"},{key:"type"},{key:"form"},{key:"manufacturer"},{key:"receipt"},{key:"amountAvailable"},{key:"actions",label:""}]}},methods:{makeReservation:function(){var t=this;null!=this.passedDrugstoreId?this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugReservation/saveReservation",{patientId:this.passedPatientId,drugstoreId:this.currentDrugstoreId,drugId:this.selecteddrug,date:this.date,amount:this.amount}).then((function(e){alert(e.data),t.getAllDrugsOfDrugstore(),t.$root.$emit("bv::hide::modal","my-modal")})).catch((function(t){return console.log(t)})):this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugReservation/saveReservation",{patientId:this.user.id,drugstoreId:this.currentDrugstoreId,drugId:this.selecteddrug,date:this.date,amount:this.amount}).then((function(e){alert(e.data),t.getAllDrugsOfDrugstore(),t.$root.$emit("bv::hide::modal","my-modal")})).catch((function(t){return console.log(t)}))},showModal:function(t){null!=this.user?(this.selecteddrug=t.id,this.$root.$emit("bv::show::modal","my-modal")):alert("You must be logged in to reserve a drug!")},getDrugstoreId:function(){null!=this.passedDrugstoreId?this.currentDrugstoreId=this.passedDrugstoreId:this.currentDrugstoreId=this.$route.path.slice(12,this.$route.path.length)},getDrugs:function(){var t=this;console.log({name:this.name,type:this.type.name,form:this.form,manufacturerId:this.manufacturer.id,receipt:this.receipt}),this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugs/search",{name:this.name,type:this.type.name,form:this.form,manufacturerId:this.manufacturer.id,receipt:this.receipt}).then((function(e){t.drugs=e.data.map((function(t){return{id:t.id,name:t.name,form:t.form,type:t.type.name,receipt:t.receipt?"Yes":"No",manufacturer:t.manufacturer.name,amountAvailable:t.amount}}))})).catch((function(t){return console.log(t)}))},getManufacturers:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/manufacturers").then((function(e){t.manufacturerOptions=e.data.map((function(t){return{value:t,text:t.name}}))})).catch((function(t){return console.log(t)}))},getDrugTypes:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drug-types").then((function(e){t.drugTypeOptions=e.data.map((function(t){return{value:t,text:t.name}}))})).catch((function(t){return console.log(t)}))},getIngrediants:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/ingredients").then((function(e){t.ingrediants=e.data})).catch((function(t){return console.log(t)}))},getSubstitutionDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs").then((function(e){t.substitutions=e.data})).catch((function(t){return console.log(t)}))},getAllDrugsOfDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs/in-drugstore/"+this.currentDrugstoreId,{params:{size:5,page:0}}).then((function(e){t.drugs=e.data.map((function(t){return{id:t.id,name:t.name,form:t.form,type:t.type.name,receipt:t.receipt?"Yes":"No",manufacturer:t.manufacturer.name,amountAvailable:t.amount}}))})).catch((function(t){return console.log(t)}))},getEmployee:function(){var t=this;null!=this.user&&this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/id",{params:{patientId:this.user.id}}).then((function(e){t.employee=e.data,console.log(t.employee.penaltyCounter)})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getEmployee(),this.getDrugstoreId(),this.getManufacturers(),this.getIngrediants(),this.getSubstitutionDrugs(),this.getDrugTypes(),this.getAllDrugsOfDrugstore()},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}}))},so=oo,io=Object(p["a"])(so,ro,no,!1,null,null,null),lo=io.exports,uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",[a("b-form-row",[a("b-col",{attrs:{cols:"10"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.complaintForm.text,callback:function(e){t.$set(t.complaintForm,"text",e)},expression:"complaintForm.text"}})],1),a("b-col",[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.postReplyForComplaint}},[t._v("Complain")])],1)],1)],1)},co=[],po={name:"MakeComplaintForm",props:["complaintForm"],data:function(){return{}},methods:{postReplyForComplaint:function(){var t=this;console.log(this.complaintForm),this.$http.post("https://mrs-isa-usijani.herokuapp.com/complaints/",this.complaintForm).then((function(e){alert("Success!"),t.$emit("complaint-success"),console.log(e)})).catch((function(){return t.$toastr.e("You can't complain about this!")}))}},mounted:function(){}},mo=po,ho=Object(p["a"])(mo,uo,co,!1,null,null,null),go=ho.exports,fo={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),components:{DrugInDrugstoreTable:lo,MakeComplaintForm:go},data:function(){return{saveRatingPharmacistId:"",saveRatingDermatologistId:"",dermatologistappointments:[],pharmacistappointments:[],drugReservations:[],canRate:!1,avgRating:"",userRating:"3",currentDrugstoreId:"",subscribed:!1,drugstore:{},dermatologists:[],pharmacists:[],date:"",averageRate:0,numberOfRates:0,pTableFields:[{key:"name"},{key:"surname"},{key:"worksFrom"},{key:"worksTo"},{key:"rateActionP",label:""},{key:"complain",label:""}],dTableFields:[{key:"name"},{key:"surname"},{key:"worksFrom"},{key:"worksTo"},{key:"rateActionD",label:""},{key:"complain",label:""}],complaintForm:{drugstoreId:"",employeeId:"",type:"",patientId:"",text:""}}},methods:{saveRatingPharmacist:function(){this.$http.get("https://mrs-isa-usijani.herokuapp.com/rating-pharmacist/saveRating",{params:{patientId:this.user.id,pharmacistId:this.saveRatingPharmacistId,rating:this.userRating}}).catch((function(t){return console.log(t)}))},saveRatingDermatologist:function(){this.$http.get("https://mrs-isa-usijani.herokuapp.com/rating-dermatologist/saveRating",{params:{patientId:this.user.id,dermatologistId:this.saveRatingDermatologistId,rating:this.userRating}}).catch((function(t){return console.log(t)}))},saveRatingDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/rating-drugsore/saveRating",{params:{patientId:this.user.id,drugstoreId:this.currentDrugstoreId,rating:this.userRating}}).then((function(){t.getCurrentDrugstore()})).catch((function(t){return console.log(t)}))},showModal:function(){if(null!=this.user){var t;this.getDrugReservations();var e=1;for(t=0;t<this.drugReservations.length;t++)this.drugReservations[t].drugstore==this.drugstore.name&&(this.canRate=!0,e=0);1==e&&(this.canRate=!1),this.$root.$emit("bv::show::modal","my-modal1")}else alert("You must be logged in to rate a drugstore!")},showModalP:function(t){if(this.saveRatingPharmacistId=t.employeeId,null!=this.user){var e;this.getAppointments();var a=1;for(e=0;e<this.pharmacistappointments.length;e++)this.pharmacistappointments[e].pharmacist==t.name&&this.pharmacistappointments[e].surname==t.surname&&this.pharmacistappointments[e].processed&&(a=0,this.canRate=!0);1==a&&(this.canRate=!1),this.$root.$emit("bv::show::modal","my-modalP")}else alert("You must be logged in to rate a pharmacist!")},showModalD:function(t){if(this.saveRatingDermatologistId=t.employeeId,null!=this.user){var e;this.getDermatologyAppointments();var a=1;for(e=0;e<this.dermatologistappointments.length;e++)this.dermatologistappointments[e].dermatologist==t.name&&this.dermatologistappointments[e].surname==t.surname&&this.dermatologistappointments[e].processed&&(a=0,this.canRate=!0);1==a&&(this.canRate=!1),this.$root.$emit("bv::show::modal","my-modalD")}},showComplaintModal:function(t,e){this.complaintForm.type=t,this.complaintForm.drugstoreId=this.drugstore.id,this.complaintForm.patientId=this.user.id,"Drugstore"!=t&&(this.complaintForm.employeeId=e.employeeId),console.log(e),this.$root.$emit("bv::show::modal","complaintModal")},handleComplaintSuccess:function(){console.log("neeeeeeeee"),this.$root.$emit("bv::hide::modal","complaintModal")},getAppointments:function(){var t=this;null!=this.user&&this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/get-appointments",{params:{patientId:this.user.id}}).then((function(e){t.pharmacistappointments=e.data.map((function(t){return{processed:t.processed,surname:t.pharmacist.surname,pharmacist:t.pharmacist.name,date:t.date.slice(0,10),time:t.time.slice(0,5)}}))})).catch((function(t){return console.log(t)}))},getDermatologyAppointments:function(){var t=this;null!=this.user&&this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/returnAppointments",{params:{patientId:this.user.id}}).then((function(e){t.dermatologistappointments=e.data.map((function(t){return{processed:t.processed,surname:t.dermatologist.surname,dermatologist:t.dermatologist.name,date:t.date.slice(0,10),time:t.time.slice(0,5)}}))})).catch((function(t){return console.log(t)}))},getDrugReservations:function(){var t=this;null!=this.user&&this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugReservation/getPatientReservations",{params:{patientId:this.user.id}}).then((function(e){t.drugReservations=e.data.map((function(t){return{id:t.id,drug:t.drug.name,drugstore:t.drugstore.name,date:t.date}}))})).catch((function(t){return console.log(t)}))},getDrugstoreId:function(){this.currentDrugstoreId=this.$route.path.slice(12,this.$route.path.length)},checkSubscription:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/subscription/check",{params:{patientId:this.user.id,drugstoreId:this.drugstore.id}}).then((function(e){t.subscribed=e.data}))},getCurrentDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/"+this.currentDrugstoreId,{}).then((function(e){t.drugstore=e.data,t.getAverageRating(),t.checkSubscription()})).catch((function(t){return console.log(t)}))},getAverageRating:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/averageRate",{params:{drugstoreId:this.drugstore.id}}).then((function(e){t.averageRate=e.data.numberOfRates>0?e.data.averageRate:null,t.numberOfRates=e.data.numberOfRates})).catch((function(t){return console.log(t)}))},getAllDermatologists:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employment/dermatologist-employments",{params:{drugstoreId:this.currentDrugstoreId}}).then((function(e){t.dermatologists=e.data.map((function(t){return{employeeId:t.employeeId,name:t.name,surname:t.surname,worksFrom:t.workingHoursFrom,worksTo:t.workingHoursTo}}))})).catch((function(t){return console.log(t)}))},getAllPharmacists:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employment/pharmacist-employments",{params:{drugstoreId:this.currentDrugstoreId}}).then((function(e){t.pharmacists=e.data.map((function(t){return{employeeId:t.employeeId,name:t.name,surname:t.surname,worksFrom:t.workingHoursFrom,worksTo:t.workingHoursTo}}))})).catch((function(t){return console.log(t)}))},getAllEmployees:function(){this.getAllDermatologists(),this.getAllPharmacists()},subscribe:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/subscription/subscribe",{patientId:this.user.id,drugstoreId:this.drugstore.id}).then((function(e){t.subscribed=e.data}))},unsubscribe:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/subscription/unsubscribe",{patientId:this.user.id,drugstoreId:this.drugstore.id}).then((function(e){t.subscribed=e.data}))}},mounted:function(){this.getDrugstoreId(),this.getCurrentDrugstore(),this.getAllEmployees(),this.getDrugReservations(),this.getDermatologyAppointments(),this.getAppointments()}},bo=fo,vo=Object(p["a"])(bo,eo,ao,!1,null,null,null),yo=vo.exports,ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",[a("DrugTable")],1)],1)],1)},_o=[],wo={components:{DrugTable:er}},xo=wo,Do=Object(p["a"])(xo,ko,_o,!1,null,null,null),So=Do.exports,$o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Employees in drugstore ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{striped:"",hover:"",items:t.employees,selectable:"","select-mode":"single"},on:{"row-selected":t.onRowSelected}}),0==t.employees.length?a("p",[t._v(" There are no employees for this criteria.")]):t._e()],1),a("div",[a("router-link",{attrs:{to:"/addPharmacistForm"}},[a("b-button",{staticStyle:{"margin-right":"50px"},attrs:{variant:"outline-hub"}},[t._v("Add pharmacist")])],1),a("router-link",{attrs:{to:"/addDermatologistForm"}},[a("b-button",{staticStyle:{"margin-left":"50px","margin-right":"50px"},attrs:{variant:"outline-hub"}},[t._v("Add dermatologist")])],1),a("b-button",{staticStyle:{"margin-left":"50px"},attrs:{variant:"outline-hub"},on:{click:t.showModal}},[t._v("Delete employee")])],1),a("b-container",{staticStyle:{margin:"15px"}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-form",{staticStyle:{width:"40%"},on:{submit:t.onSubmit,reset:t.onReset}},[a("p",{staticStyle:{"margin-top":"20px"}},[t._v("Search text:")]),a("b-form-input",{attrs:{placeholder:"Enter text for search"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),a("p",{staticStyle:{"margin-top":"20px"}},[t._v("Average rate:")]),a("b-row",{attrs:{"align-h":"center"}},[a("b-form",{attrs:{align:"center",inline:""}},[a("b-form-input",{staticStyle:{margin:"20px"},attrs:{type:"number",min:"0",max:"10",placeholder:"min"},model:{value:t.filterRateMin,callback:function(e){t.filterRateMin=e},expression:"filterRateMin"}}),a("b-label",[t._v(" - ")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{type:"number",min:"0",max:"10",placeholder:"max"},model:{value:t.filterRateMax,callback:function(e){t.filterRateMax=e},expression:"filterRateMax"}})],1)],1),a("p",{staticStyle:{"margin-top":"20px"}},[t._v("Filter employees by workplace:")]),a("b-form-select",{attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("div",[a("b-button",{staticStyle:{margin:"40px"},attrs:{type:"reset",variant:"outline-hub",size:"lg"}},[t._v("Reset")]),a("b-button",{staticStyle:{margin:"40px"},attrs:{type:"submit",variant:"outline-hub",size:"lg"}},[t._v("Submit")])],1)],1)],1)],1),a("b-modal",{attrs:{id:"deleteConfirmation",title:"Warning! This employee is going to be removed from this drugstore!",align:"center","hide-footer":""}},[a("b-form",[a("b-row",{attrs:{"align-h":"center"}},[a("b-label",[t._v(" Are you sure that you want to delete this employee?")])],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.deleteEmployee}},[t._v("Continue")]),a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1)],1)],1)},jo=[],Ro={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{drugstoreId:"",selectedEmployee:{},employees:[],searchText:"",selected:"All_Employees",filterRateMin:0,filterRateMax:10,options:[{value:"All_Employees",text:"All Employees"},{value:"Dermatologists",text:"Dermatologists"},{value:"Pharmacists",text:"Pharmacists"}]}},methods:{getDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.drugstoreId=e.data.id})).catch((function(t){return console.log(t)}))},getEmployees:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.employees=e.data.map((function(t){return{name:t.name,surname:t.surname,averageRate:t.numberOfRates>0?t.averageRate+" (From "+t.numberOfRates+" rates)":"No rates",email:t.email,phoneNumber:t.phoneNumber,address:t.location?t.location.address:null,city:t.location?t.location.city:null,country:t.location?t.location.country:null,type:t.type}}))})).catch((function(t){return console.log(t)}))},employeesSearchResult:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/search",{params:{drugstoreAdminId:this.user.id,searchText:this.searchText,minRate:this.filterRateMin,maxRate:this.filterRateMax,type:this.selected}}).then((function(e){t.employees=e.data.map((function(t){return{name:t.name,surname:t.surname,averageRate:t.averageRate,email:t.email,phoneNumber:t.phoneNumber,address:t.location?t.location.address:null,city:t.location?t.location.city:null,country:t.location?t.location.country:null,type:t.type}}))})).catch((function(t){return console.log(t)}))},onSubmit:function(t){t.preventDefault(),this.employeesSearchResult()},onReset:function(t){t.preventDefault(),this.searchText="",this.selected="All_Employees",this.filterRateMin=0,this.filterRateMax=10},showModal:function(t){t.preventDefault(),0==this.selectedEmployee.length?alert("You need to select employee that you want to delete."):this.$root.$emit("bv::show::modal","deleteConfirmation")},onRowSelected:function(t){this.selectedEmployee=t},cancel:function(){this.$root.$emit("bv::hide::modal","deleteConfirmation")},deleteEmployee:function(t){var e=this;t.preventDefault(),"Pharmacist"==this.selectedEmployee[0].type?this.$http.delete("https://mrs-isa-usijani.herokuapp.com/employees/delete/",{params:{pharmacistEmail:this.selectedEmployee[0].email}}).then((function(){alert("Pharmacist is succesfully removed from drugstore!"),e.getEmployees()})).catch((function(t){return console.log(t)})):this.$http.delete("https://mrs-isa-usijani.herokuapp.com/employment/delete",{data:{dermatologistEmail:this.selectedEmployee[0].email,drugstoreId:this.drugstoreId}}).then((function(){alert("Dermatologist is succesfully removed from drugstore!"),e.getEmployees()})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","deleteConfirmation")}},mounted:function(){this.getDrugstore(),this.getEmployees()}},Co=Ro,Po=Object(p["a"])(Co,$o,jo,!1,null,null,null),Io=Po.exports,Oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{cols:"4"}},[a("b-card",[a("h3",[t._v("Search")]),a("b-form",{on:{submit:t.searchDrugs}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Drug name:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter drug name"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Drug type:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",placeholder:"Choose a drug type",options:t.drugTypeOptions},model:{value:t.searchForm.type,callback:function(e){t.$set(t.searchForm,"type",e)},expression:"searchForm.type"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Drug form:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter a drug form"},model:{value:t.searchForm.form,callback:function(e){t.$set(t.searchForm,"form",e)},expression:"searchForm.form"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Drug manufacturer:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.manufacturerOptions},model:{value:t.searchForm.manufacturerId,callback:function(e){t.$set(t.searchForm,"manufacturerId",e)},expression:"searchForm.manufacturerId"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Receipt needed:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.receiptOptions},model:{value:t.searchForm.receipt,callback:function(e){t.$set(t.searchForm,"receipt",e)},expression:"searchForm.receipt"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")]),a("br"),a("br")],1)],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-card",[a("b-table",{attrs:{"head-variant":"outline-hub",striped:"",hover:"",fields:t.fields,items:t.drugs,"sticky-header":"400px"},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.addToReceipt(e.item,e.index,a.target)}}},[t._v(" Add to Receipt ")]):t._e()]}}])}),a("b-pagination",{attrs:{"per-page":"3","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("b-card",{staticClass:"mt-3"},[a("b-button",{staticClass:"mt-0",attrs:{variant:"outline-hub",size:"sm"},on:{click:t.clearReceipt}},[t._v(" Clear eReceipt ")])],1),a("b-card",{staticClass:"mt-3"},[a("qrcode-vue",{ref:"canvas",attrs:{value:JSON.stringify(t.eReceipt),size:300,level:"M"}}),a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:t.downloadQrCode}},[t._v(" Download as image ")])],1)],1)],1)],1)},Ao=[],Mo=(a("caad"),a("2532"),a("d7b0")),No={name:"ReceiptGeneratorView",components:{QrcodeVue:Mo["a"]},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}})),{},{rows:function(){return 3*(this.currentPage+1)}}),watch:{currentPage:function(){this.suppress?this.suppress=!1:this.getDrugs()}},data:function(){return{drugstores:[],searchForm:{name:"",type:"",form:"",manufacturerId:"",receipt:""},fields:[{key:"name"},{key:"form"},{key:"type"},{key:"receipt"},{key:"manufacturer"},{key:"actions",label:""}],receiptOptions:[{value:null,text:"Both"},{value:!0,text:"Yes"},{value:!1,text:"No"}],selectedDrug:null,drugs:[],drugType:[],manufacturerOptions:[],drugTypeOptions:[],ingrediants:[],substitutions:[],currentPage:1,suppress:!1,currentSearch:{},eReceipt:"",eReceiptArray:[]}},methods:{clearReceipt:function(t){t.preventDefault(),this.eReceipt=""},downloadQrCode:function(t){t.preventDefault();var e=document.createElement("a");e.download="qrcode.png",e.href=document.getElementsByTagName("canvas")[0].toDataURL(),e.click(),e.delete},addToReceipt:function(t){this.eReceipt.includes(t.id)||(this.eReceipt+="".concat(t.id,",1;"))},searchDrugs:function(){this.currentSearch=JSON.parse(JSON.stringify(this.searchForm)),this.getDrugs()},getDrugs:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugs/search?page=".concat(this.currentPage-1,"&size=3"),this.currentSearch).then((function(e){0==e.data.length&&1!=t.currentPage?(t.suppress=!0,t.currentPage--):(t.suppress=!1,t.drugs=t.mapDrugs(e))})).catch((function(t){return console.log(t)}))},getManufacturers:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/manufacturers").then((function(e){t.manufacturerOptions=e.data.map((function(t){return{value:t.id,text:t.name}}))})).catch((function(t){return console.log(t)}))},getDrugTypes:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drug-types").then((function(e){t.drugTypeOptions=e.data.map((function(t){return{value:t.name,text:t.name}}))})).catch((function(t){return console.log(t)}))},getIngrediants:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/ingredients").then((function(e){t.ingrediants=e.data})).catch((function(t){return console.log(t)}))},getSubstitutionDrugs:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugs").then((function(e){t.substitutions=e.data})).catch((function(t){return console.log(t)}))},mapDrugs:function(t){return t.data.map((function(t){return{id:t.id,name:t.name,form:t.form,type:t.type.name,receipt:t.receipt?"Yes":"No",manufacturer:t.manufacturer.name,substitutions:t.substitutions&&0!=t.substitutions.length?t.substitutions.map((function(t){return t.name})).join(", "):"No substitute",ingredients:t.ingredients.map((function(t){return t.name})).join(", ")}}))}},mounted:function(){this.getManufacturers(),this.getIngrediants(),this.getSubstitutionDrugs(),this.getDrugTypes(),this.searchDrugs()}},Eo=No,qo=Object(p["a"])(Eo,Oo,Ao,!1,null,null,null),Fo=qo.exports,To=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticClass:"mt-3"},[a("b-col",[a("b-card",[a("qr-code-scanner",{on:{"qr-code-scanned":t.getReceiptData}})],1),a("b-card",{staticClass:"mt-3"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"outline-hub"}},[t._v("Show Drugs")]),a("b-collapse",{staticClass:"mt-3",attrs:{id:"collapse-1"}},[0!=t.drugstores.length?a("b-table",{attrs:{"head-variant":"outline-hub",striped:"",hover:"",fields:t.drugFields,items:t.drugs,"sticky-header":"400px"}}):t._e()],1)],1),a("b-card",{staticClass:"mt-3"},[0!=t.drugstores.length?a("b-table",{attrs:{"head-variant":"outline-hub",striped:"",hover:"",fields:t.drugstoreFields,items:t.drugstores,"sticky-header":"400px"},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.showModal(e.item,e.index,a.target)}}},[t._v(" Choose pharmacy ")]):t._e()]}}],null,!1,1576103745)}):a("div",[t._v(" There are no drugstores which contain all those drugs. ")])],1)],1)],1),a("b-modal",{attrs:{id:"my-modal",title:"Almost done!","hide-footer":""}},[a("p",[t._v(" Before you finish the reservation process you must select the date to wait for your order ")]),a("b-form",{on:{submit:t.makeReservation}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker"},model:{value:t.reservationDate,callback:function(e){t.reservationDate=e},expression:"reservationDate"}}),a("br"),a("b-button",{attrs:{disabled:""==t.reservationDate,type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1)],1)},Vo=[],zo=(a("b64b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{on:{submit:t.scanImage}},[a("b-form-row",[a("b-col",{staticStyle:{height:"300px"}},[a("div",{attrs:{id:"preview"}},[t.url?a("img",{attrs:{src:t.url,height:"300px",width:"300px"}}):a("img",{attrs:{height:"300px",width:"300px",src:"https://pest-mart.com/wp-content/plugins/woo-category-slider-by-pluginever/assets/images/placeholder.png"}})])]),a("b-col",[a("h3",{staticStyle:{"text-align":"left"}},[t._v("eReceipt Scanner")]),a("b-form-row",{staticClass:"mt-3"},[a("label",[t._v("Select image:")])]),a("b-form-row",{staticClass:"mt-3"},[a("b-form-file",{ref:"qrContainer",attrs:{type:"file",id:"img",name:"img",accept:"image/*",variant:"outline-hub"},on:{change:t.onImageChange}})],1),a("b-form-row",{staticClass:"mt-3"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-search",modifiers:{"collapse-search":!0}}],attrs:{variant:"outline-hub"}},[t._v("Advanced Search")])],1),a("b-collapse",{staticClass:"mt-3",attrs:{id:"collapse-search"}},[a("b-card",[a("b-form-row",[a("label",{attrs:{for:"nameInput"}},[t._v("Name:")]),a("b-form-input",{attrs:{id:"nameInput",size:"sm"},model:{value:t.formData.drugstoreName,callback:function(e){t.$set(t.formData,"drugstoreName",e)},expression:"formData.drugstoreName"}})],1),a("b-form-row",{staticClass:"mt-3"},[a("label",{attrs:{for:"cityInput"}},[t._v("City:")]),a("b-form-input",{attrs:{id:"cityInput",size:"sm"},model:{value:t.formData.drugstoreCity,callback:function(e){t.$set(t.formData,"drugstoreCity",e)},expression:"formData.drugstoreCity"}})],1),a("b-form-row",{staticClass:"mt-3"},[a("label",[t._v("Price:")]),a("b-col",{attrs:{cols:"3"}},[a("b-form-input",{staticClass:"ml-3",attrs:{type:"number",id:"fromPrice",size:"sm"},model:{value:t.formData.fromPrice,callback:function(e){t.$set(t.formData,"fromPrice",e)},expression:"formData.fromPrice"}})],1),a("b-col",{staticClass:"ml-3",attrs:{cols:"1","align-self":"center"}},[a("label",[t._v(" - ")])]),a("b-col",{attrs:{cols:"3"}},[a("b-form-input",{attrs:{type:"number",id:"fromPrice",size:"sm"},model:{value:t.formData.toPrice,callback:function(e){t.$set(t.formData,"toPrice",e)},expression:"formData.toPrice"}})],1)],1)],1)],1),a("b-form-row",{staticClass:"mt-3"},[a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v(" Get Drugstores ")])],1)],1)],1)],1)])}),Uo=[],Yo=a("3835"),Jo=(a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("1276"),a("7959")),Ho=a("f058"),Lo=a.n(Ho);Jo["a"].WORKER_PATH=Lo.a;var Bo={name:"QrCodeScanner",components:{},computed:{},data:function(){return{drugstores:[],qrResult:{},url:"",formData:{drugstoreName:"",fromPrice:0,toPrice:0,drugstoreCity:""}}},methods:{onImageChange:function(t){var e=t.target.files[0];this.url=URL.createObjectURL(e)},scanImage:function(t){var e=this;t.preventDefault();var a=this.$refs["qrContainer"].files[0];Jo["a"].scanImage(a).then((function(t){e.qrResult=e.parseResult(t),e.$emit("qr-code-scanned",e.qrResult,e.formData)})).catch((function(t){return console.log(t||"No QR code found.")}))},parseResult:function(t){var e,a=JSON.parse(t).split(";"),r={},n=Object(R["a"])(a);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o){var s=o.split(","),i=Object(Yo["a"])(s,2),l=i[0],u=i[1];r[l]=u}}}catch(c){n.e(c)}finally{n.f()}return r}}},Go=Bo,Wo=Object(p["a"])(Go,zo,Uo,!1,null,null,null),Qo=Wo.exports,Zo={name:"ReceiptGeneratorView",components:{QrCodeScanner:Qo},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}})),data:function(){return{drugstores:[],drugs:[],reservationDate:"",receipt:{},drugstoreId:"",drugstoreFields:[{label:"Name",key:"drugstore.name"},{label:"Address",key:"drugstore.location.address"},{label:"City",key:"drugstore.location.city"},{label:"Rating",key:"drugstore.averageRating"},{label:"Total Price",key:"totalPrice"},{key:"actions"}],drugFields:[{label:"Name",key:"name"},{label:"Form",key:"form"},{label:"Type",key:"type.name"},{label:"Manufacturer",key:"manufacturer.name"}]}},methods:{showModal:function(t){this.drugstoreId=t.drugstore.id,this.$root.$emit("bv::show::modal","my-modal"),this.modified=t},handleClose:function(){this.$root.$emit("bv::hide::modal","my-modal")},getReceiptData:function(t,e){var a=this;this.receipt=t,this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugstores/search-receipt",Object(l["a"])({receiptData:t},e)).then((function(t){a.drugstores=t.data.drugstores,a.drugs=t.data.drugs,console.log(t.data)})).catch((function(t){return console.log(t)}))},makeReservation:function(t){var e=this;t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/drugReservation/saveMultipleReservations",this.makeReservationRequestBody()).then((function(t){e.$toastr.s("Success!"),console.log(t.data)})).catch((function(t){return console.log(t)}))},makeReservationRequestBody:function(){for(var t=[],e=0,a=0,r=Object.keys(this.receipt);a<r.length;a++){var n=r[a];t.push({patientId:this.user.id,drugstoreId:this.drugstoreId,drugId:n,date:this.reservationDate}),e+=1,console.log(e)}return console.log(Object.keys(this.receipt)),console.log(this.receipt),console.log(t),t}}},Ko=Zo,Xo=Object(p["a"])(Ko,To,Vo,!1,null,null,null),ts=Xo.exports,es=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("slider"),a("b-container",[a("img",{staticClass:"d-inline-block align-top",attrs:{src:"static/full_logo.png"}})])],1)},as=[],rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:2e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"150"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[a("b-carousel-slide",{attrs:{"img-src":"static/nekaSlika2.jpg","img-height":"150"}},[a("h1",[t._v("Pharmacy hub - 25 godina sa vama!")])]),a("b-carousel-slide",{attrs:{"img-src":"static/slider2.jpg"}},[a("h1",[t._v("Zdravlje nema cenu!")])]),a("b-carousel-slide",{attrs:{"img-src":"static/nekaSlika.jpg"}},[a("h1",[t._v("Dostava lekova na kucnu adresu")])]),a("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[a("img",{staticClass:"d-block img-fluid w-100",attrs:{width:"1024",height:"100",src:"static/slider3.jpg",alt:"image slot"}})]},proxy:!0}])},[a("h1",[t._v("Preko 5000 pozitivnih korisnika.")])])],1)},ns=[],os={name:"Slider",data:function(){return{slide:0,sliding:null}},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1}}},ss=os,is=Object(p["a"])(ss,rs,ns,!1,null,null,null),ls=is.exports,us={components:{Slider:ls}},cs=us,ds=Object(p["a"])(cs,es,as,!1,null,null,null),ps=ds.exports,ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticClass:"vh-100",attrs:{"align-v":"center","align-h":"center"}},[a("b-col",{staticClass:"text-left",attrs:{cols:"5"}},[a("b-card",[a("b-form",[a("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1",description:"We'll never share your email with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Enter email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{attrs:{label:"Password:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",type:"password",placeholder:"Enter password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-button",{staticClass:"float-right",attrs:{type:"login",variant:"outline-hub"},on:{click:t.loginUser}},[t._v("Login")])],1)],1)],1)],1)],1)},hs=[],gs={name:"LoginPage",computed:Object(l["a"])({},Object(u["b"])({loginError:function(t){return t.userModule.error}})),components:{},data:function(){return{form:{email:"",password:""}}},methods:{loginUser:function(t){var e=this;t.preventDefault(),this.$store.dispatch("userModule/login",this.form),setTimeout((function(){e.loginError&&e.$toastr.e(e.loginError)}),1e3)}}},fs=gs,bs=Object(p["a"])(fs,ms,hs,!1,null,null,null),vs=bs.exports,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{padding:"80px"}},[a("b-row",{staticStyle:{margin:"20px"}},[a("b-col",[a("b-img",{attrs:{left:"",src:"https://cdn.sanity.io/images/0vv8moc6/mhe/35d3654e121cea13826925b77336d022384fcb78-1000x667.png?auto=format",alt:"Left image",fluid:""}})],1),a("b-col",{staticStyle:{"padding-left":"25px"}},[a("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"left"}},[a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Name")]),t._v(": "+t._s(t.drugstore.name))]),a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Address")]),t._v(": "+t._s(t.drugstore.location.address)+", "+t._s(t.drugstore.location.city)+", "+t._s(t.drugstore.location.country))]),a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Description")]),t._v(": "+t._s(t.drugstore.description))]),null!=t.averageRate?a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Average rating")]),t._v(": "+t._s(t.averageRate.toFixed(2))+" (From "+t._s(t.numberOfRates)+" rates)")]):t._e(),null==t.averageRate?a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Average rating")]),t._v(": There are currently no rates for your drugstore")]):t._e(),a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Working hours")]),t._v(": "+t._s(t.drugstore.workingHoursFrom)+" - "+t._s(t.drugstore.workingHoursTo))]),a("p",{staticStyle:{margin:"20px"}},[a("b",[t._v("Pharmacist appointment price")]),t._v(": "+t._s(t.drugstore.pharmacistAppointmentPrice))])])])],1),a("b-row",[a("b-col",[a("router-link",{attrs:{to:"/drugstore-reports"}},[a("b-button",{staticStyle:{margin:"20px"},attrs:{variant:"outline-hub"}},[t._v(" Drugstore reports ")])],1)],1),a("b-col",[a("router-link",{attrs:{to:"/drugstoreUpdate"}},[a("b-button",{staticStyle:{margin:"20px"},attrs:{variant:"outline-hub"}},[t._v(" Edit drugstore informations ")])],1)],1)],1)],1)},ks=[],_s={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{drugstore:{},averageRate:0,numberOfRates:0}},methods:{getMyDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/adminsDrugstore",{params:{adminId:this.user.id}}).then((function(e){t.drugstore=e.data,t.getAverageRating()})).catch((function(t){return console.log(t)}))},getAverageRating:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores/averageRate",{params:{drugstoreId:this.drugstore.id}}).then((function(e){t.averageRate=e.data.numberOfRates>0?e.data.averageRate:null,t.numberOfRates=e.data.numberOfRates})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getMyDrugstore()}},ws=_s,xs=Object(p["a"])(ws,ys,ks,!1,null,null,null),Ds=xs.exports,Ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",[a("b-table",{attrs:{id:"tabela_pacijenata",striped:"",hover:"",items:t.patients}}),0==t.patients.length?a("h3",[t._v("Sorry, there are no patients with this name/surname!")]):t._e()],1)],1),a("b-row",{attrs:{"align-h":"center"}},[0!=t.patients.length?a("b-pagination",{attrs:{"per-page":"5","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{sm:"3",md:"4",lg:"4"}},[a("div",[t.show?a("b-form",{on:{submit:t.search}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Patient Name:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",placeholder:"Enter name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{id:"input-group-4",label:"Patient Surname:","label-for":"input-4"}},[a("b-form-input",{attrs:{id:"input-4",placeholder:"Enter surname"},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Search")])],1):t._e()],1)])],1)],1)},$s=[],js={data:function(){return{substitutions:[],patients:[],form:{email:"",name:"",surname:"",food:null,substitutions:[]},foods:[{text:"Select One",value:null},"Bronze","Silver","Gold"],show:!0,rows:0,currentPage:1}},watch:{currentPage:function(){this.search()}},methods:{search:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/search?page=".concat(this.currentPage-1,"&size=5"),{params:{patientNameParam:this.form.name,patientSurnameParam:this.form.surname}}).then((function(e){t.patients=e.data.map((function(t){return{name:t.name,surname:t.surname,email:t.email,phoneNumber:t.phoneNumber,adress:t.location?t.location.address:"Null",country:t.location?t.location.country:"Null",city:t.location?t.location.city:"Null",points:t.points,category:t.category?t.category.name:"Null"}})),t.getRows()})).catch((function(t){return console.log(t)}))},getRows:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/searchLength",{params:{patientNameParam:this.form.name,patientSurnameParam:this.form.surname}}).then((function(e){t.rows=e.data})).catch((function(t){return console.log(t)}))}},mounted:function(){this.search()}},Rs=js,Cs=(a("f817"),Object(p["a"])(Rs,Ss,$s,!1,null,null,null)),Ps=Cs.exports,Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[a("div",{staticClass:"container emp-profile"},[a("form",{on:{submit:t.handleSubmit}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",[a("b-tab",{staticStyle:{height:"370px"},attrs:{title:"Profile",active:""}},[a("b-card",{staticStyle:{border:"none"}},[a("div",{staticClass:"profile-head"},[a("br"),a("h5",[t._v(" "+t._s(t.name)+" ")]),a("h6",[t._v(" "+t._s(t.employee.type)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Points")])]),a("div",{staticClass:"col-md-6"},[a("h6",[t._v(t._s(t.employee.points))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Penalties")])]),a("div",{staticClass:"col-md-6"},[a("h6",[t._v(t._s(t.employee.penaltyCounter))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Category")])]),a("div",{staticClass:"col-md-6"},[null==t.employee.category||void 0==t.employee.category?a("h6",[t._v(" Basic ")]):a("h6",[t._v(" "+t._s(t.employee.category.name)+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Name")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"name-input",required:""},model:{value:t.employee.name,callback:function(e){t.$set(t.employee,"name",e)},expression:"employee.name"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Surname")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"surname-input",required:""},model:{value:t.employee.surname,callback:function(e){t.$set(t.employee,"surname",e)},expression:"employee.surname"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Email")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:"",id:"email-input",type:"email",required:""},model:{value:t.employee.email,callback:function(e){t.$set(t.employee,"email",e)},expression:"employee.email"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Phone")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"phonenumber-input",required:""},model:{value:t.employee.phoneNumber,callback:function(e){t.$set(t.employee,"phoneNumber",e)},expression:"\n                                                    employee.phoneNumber\n                                                "}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("b-button",{staticClass:"dugme",attrs:{type:"button",variant:"outline-hub",disabled:!t.editEnabled},on:{click:t.handleEdit}},[t._v("Edit info ")])],1),a("div",{staticClass:"col-md-6"},[a("b-button",{staticClass:"dugme",attrs:{type:"submit",variant:"outline-hub",disabled:t.editEnabled}},[t._v(" Save info")])],1)])])],1),a("b-tab",{staticStyle:{height:"370px"},attrs:{title:"Pharmacist appointments"}},[a("b-card",{staticStyle:{border:"none"}},[0!=t.pharmacistappointments.length?a("b-table",{attrs:{striped:"",hover:"",fields:t.pharmacistappointmentfields,items:t.pharmacistappointments},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return["No"==e.item.processed?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(a){return t.cancelPharmacistAppointment(e.item,e.index,a.target)}}},[t._v(" Cancel appointment ")]):t._e(),"Yes"==e.item.processed?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-danger",size:"sm",disabled:""}},[t._v(" Cancel appointment ")]):t._e()]}}],null,!1,74690561)}):t._e(),a("br"),0==t.pharmacistappointments.length?a("h3",[t._v(" You have no pharmacist appointments scheduled ")]):t._e(),t.rowsPharmacist>3?a("b-pagination",{attrs:{"per-page":"3","total-rows":t.rowsPharmacist},model:{value:t.currentPagePharmacist,callback:function(e){t.currentPagePharmacist=e},expression:"currentPagePharmacist"}}):t._e(),a("router-link",{attrs:{to:"/schedule-appointment"}},[a("b-button",{attrs:{disabled:t.employee.penaltyCounter>=3,variant:"outline-hub"}},[t._v("Schedule pharmacist appointment")])],1)],1)],1),a("b-tab",{staticStyle:{height:"370px"},attrs:{title:"Dermatology appointments"}},[a("b-card",{staticStyle:{border:"none"}},[0!=t.dermatologistappointments.length?a("b-table",{attrs:{striped:"",hover:"",items:t.dermatologistappointments,fields:t.dermAppFields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return["No"==e.item.processed?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(a){return t.cancelDermatologyAppointment(e.item,e.index,a.target)}}},[t._v(" Cancel appointment ")]):t._e(),"Yes"==e.item.processed?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-danger",size:"sm",disabled:""}},[t._v(" Cancel appointment ")]):t._e()]}}],null,!1,689262898)}):t._e(),a("br"),0==t.dermatologistappointments.length?a("h3",[t._v(" You have no dermatologist appointments scheduled ")]):t._e(),t.rowsDermatologist>3?a("b-pagination",{attrs:{"per-page":"3","total-rows":t.rowsDermatologist},model:{value:t.currentPageDermatologist,callback:function(e){t.currentPageDermatologist=e},expression:"currentPageDermatologist"}}):t._e()],1)],1),a("b-tab",{staticStyle:{height:"370px"},attrs:{title:"Drug reservations"}},[a("b-card",{staticStyle:{border:"none"}},[0!=t.drugReservations.length?a("b-table",{attrs:{striped:"",hover:"",fields:t.drugReservationFields,items:t.drugReservations},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item?a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(a){return t.cancelDrugReservation(e.item,e.index,a.target)}}},[t._v(" Cancel reservation ")]):t._e()]}}],null,!1,1973767145)}):t._e(),a("br"),0==t.rows?a("h3",[t._v(" You have no drug reservations ")]):t._e(),t.rows>3?a("b-pagination",{attrs:{"per-page":"3","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)],1)],1)]),a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"}),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"tab-content profile-tab",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}})])])])])])])},Os=[],As=(a("4d90"),{watch:{currentPage:function(){this.getDrugReservations()},currentPagePharmacist:function(){this.getAppointments()},currentPageDermatologist:function(){this.getDermatologyAppointments()}},data:function(){return{today:"",rowsPharmacist:0,rows:0,rowsDermatologist:0,suppress:!0,dermatologistappointments:[],drugReservations:[],eReceiptReservations:[],employee:{},editEnabled:!0,validationPassword:"",name:"",inputValues:{date:"",time:""},pharmacistappointmentfields:[{key:"pharmacist"},{key:"date"},{key:"time"},{key:"processed",label:"Done"},{key:"actions",label:"Cancel appointment"}],dermAppFields:[{key:"dermatologist"},{key:"date"},{key:"time"},{key:"processed",label:"Done"},{key:"actions",label:"Cancel appointment"}],drugReservationFields:[{key:"drug"},{key:"drugstore"},{key:"date"},{key:"receipt",label:"eReceipt"},{key:"actions",label:""}],pharmacistappointments:[],itemm:{},currentPage:1,currentPagePharmacist:1,currentPageDermatologist:1}},methods:{cancelPharmacistAppointment:function(t){var e=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/cancelAppointment",{params:{pharmacistAppointmentId:t.id}}).then((function(){e.currentPagePharmacist>1?e.currentPagePharmacist--:e.getAppointments()})).then(alert("Pharmacist appointment succesfully canceled!")).catch((function(t){return console.log(t)}))},cancelDermatologyAppointment:function(t){var e=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/cancelAppointment",{params:{dermatologistAppointmentId:t.id}}).then((function(t){e.currentPageDermatologist>1?e.currentPageDermatologist--:e.getDermatologyAppointments(),e.dermatologistappointments=t.data.map((function(t){return{id:t.id,dermatologist:t.dermatologist.name,date:t.date.slice(0,10),time:t.time.slice(0,5)}}))})).then(alert("Dermatology appointment succesfully canceled!")).catch((function(t){return console.log(t)}))},reservationNotPickedUp:function(){for(var t in this.drugReservations)this.drugReservations[t].date==this.today&&this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/penalty",{params:{patientId:this.user.id,reservationId:this.drugReservations[t].id,type:"Drug reservation"}}).then((function(t){console.log(t)})).catch((function(t){return console.log(t)}))},cancelDrugReservation:function(t){var e=this;this.$http.put("https://mrs-isa-usijani.herokuapp.com/drugReservation/cancelReservation",{drugReservationId:t.id,patientId:this.user.id}).then((function(){e.currentPage>1?e.currentPage--:e.getDrugReservations()})).then(alert("Drug reservation succesfully canceled!")).catch((function(t){return console.log(t)}))},handleClose:function(){this.$root.$emit("bv::hide::modal","my-modal")},showForm:function(t){t.preventDefault(),this.$root.$emit("bv::show::modal","my-modal")},getEmployee:function(){var t=this,e=new Date,a=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();e=n+"-"+r+"-"+a,this.today=e,this.employee.id=this.user.id,this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/id",{params:{patientId:this.employee.id}}).then((function(e){t.employee=e.data,t.name=t.employee.name})).catch((function(t){return console.log(t)}))},handleEdit:function(){this.editEnabled=!1},handleSubmit:function(t){t.preventDefault(),this.name=this.employee.name,this.editEnabled=!0,this.$http.put("https://mrs-isa-usijani.herokuapp.com/patients",this.employee).then((function(t){console.log(t),console.log("ovde")})).catch((function(t){return console.log(t)}))},validatePassword:function(){return this.employee.password==this.validationPassword},getDrugReservationsLength:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugReservation/getPatientReservationsLength",{params:{patientId:this.user.id}}).then((function(e){t.rows=e.data})).catch((function(t){return console.log(t)}))},getPharmacistAppointmentLength:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/reservations-length",{params:{patientId:this.user.id}}).then((function(e){t.rowsPharmacist=e.data})).catch((function(t){return console.log(t)}))},getDermatologistAppointmentLength:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/reservations-length",{params:{patientId:this.user.id}}).then((function(e){t.rowsDermatologist=e.data})).catch((function(t){return console.log(t)}))},getDrugReservations:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugReservation/getPatientReservations?page=".concat(this.currentPage-1,"&size=3"),{params:{patientId:this.user.id}}).then((function(e){t.getDrugReservationsLength(),t.drugReservations=e.data.map((function(t){return{id:t.id,drug:t.drug.name,drugstore:t.drugstore.name,date:t.date,receipt:t.eReceipt?"Yes":"No"}}))})).catch((function(t){return console.log(t)}))},getAppointments:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/get-appointments?page=".concat(this.currentPagePharmacist-1,"&size=3"),{params:{patientId:this.user.id}}).then((function(e){t.getPharmacistAppointmentLength(),t.pharmacistappointments=e.data.map((function(t){return{id:t.id,pharmacist:t.pharmacist.name,date:t.date.slice(0,10),time:t.time.slice(0,5),processed:t.processed?"Yes":"No"}}))})).catch((function(t){return console.log(t)}))},getDermatologyAppointments:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/returnAppointments?page=".concat(this.currentPageDermatologist-1,"&size=3"),{params:{patientId:this.user.id}}).then((function(e){t.getDermatologistAppointmentLength(),t.dermatologistappointments=e.data.map((function(t){return{id:t.id,dermatologist:t.dermatologist.name,date:t.date.slice(0,10),time:t.time.slice(0,5),processed:t.processed?"Yes":"No"}}))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getDrugReservations(),this.getEmployee(),this.getAppointments(),this.getDermatologyAppointments()},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}})),{},{validationState:function(){return this.editEnabled?null:this.employee.password==this.validationPassword}})}),Ms=As,Ns=(a("905c"),Object(p["a"])(Ms,Is,Os,!1,null,null,null)),Es=Ns.exports,qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" Pharmacist absence requests overview ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{striped:"",hover:"",items:t.requests,fields:t.fields,selectable:"","select-mode":"single"},on:{"row-selected":t.onRowSelected}}),0==t.requests.length?a("p",[t._v(" There are no absence requests at the moment. ")]):t._e()],1),0!=t.requests.length&&0!=t.selectedRequest.length?a("div",{staticStyle:{margin:"40px"}},[a("p",[a("b",[t._v("Reason of request")]),t._v(":")]),a("b-form-input",{attrs:{id:"input-large",placeholder:"Reason..",disabled:""},model:{value:t.selectedRequest[0].reason,callback:function(e){t.$set(t.selectedRequest[0],"reason",e)},expression:"selectedRequest[0].reason"}})],1):t._e(),0!=t.requests.length?a("div",[a("b-button",{staticStyle:{"margin-right":"50px"},attrs:{variant:"outline-hub",size:"lg"},on:{click:t.acceptRequest}},[t._v(" Accept ")]),a("b-button",{staticStyle:{"margin-left":"50px"},attrs:{variant:"outline-hub",size:"lg"},on:{click:t.rejectRequest}},[t._v(" Reject ")])],1):t._e(),a("b-modal",{attrs:{id:"rejectConfirmation",title:"Complete rejection",align:"center","hide-footer":""}},[a("b-form",[a("b-row",{staticStyle:{padding:"20px"}},[a("b-label",{staticStyle:{"margin-bottom":"10px"}},[t._v(" Reason of rejection: ")]),a("b-form-input",{attrs:{id:"input-default",placeholder:"Type the reason of rejection.."},model:{value:t.reasonOfRejection,callback:function(e){t.reasonOfRejection=e},expression:"reasonOfRejection"}})],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.reject}},[t._v("Finish")]),a("b-button",{staticStyle:{margin:"20px"},attrs:{type:"button",variant:"outline-hub"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1)],1)],1)},Fs=[],Ts={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{drugstoreId:"",selectedRequest:[],requests:[],reasonOfRejection:"",fields:[{key:"name"},{key:"surname"},{key:"absence_start_date"},{key:"absence_end_date"}]}},methods:{getDrugstoreAndEmployees:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.drugstoreId=e.data.id,t.getRequests()})).catch((function(t){return console.log(t)}))},getRequests:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/pharmacistRequests",{params:{drugstoreId:this.drugstoreId}}).then((function(e){t.requests=e.data.map((function(t){return{name:t.pharmacistName,surname:t.pharmacistSurname,absence_start_date:t.startDate.slice(0,10),absence_end_date:t.endDate.slice(0,10),reason:t.reason,requestId:t.requestId}}))})).catch((function(t){return console.log(t)}))},acceptRequest:function(){var t=this;0==this.selectedRequest.length?alert("You need to select absence request that you want to accept."):this.$http.post("https://mrs-isa-usijani.herokuapp.com/absence-request/approvePharmacist/"+this.selectedRequest[0].requestId).then((function(e){alert(e.data),t.getRequests()})).catch((function(t){return console.log(t)}))},rejectRequest:function(t){t.preventDefault(),0==this.selectedRequest.length?alert("You need to select absence request that you want to reject."):this.$root.$emit("bv::show::modal","rejectConfirmation")},reject:function(){var t=this;this.$http.post("https://mrs-isa-usijani.herokuapp.com/absence-request/reject",{requestId:this.selectedRequest[0].requestId,reasonOfRejection:this.reasonOfRejection}).then((function(e){alert(e.data),t.getRequests(),t.$root.$emit("bv::hide::modal","rejectConfirmation")})).catch((function(t){return console.log(t)}))},cancel:function(){this.$root.$emit("bv::hide::modal","rejectConfirmation")},onRowSelected:function(t){this.selectedRequest=t}},mounted:function(){this.getDrugstoreAndEmployees()}},Vs=Ts,zs=Object(p["a"])(Vs,qs,Fs,!1,null,null,null),Us=zs.exports,Ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",[t._v(" List of pharmacists ")]),a("div",{staticStyle:{margin:"40px","border-style":"solid"}},[a("b-table",{attrs:{striped:"",hover:"",items:t.pharmacists}}),0==t.pharmacists.length?a("p",[t._v(" There are no pharmacists for this criteria.")]):t._e()],1),a("b-container",{staticStyle:{"margin-left":"60px"}},[a("b-row",[a("p",[a("b",[t._v("Search:")])])]),a("b-row",{staticStyle:{"margin-left":"20px"},attrs:{"align-h":"left"}},[a("b-form",{staticStyle:{width:"80%"},attrs:{align:"center",inline:""}},[a("b-label",[t._v("Name:")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{placeholder:"Enter name"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("b-label",[t._v("Surname:")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{placeholder:"Enter surname"},model:{value:t.searchSurname,callback:function(e){t.searchSurname=e},expression:"searchSurname"}})],1)],1),a("b-row",[a("p",[a("b",[t._v("Filters:")])])]),a("b-row",{staticStyle:{"margin-left":"20px"},attrs:{"align-h":"left"}},[a("b-form",{staticStyle:{width:"80%"},attrs:{align:"center",inline:""}},[a("b-label",[t._v("Average rate:")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{type:"number",min:"0",max:"10",placeholder:"min"},model:{value:t.filterRateMin,callback:function(e){t.filterRateMin=e},expression:"filterRateMin"}}),a("b-label",[t._v(" - ")]),a("b-form-input",{staticStyle:{margin:"20px"},attrs:{type:"number",min:"0",max:"10",placeholder:"max"},model:{value:t.filterRateMax,callback:function(e){t.filterRateMax=e},expression:"filterRateMax"}})],1)],1),a("b-row",{staticStyle:{"margin-left":"20px"},attrs:{"align-h":"left"}},[a("b-form",{staticStyle:{width:"80%"},attrs:{align:"center",inline:""}},[a("b-label",[t._v("Drugstore:")]),a("b-form-select",{staticStyle:{margin:"20px"},attrs:{options:t.drugstores},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-button",{staticStyle:{margin:"40px"},attrs:{type:"reset",variant:"outline-hub",size:"lg"},on:{click:t.onReset}},[t._v("Reset")]),a("b-button",{staticStyle:{margin:"40px"},attrs:{type:"submit",variant:"outline-hub",size:"lg"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},Js=[],Hs={data:function(){return{pharmacists:[],searchName:"",searchSurname:"",filterRateMin:0,filterRateMax:10,selected:"",drugstores:[]}},methods:{getPharmacists:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/pharmacists").then((function(e){t.pharmacists=e.data.map((function(t){return{name:t.name,surname:t.surname,averageRate:t.averageRate,drugstore:t.drugstoreName}}))})).catch((function(t){return console.log(t)}))},getDrugstores:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/drugstores").then((function(e){t.drugstores=e.data.map((function(t){return{value:t,text:t.name}}))})).catch((function(t){return console.log(t)}))},pharmacistSearchResult:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/pharmacists/search",{params:{name:this.searchName,surname:this.searchSurname,minRate:this.filterRateMin,maxRate:this.filterRateMax,drugstore:this.selected.name?this.selected.name:""}}).then((function(e){t.pharmacists=e.data.map((function(t){return{name:t.name,surname:t.surname,averageRate:t.averageRate,drugstore:t.drugstoreName}}))})).catch((function(t){return console.log(t)}))},onSubmit:function(){this.pharmacistSearchResult()},onReset:function(t){t.preventDefault(),this.searchName="",this.searchSurname="",this.filterRateMin=0,this.filterRateMax=10,this.selected="",this.getPharmacists()}},mounted:function(){this.getPharmacists(),this.getDrugstores()}},Ls=Hs,Bs=Object(p["a"])(Ls,Ys,Js,!1,null,null,null),Gs=Bs.exports,Ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.employee&&0!==Object.keys(t.employee).length?a("div",{staticClass:"container emp-profile"},[a("form",{on:{submit:t.handleSubmit}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"profile-head"},[a("h5",[t._v(" "+t._s(t.name)+" ")]),a("h6",[t._v(" "+t._s(t.employee.type)+" ")]),a("p",{staticClass:"proile-rating"},[t._v("RATING : "),a("span",[t._v(t._s(t.employee.rating))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"tab-content profile-tab",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"about",role:"tabpanel","aria-labelledby":"home-tab"}},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"name-input",required:""},model:{value:t.employee.name,callback:function(e){t.$set(t.employee,"name",e)},expression:"employee.name"}})],1)]),a("div",{staticClass:"row"},[t._m(1),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"name-input",required:""},model:{value:t.employee.surname,callback:function(e){t.$set(t.employee,"surname",e)},expression:"employee.surname"}})],1)]),a("div",{staticClass:"row"},[t._m(2),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:"",id:"email-input",type:"email",required:""},model:{value:t.employee.email,callback:function(e){t.$set(t.employee,"email",e)},expression:"employee.email"}})],1)]),a("div",{staticClass:"row"},[t._m(3),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"phonenumber-input",required:""},model:{value:t.employee.phoneNumber,callback:function(e){t.$set(t.employee,"phoneNumber",e)},expression:"employee.phoneNumber"}})],1)]),a("div",{staticClass:"row"},[t._m(4),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"address-input",required:""},model:{value:t.employee.location.address,callback:function(e){t.$set(t.employee.location,"address",e)},expression:"employee.location.address"}})],1)]),a("div",{staticClass:"row"},[t._m(5),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"city-input",required:""},model:{value:t.employee.location.city,callback:function(e){t.$set(t.employee.location,"city",e)},expression:"employee.location.city"}})],1)]),a("div",{staticClass:"row"},[t._m(6),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"country-input",required:""},model:{value:t.employee.location.country,callback:function(e){t.$set(t.employee.location,"country",e)},expression:"employee.location.country"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("b-button",{staticClass:"dugme",attrs:{type:"button",variant:"outline-hub",disabled:!t.editEnabled},on:{click:t.handleEdit}},[t._v("Edit info")])],1),a("div",{staticClass:"col-md-4"},[a("b-button",{staticClass:"dugme",attrs:{type:"submit",variant:"outline-hub",disabled:t.editEnabled}},[t._v("Save info")])],1),a("div",{staticClass:"col-md-4"},[a("b-button",{staticClass:"dugme",attrs:{variant:"outline-hub"},on:{click:t.handlePassword}},[t._v("Change password")])],1)])]),t._m(7)])])])]),a("b-modal",{attrs:{id:"my-modal",title:"Change password","hide-footer":""}},[a("b-form",{on:{submit:t.oldPasswordValidate}},[a("b-form-input",{attrs:{id:"password-input1",type:"password",required:"",placeholder:"Old password"},model:{value:t.oldPasswordInput,callback:function(e){t.oldPasswordInput=e},expression:"oldPasswordInput"}}),a("br"),a("b-form-input",{attrs:{id:"password-input2",type:"password",required:"",placeholder:"New password"},model:{value:t.newPasswordInput,callback:function(e){t.newPasswordInput=e},expression:"newPasswordInput"}}),a("br"),a("b-form-input",{attrs:{id:"password-input3",type:"password",required:"",state:t.validationState,placeholder:"Repeat new password"},model:{value:t.newPasswordValidateInput,callback:function(e){t.newPasswordValidateInput=e},expression:"newPasswordValidateInput"}}),a("br"),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Save")])],1)],1)],1):t._e()},Qs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("label",[t._v("Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("label",[t._v("Surname")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("label",[t._v("Email")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("label",[t._v("Phone")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("label",[t._v("Adress")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("label",[t._v("City")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("label",[t._v("Country")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-pane fade",attrs:{id:"schedule",role:"tabpanel","aria-labelledby":"profile-tab"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Experience")])]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("Expert")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Hourly Rate")])]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("10$/hr")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Total Projects")])]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("230")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("English Level")])]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("Expert")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Availability")])]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("6 months")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Your Bio")]),a("br"),a("p",[t._v("Your detail description")])])])])}],Zs={computed:Object(l["a"])({validationState:function(){return this.newPasswordInput==this.newPasswordValidateInput}},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{employee:{},editEnabled:!0,validationPassword:"",name:"",oldPasswordInput:"",newPasswordInput:"",newPasswordValidateInput:""}},methods:{getEmployee:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/id",{params:{employeeId:this.user.id}}).then((function(e){t.employee=e.data,console.log(e.data),t.name=t.employee.name})).catch((function(t){return console.log(t)}))},handleEdit:function(){this.editEnabled=!1},handlePassword:function(){this.$root.$emit("bv::show::modal","my-modal")},handleSubmit:function(t){t.preventDefault(),this.name=this.employee.name,this.editEnabled=!0,this.$http.put("https://mrs-isa-usijani.herokuapp.com/employees",this.employee).then((function(t){console.log(t),console.log("ovde")})).catch((function(t){return console.log(t)}))},validatePassword:function(){return this.newPasswordInput==this.newPasswordValidateInput},oldPasswordValidate:function(t){var e=this;t.preventDefault();var a=!1;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/password",{params:{employeeId:this.user.id,passwordInput:this.oldPasswordInput}}).then((function(t){a=t.data,a?e.changePassword():alert("Old password does not match!")})).catch((function(t){return console.log(t)}))},changePassword:function(){this.validatePassword()?(this.employee.password=this.newPasswordInput,this.$http.put("https://mrs-isa-usijani.herokuapp.com/employees/updatepassword",this.employee).then((function(t){console.log(t),console.log("ovde")})).catch((function(t){return console.log(t)})),this.$root.$emit("bv::hide::modal","my-modal"),this.oldPasswordInput="",this.newPasswordInput="",this.newPasswordValidateInput=""):alert("New passwords not ok!")}},created:function(){console.log(this.employee),this.getEmployee()}},Ks=Zs,Xs=(a("b9f9"),Object(p["a"])(Ks,Ws,Qs,!1,null,null,null)),ti=Xs.exports,ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Registration form")]),a("b-container",{staticStyle:{width:"30%"},attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit}},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Email address:","label-for":"input1"}},[a("b-form-input",{attrs:{id:"input1",type:"email",placeholder:"Enter email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Your Name:","label-for":"input2"}},[a("b-form-input",{attrs:{id:"input2",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Your Surname:","label-for":"input3"}},[a("b-form-input",{attrs:{id:"input3",placeholder:"Enter surname",required:""},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Your Password:","label-for":"input4"}},[a("b-form-input",{attrs:{id:"input4",placeholder:"Enter password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Your Password:","label-for":"input5"}},[a("b-form-input",{attrs:{id:"input5",placeholder:"Repeat password",type:"password",required:""},model:{value:t.form.repeatedPassword,callback:function(e){t.$set(t.form,"repeatedPassword",e)},expression:"form.repeatedPassword"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Your Phone Number:","label-for":"input6"}},[a("b-form-input",{attrs:{id:"input6",placeholder:"Enter Phone Number",type:"number",required:""},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}}),a("b-popover",{attrs:{target:"input6",id:"pop",triggers:"a",placement:t.placement}},[a("p",[a("b-icon",{staticClass:"h4",staticStyle:{position:"relative",top:"8px"},attrs:{name:"icon",icon:"exclamation-square-fill",variant:"outline-hub"}}),t._v(" Phone number must have at least 6 digits. ")],1)])],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Choose your Country:","label-for":"input6"}},[a("b-form-input",{attrs:{required:"",placeholder:"Enter country"},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Your City:","label-for":"input7"}},[a("b-form-input",{attrs:{id:"input7",placeholder:"Enter city",required:""},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1)],1)],1),a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{id:"inputg1",label:"Your Address:","label-for":"input8"}},[a("b-form-input",{attrs:{id:"input8",placeholder:"Enter address",required:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Submit")]),a("br"),a("br")],1):t._e()],1)],1)},ai=[],ri={data:function(){return{form:{email:"",password:"",repeatedPassword:"",name:"",surname:"",phoneNumber:"",location:{country:"",city:"",address:""},type:"Patient",drugstore:{}},placement:"bottomright",show:!0}},methods:{onSubmit:function(t){this.$root.$emit("bv::hide::popover","pop"),this.validatePhoneNumber()?this.validatePassword()?(t.preventDefault(),this.registerUser()):alert("Passwords aren't matching!"):this.$root.$emit("bv::show::popover","pop")},registerUser:function(){this.$http.post("https://mrs-isa-usijani.herokuapp.com/register",this.form).then((function(t){console.log(t),alert("Check your email for further instructions!")})).catch((function(t){return console.log(t)}))},validatePhoneNumber:function(){return this.form.phoneNumber.length>6},validatePassword:function(){return this.form.password==this.form.repeatedPassword}}},ni=ri,oi=Object(p["a"])(ni,ei,ai,!1,null,null,null),si=oi.exports,ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-app"},[a("div",{staticClass:"demo-app-sidebar"},[t._m(0),a("div",{staticClass:"demo-app-sidebar-section"},[a("label",[a("input",{attrs:{type:"checkbox"},domProps:{checked:t.calendarOptions.weekends},on:{change:t.handleWeekendsToggle}}),t._v(" toggle weekends ")])]),a("div",{staticClass:"demo-app-sidebar-section"},[a("h2",[t._v("All Appointments ("+t._s(t.calendarOptions.events.length)+")")]),a("ul",t._l(t.calendarOptions.events,(function(e){return a("li",{key:e.id},[a("b",[t._v(t._s(e.start.replace("T"," ")))]),a("i",[t._v(t._s(e.title))]),a("br"),a("i",[t._v("at "+t._s(e.drugstore.name))])])})),0)])]),a("div",{staticClass:"demo-app-main"},[a("FullCalendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions}})],1),t.mountedTrue?a("div",[a("b-modal",{attrs:{id:"my-modal","hide-footer":"",title:"Start appointment"}},[a("div",{staticClass:"d-block text-center"},[t.patientNotNull?a("p",[t._v("Patient: "+t._s(t.selected.extendedProps.patient.name)+" "+t._s(t.selected.extendedProps.patient.surname))]):a("p",[t._v("Available")]),a("p",[t._v("Drugstore: "+t._s(t.selected.extendedProps.drugstore.name))]),a("p",[t._v("Start: "+t._s(t.selected.start))]),a("p",[t._v("Duration: "+t._s(t.selected.extendedProps.durationn)+" minutes")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-hub",disabled:!t.patientNotNull||!t.timeValid,block:""},on:{click:t.patientNotShowup}},[t._v("Patient did not show up!")]),a("b-button",{staticClass:"mt-2",attrs:{variant:"outline-hub",disabled:!t.patientNotNull||!t.timeValid,block:""},on:{click:t.startApp}},[t._v("Start appointment!")])],1)],1):t._e(),t.mountedTrue?a("div",[a("b-modal",{attrs:{id:"passedModal","hide-footer":"",title:"Done appointment"}},[a("div",{staticClass:"d-block text-center"},[t.patientNotNull?a("p",[t._v("Patient: "+t._s(t.selected.extendedProps.patient.name)+" "+t._s(t.selected.extendedProps.patient.surname))]):a("p",[t._v("Available")]),a("p",[t._v("Drugstore: "+t._s(t.selected.extendedProps.drugstore.name))]),a("p",[t._v("Start: "+t._s(t.selected.start))]),a("p",[t._v("Duration: "+t._s(t.selected.extendedProps.durationn)+" minutes")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-hub",block:""},on:{click:t.close}},[t._v("Close")])],1)],1):t._e()])},li=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-app-sidebar-section"},[a("h2",[t._v("Instructions")]),a("ul",[a("li",[t._v("Select an appointment and you will be prompted to start it")])])])}],ui=a("f5ff"),ci=a("3cdd"),di=a("3e32"),pi=a("a20c"),mi=a("7989"),hi={components:{FullCalendar:ui["a"]},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{calendarOptions:{plugins:[ci["b"],di["a"],pi["a"],mi["a"]],headerToolbar:{left:"prev,next today",center:"title",right:"timelineYear,dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",events:[],editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,weekends:!1,eventClick:this.handleEventClick,slotEventOverlap:!0},currentEvents:[],selected:{},mountedTrue:!1,patientNotNull:!1,timeValid:!1}},methods:{close:function(){this.$root.$emit("bv::hide::modal","passedModal")},patientNotShowup:function(){var t=this;alert("Patient did not show up"),this.$root.$emit("bv::hide::modal","my-modal"),this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/penalty",{params:{patientId:this.selected.extendedProps.patient.id}}).then((function(t){console.log(t),alert("Patient received a penalty.")})).catch((function(t){return console.log(t)})),this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/end-appointment",{params:{dermatologistAppointmentId:this.selected.id,appointmentReport:"Patient did not show up!"}}).then((function(e){t.currentAppointment=e.data;var a=t.calendarOptions.events.findIndex((function(e){return e.id==t.selected.id}));t.calendarOptions.events[a].processed=!0}))},startApp:function(){alert("Appointment started"+this.selected.id),this.$root.$emit("bv::hide::modal","my-modal"),this.$router.push({name:"AppointmentDermatologist",params:{passedId:this.selected.id}})},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleEventClick:function(t){this.selected=t.event,null!=t.event.extendedProps.patient?this.patientNotNull=!0:this.patientNotNull=!1;var e=new Date,a=new Date(t.event.start);a.setMinutes(a.getMinutes()-10);var r=new Date(t.event.start);r.setMinutes(r.getMinutes()+10),e>a&&e<r&&this.patientNotNull?this.timeValid=!0:this.timeValid=!1,r<e||this.selected.extendedProps.processed?this.$root.$emit("bv::show::modal","passedModal"):this.$root.$emit("bv::show::modal","my-modal"),console.log(t.event)},handleEvents:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/all-derm-app",{params:{dermatologistId:this.user.id}}).then((function(e){t.calendarOptions.events=e.data.map((function(t){return{id:t.id,dermatologist:t.dermatologist,drugstore:t.drugstore,allDay:!1,start:t.date.substring(0,10)+"T"+t.time,displayEventTime:!0,durationn:t.duration,end:t.date.substring(0,10)+"T"+t.timeEnd,title:t.patient?t.patient.name+" "+t.patient.surname:"No patient",patient:t.patient,processed:t.processed}}))})).then((function(){t.mountedTrue=!0}))},addEmployment:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employment/employment-for-derm",{params:{dermatologistId:this.user.id}}).then((function(e){t.currentEvents=e.data.map((function(t){return{drugstore:t.drugstore,name:t.name,surname:t.surname,workingHoursTo:t.workingHoursTo,workingHoursFrom:t.workingHoursFrom}}))}))}},mounted:function(){this.handleEvents()}},gi=hi,fi=(a("41d9"),Object(p["a"])(gi,ii,li,!1,null,null,null)),bi=fi.exports,vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-app"},[a("div",{staticClass:"demo-app-sidebar"},[t._m(0),a("div",{staticClass:"demo-app-sidebar-section"},[a("label",[a("input",{attrs:{type:"checkbox"},domProps:{checked:t.calendarOptions.weekends},on:{change:t.handleWeekendsToggle}}),t._v(" toggle weekends ")])]),a("div",{staticClass:"demo-app-sidebar-section"},[a("h2",[t._v("All Appointments ("+t._s(t.calendarOptions.events.length)+")")]),a("ul",t._l(t.calendarOptions.events,(function(e){return a("li",{key:e.id},[a("b",[t._v(t._s(e.start.replace("T"," ")))]),a("i",[t._v(t._s(e.title))]),a("br"),a("i",[t._v("at "+t._s(e.pharmacist.drugstore.name))])])})),0)])]),a("div",{staticClass:"demo-app-main"},[a("FullCalendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions}})],1),t.mountedTrue?a("div",[a("b-modal",{attrs:{id:"my-modal","hide-footer":"",title:"Start appointment"}},[a("div",{staticClass:"d-block text-center"},[t.patientNotNull?a("p",[t._v("Patient: "+t._s(t.selected.extendedProps.patient.name)+" "+t._s(t.selected.extendedProps.patient.surname))]):a("p",[t._v("Available")]),a("p",[t._v("Drugstore: "+t._s(t.selected.extendedProps.pharmacist.drugstore.name))]),a("p",[t._v("Start: "+t._s(t.selected.start))]),a("p",[t._v("Duration: "+t._s(t.selected.extendedProps.durationn)+" minutes")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-hub",disabled:!t.patientNotNull||!t.timeValid,block:""},on:{click:t.patientNotShowup}},[t._v("Patient did not show up!")]),a("b-button",{staticClass:"mt-2",attrs:{variant:"outline-hub",disabled:!t.patientNotNull||!t.timeValid,block:""},on:{click:t.startApp}},[t._v("Start appointment!")])],1)],1):t._e(),t.mountedTrue?a("div",[a("b-modal",{attrs:{id:"passedModal","hide-footer":"",title:"Done appointment"}},[a("div",{staticClass:"d-block text-center"},[t.patientNotNull?a("p",[t._v("Patient: "+t._s(t.selected.extendedProps.patient.name)+" "+t._s(t.selected.extendedProps.patient.surname))]):a("p",[t._v("Available")]),a("p",[t._v("Drugstore: "+t._s(t.selected.extendedProps.pharmacist.drugstore.name))]),a("p",[t._v("Start: "+t._s(t.selected.start))]),a("p",[t._v("Duration: "+t._s(t.selected.extendedProps.durationn)+" minutes")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-hub",block:""},on:{click:t.close}},[t._v("Close")])],1)],1):t._e()])},yi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-app-sidebar-section"},[a("h2",[t._v("Instructions")]),a("ul",[a("li",[t._v("Select an appointment and you will be prompted to start it")])])])}],ki={components:{FullCalendar:ui["a"]},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{calendarOptions:{plugins:[ci["b"],di["a"],pi["a"],mi["a"]],headerToolbar:{left:"prev,next today",center:"title",right:"timelineYear,dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",events:[],editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,weekends:!1,eventClick:this.handleEventClick,slotEventOverlap:!0},currentEvents:[],selected:{},mountedTrue:!1,patientNotNull:!1,timeValid:!1}},methods:{close:function(){this.$root.$emit("bv::hide::modal","passedModal")},patientNotShowup:function(){var t=this;alert("Patient did not show up"),console.log(this.selected.extendedProps.patient.id),this.$root.$emit("bv::hide::modal","my-modal"),this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/penalty",{params:{patientId:this.selected.extendedProps.patient.id}}).then((function(t){console.log(t),alert("Patient received a penalty.")})).catch((function(t){return console.log(t)})),this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/end-appointment",{params:{pharmacistAppointmentId:this.selected.id,appointmentReport:"Patient did not show up!"}}).then((function(e){t.currentAppointment=e.data;var a=t.calendarOptions.events.findIndex((function(e){return e.id==t.selected.id}));t.calendarOptions.events[a].processed=!0}))},startApp:function(){alert("Appointment started"+this.selected.id),this.$root.$emit("bv::hide::modal","my-modal"),this.$router.push({name:"AppointmentPharmacist",params:{passedId:this.selected.id}})},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleEventClick:function(t){this.selected=t.event,null!=t.event.extendedProps.patient?this.patientNotNull=!0:this.patientNotNull=!1;var e=new Date,a=new Date(t.event.start);a.setMinutes(a.getMinutes()-10);var r=new Date(t.event.start);r.setMinutes(r.getMinutes()+10),e>a&&e<r&&this.patientNotNull?this.timeValid=!0:this.timeValid=!1,r<e||this.selected.extendedProps.processed?this.$root.$emit("bv::show::modal","passedModal"):this.$root.$emit("bv::show::modal","my-modal"),console.log(t.event)},handleEvents:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/all-appointments",{params:{pharmacistId:this.user.id}}).then((function(e){t.calendarOptions.events=e.data.map((function(t){return{id:t.id,pharmacist:t.pharmacist,allDay:!1,start:t.date.substring(0,10)+"T"+t.time,displayEventTime:!0,durationn:t.duration,end:t.date.substring(0,10)+"T"+t.timeEnd,title:t.patient?t.patient.name+" "+t.patient.surname:"Available",patient:t.patient,processed:t.processed}}))})).then((function(){t.mountedTrue=!0}))},addEmployment:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employment/employment-for-derm",{params:{dermatologistId:this.user.id}}).then((function(e){t.currentEvents=e.data.map((function(t){return{drugstore:t.drugstore,name:t.name,surname:t.surname,workingHoursTo:t.workingHoursTo,workingHoursFrom:t.workingHoursFrom}}))}))}},mounted:function(){this.handleEvents()}},_i=ki,wi=(a("b865"),Object(p["a"])(_i,vi,yi,!1,null,null,null)),xi=wi.exports,Di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[0==t.employees.length&0==t.drugstores.length?a("h1",[t._v("Choose a date and time for your appointment")]):t._e(),0==t.employees.length&0!=t.drugstores.length?a("h1",[t._v("Choose a drugstore for your appointment")]):t._e(),0!=t.employees.length&0!=t.drugstores.length?a("h1",[t._v("Choose a pharmacist for your appointment")]):t._e(),0==t.employees.length&0==t.drugstores.length?a("b-form",{on:{submit:t.showDrugstores}},[a("b-form-group",{attrs:{label:"Pharmacist appointment date","label-for":"date-picker","invalid-feedback":"Appointment date is required"}},[a("b-form-datepicker",{attrs:{id:"date-input",min:t.min,required:""},model:{value:t.inputValues.date,callback:function(e){t.$set(t.inputValues,"date",e)},expression:"inputValues.date"}})],1),a("b-form-group",{attrs:{label:"Pharmacist appointment time","label-for":"time-picker","invalid-feedback":"Appointment time is required"}},[a("b-form-timepicker",{attrs:{locale:"en",required:""},model:{value:t.inputValues.time,callback:function(e){t.$set(t.inputValues,"time",e)},expression:"inputValues.time"}})],1),a("b-button",{attrs:{type:"submit",variant:"outline-hub"}},[t._v("Search")])],1):t._e(),a("br"),1==t.searched&0==t.drugstores.length?a("h1",[t._v("Sorry, there are no available pharmacists at this time.")]):t._e(),0==t.employees.length&0!=t.drugstores.length?a("b-table",{attrs:{striped:"",hover:"",items:t.drugstores,fields:t.fieldsDrugstores},on:{"row-clicked":t.getPharmacists}}):t._e(),0!=t.employees.length?a("b-table",{attrs:{striped:"",hover:"",items:t.employees,fields:t.fieldsPharmacists},on:{"row-clicked":t.saveAppointment}}):t._e()],1)},Si=[],$i={data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e);return{searched:0,drugstores:[],employees:[],min:a,inputValues:{time:"",date:""},saveData:{pharmacistId:"",date:"",time:"",duration:30,patientId:""},fieldsDrugstores:[{key:"name"},{key:"adress"},{key:"city"},{key:"rating",sortable:!0}],fieldsPharmacists:[{key:"name"},{key:"surname"},{key:"rating",sortable:!0}]}},methods:{saveAppointment:function(t){var e=this;this.saveData.pharmacistId=t.id,this.saveData.date=this.inputValues.date,this.saveData.time=this.inputValues.time,this.saveData.patientId=this.user.id,this.$http.post("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/with-patient",JSON.parse(JSON.stringify(this.saveData))).then((function(t){console.log(t),alert("New appointment is successfully created."),e.$router.push({path:"patient"})})).catch((function(t){alert("You already have an appointment at that time."),console.log(t)}))},getPharmacists:function(t){var e=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/get-pharmacists",{params:{drugstoreId:t.id,pharmacistAppointmentDate:this.inputValues.date,pharmacistAppointmentTime:this.inputValues.time}}).then((function(t){e.employees=t.data.map((function(t){return{id:t.id,name:t.name,surname:t.surname,email:t.email,phoneNumber:t.phoneNumber,address:t.location?t.location.address:null,city:t.location?t.location.city:null,country:t.location?t.location.country:null,type:t.type}}))})).catch((function(t){return console.log(t)}))},showDrugstores:function(t){var e=this;t.preventDefault(),""!=this.inputValues.date&&""!=this.inputValues.time&&(this.searched=1,this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/get-drugstores",{params:{pharmacistAppointmentDate:this.inputValues.date,pharmacistAppointmentTime:this.inputValues.time}}).then((function(t){e.drugstores=t.data.map((function(t){return{id:t.id,name:t.name,adress:t.location.address,country:t.location.country,city:t.location.city,description:t.decription,rating:t.averageRating}}))})).catch((function(t){return console.log(t)})))}},computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser},email:function(t){return t.userModule.loggedInUser.email},role:function(t){return t.userModule.loggedInUser.type}}))},ji=$i,Ri=Object(p["a"])(ji,Di,Si,!1,null,null,null),Ci=Ri.exports,Pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",[t._l(t.getCardDrugstores(),(function(e,r){return[a("b-row",{key:r,attrs:{"cols-lg":"4"}},t._l(e,(function(e){return a("b-col",{key:e.id,staticStyle:{padding:"20px","text-align":"center"}},[a("subscription-card",{attrs:{subscription:e},on:{unsubscribed:t.handleUnsubscribe}})],1)})),1)]})),0==t.drugstores.length?a("h1",[t._v(" You have no subscriptions")]):t._e()],2)],1)],1)},Ii=[],Oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"border-variant":"hub"},scopedSlots:t._u([{key:"header",fn:function(){return[a("a",{staticClass:"x-icon",attrs:{href:"#"},on:{click:t.unsubscribe}},[a("b-icon",{staticStyle:{float:"right"},attrs:{icon:"x",scale:"1.5",variant:"hub"}})],1),a("h4",{staticClass:"mr-3"},[t._v(t._s(t.subscription.name))])]},proxy:!0}])},[a("b-card-body",[a("img",{staticStyle:{"max-width":"10rem","border-radius":"70%"},attrs:{src:"https://cdn.sanity.io/images/0vv8moc6/mhe/35d3654e121cea13826925b77336d022384fcb78-1000x667.png?auto=format"}})]),a("div",{staticStyle:{"text-align":"center",padding:"0.5rem"}},[a("router-link",{attrs:{to:"drugstores/"+t.subscription.id}},[a("b-button",{staticStyle:{width:"50%"},attrs:{variant:"outline-hub"}},[t._v("Visit")])],1)],1)],1)},Ai=[],Mi={props:{subscription:{}},computed:Object(l["a"])({},Object(u["b"])({patientId:function(t){return t.userModule.loggedInUser.id}})),methods:{unsubscribe:function(t){var e=this;t.preventDefault(),this.$http.post("https://mrs-isa-usijani.herokuapp.com/subscription/unsubscribe/",{patientId:this.patientId,drugstoreId:this.subscription.id}).then((function(){return e.$emit("unsubscribed",e.subscription.id)})).catch((function(t){return e.$toastr.e(t)}))}}},Ni=Mi,Ei=Object(p["a"])(Ni,Oi,Ai,!1,null,null,null),qi=Ei.exports,Fi={computed:Object(l["a"])({},Object(u["b"])({patientId:function(t){return t.userModule.loggedInUser.id}})),components:{SubscriptionCard:qi},name:"SubscriptionView",data:function(){return{drugstores:[]}},methods:{getDrugstores:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/subscription/patient/".concat(this.patientId)).then((function(e){t.drugstores=t.mapDrugstores(e)})).catch((function(t){return console.log(t)}))},mapDrugstores:function(t){return t.data.map((function(t){return{subId:t.id,id:t.drugstoreId,name:t.name,adress:t.address,country:t.country,city:t.city,description:t.decription,rating:t.averageRating}}))},getCardDrugstores:function(){for(var t=[],e=0;e<this.drugstores.length;e+=4)t.push(this.drugstores.slice(e,e+4));return t},handleUnsubscribe:function(){this.getDrugstores()}},mounted:function(){this.getDrugstores()}},Ti=Fi,Vi=Object(p["a"])(Ti,Pi,Ii,!1,null,null,null),zi=Vi.exports,Ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-modal",{attrs:{id:"my-modal",title:"Appointment","hide-footer":""}},[a("b-form",[a("b-form-group",{attrs:{label:"Name","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",disabled:""},model:{value:t.selected.first_name,callback:function(e){t.$set(t.selected,"first_name",e)},expression:"selected.first_name"}})],1),a("b-form-group",{attrs:{label:"Surname","label-for":"surname-input"}},[a("b-form-input",{attrs:{id:"surname-input",disabled:""},model:{value:t.selected.last_name,callback:function(e){t.$set(t.selected,"last_name",e)},expression:"selected.last_name"}})],1),a("b-form-group",{attrs:{label:"Drugstore","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",type:"email",disabled:""},model:{value:t.selected.drugstore,callback:function(e){t.$set(t.selected,"drugstore",e)},expression:"selected.drugstore"}})],1),a("b-form-group",{attrs:{label:"Start","label-for":"phonenumber-input"}},[a("b-form-input",{attrs:{id:"phonenumber-input",disabled:""},model:{value:t.selected.start,callback:function(e){t.$set(t.selected,"start",e)},expression:"selected.start"}})],1),a("b-form-group",{attrs:{label:"Duration","label-for":"duration-input"}},[a("b-form-input",{attrs:{id:"duration-input",disabled:""},model:{value:t.selected.duration,callback:function(e){t.$set(t.selected,"duration",e)},expression:"selected.duration"}})],1),a("b-form-group",{attrs:{label:"Appointment report","label-for":"duration-input"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selected.appointment_report,expression:"selected.appointment_report"}],staticStyle:{resize:"none"},attrs:{disabled:"",id:"diagnosis",name:"diagnosis",rows:"10",cols:"47"},domProps:{value:t.selected.appointment_report},on:{input:function(e){e.target.composing||t.$set(t.selected,"appointment_report",e.target.value)}}})]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1),a("b-row",{staticStyle:{margin:"20px"},attrs:{"align-h":"center"}},[a("b-form-select",{staticStyle:{width:"30%",margin:"2px"},attrs:{options:t.options},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}}),a("b-button",{staticClass:"mr-1",staticStyle:{margin:"2px"},attrs:{variant:"outline-hub",size:"sm"},on:{click:t.sort}},[t._v(" Sort ")])],1),a("b-row",{staticStyle:{margin:"20px"},attrs:{"align-h":"center"}},[a("b-col",[a("b-table",{attrs:{id:"tabela_pacijenata",striped:"",hover:"",items:t.patients,fields:t.fields},on:{"row-clicked":t.showModal},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.patientProfileView(e.item,e.index,a.target)}}},[t._v(" Visit patient profile ")])]}}])}),0==t.patients.length?a("h1",[t._v(" You have no history of appointments!")]):t._e()],1)],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-pagination",{attrs:{"per-page":"5","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Yi=[],Ji={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{selectedOption:"",options:[{text:"First Name",value:"patient.name"},{text:"Last Name",value:"patient.surname"},{text:"Drugstore",value:"drugstore.name"},{text:"Start",value:"date"},{text:"Duration",value:"duration"}],selected:{},patients:[],fields:[{key:"last_name"},{key:"first_name"},{key:"drugstore"},{key:"start"},{key:"duration"},{key:"actions",label:"Visit"}],rows:0,currentPage:1}},watch:{currentPage:function(){this.getAllPatients()}},methods:{getAllPatients:function(){var t=this;"Dermatologist"==this.user.type?this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/all-derm-done?page=".concat(this.currentPage-1,"&size=5"),{params:{dermatologistId:this.user.id,sortBy:this.selectedOption}}).then((function(e){t.getRows(),t.patients=e.data.map((function(t){return{id:t.patient.id,first_name:t.patient.name,last_name:t.patient.surname,drugstore:t.drugstore.name,start:t.date.substring(0,10)+" "+t.time,duration:t.duration,end:t.date.substring(0,10)+" "+t.timeEnd,appointment_report:t.appointmentReport}}))})):this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/all-pharm-done?page=".concat(this.currentPage-1,"&size=5"),{params:{pharmacistId:this.user.id,sortBy:this.selectedOption}}).then((function(e){t.getRows(),t.patients=e.data.map((function(t){return{id:t.patient.id,first_name:t.patient.name,last_name:t.patient.surname,drugstore:t.pharmacist.drugstore.name,start:t.date.substring(0,10)+" "+t.time,duration:t.duration,end:t.date.substring(0,10)+" "+t.timeEnd,appointment_report:t.appointmentReport}}))}))},handleClose:function(){this.$root.$emit("bv::hide::modal","my-modal")},showModal:function(t){this.$root.$emit("bv::show::modal","my-modal"),this.selected=JSON.parse(JSON.stringify(t)),console.log(this.selected)},patientProfileView:function(t){"Dermatologist"==this.user.type?this.$router.push({name:"PatientProfileView",params:{passedId:t.id,check:"derm"}}):this.$router.push({name:"PatientProfileView",params:{passedId:t.id,check:"pharm"}})},getRows:function(){var t=this;"Dermatologist"==this.user.type?this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/all-derm-done-length",{params:{dermatologistId:this.user.id}}).then((function(e){t.rows=e.data})):this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/all-pharm-done-length",{params:{pharmacistId:this.user.id}}).then((function(e){t.rows=e.data}))},sort:function(){this.getAllPatients()}},mounted:function(){this.getAllPatients()}},Hi=Ji,Li=(a("2680"),Object(p["a"])(Hi,Ui,Yi,!1,null,null,null)),Bi=Li.exports,Gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[a("div",{staticClass:"container emp-profile"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",[a("b-tab",{staticStyle:{height:"370px"},attrs:{title:"Profile",active:""}},[a("b-card",{staticStyle:{border:"none"}},[a("div",{staticClass:"profile-head"},[a("br"),a("h5",[t._v(" "+t._s(t.name)+" ")]),a("h6",[t._v(" "+t._s(t.employee.type)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Points")])]),a("div",{staticClass:"col-md-6"},[a("h6",[t._v(t._s(t.employee.points))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Category")])]),a("div",{staticClass:"col-md-6"},[null==t.employee.category||void 0==t.employee.category?a("h6",[t._v(" Basic ")]):a("h6",[t._v(" "+t._s(t.employee.category.name)+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Name")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"name-input",required:""},model:{value:t.employee.name,callback:function(e){t.$set(t.employee,"name",e)},expression:"employee.name"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Surname")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"surname-input",required:""},model:{value:t.employee.surname,callback:function(e){t.$set(t.employee,"surname",e)},expression:"employee.surname"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Email")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"email-input",type:"email",required:""},model:{value:t.employee.email,callback:function(e){t.$set(t.employee,"email",e)},expression:"employee.email"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Phone")])]),a("div",{staticClass:"col-md-6"},[a("b-form-input",{attrs:{disabled:t.editEnabled,id:"phonenumber-input",required:""},model:{value:t.employee.phoneNumber,callback:function(e){t.$set(t.employee,"phoneNumber",e)},expression:"\n                                                      employee.phoneNumber\n                                                  "}})],1)])])],1),0==t.checkType?a("b-tab",{staticStyle:{height:"370px"},attrs:{title:"Pharmacist appointments"}},[a("b-card",{staticStyle:{border:"none"}},[0!=t.pharmacistappointments.length?a("b-table",{attrs:{striped:"",hover:"",fields:t.pharmacistappointmentfields,items:t.pharmacistappointments},on:{"row-clicked":t.showModal}}):t._e(),a("br"),0==t.pharmacistappointments.length?a("h3",[t._v(" Patient has no history of pharmacist appointments! ")]):t._e(),a("b-pagination",{attrs:{align:"center","per-page":"4","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e(),1==t.checkType?a("b-tab",{staticStyle:{height:"370px"},attrs:{title:"Dermatology appointments"}},[a("b-card",{staticStyle:{border:"none"}},[0!=t.dermatologistappointments.length?a("b-table",{attrs:{striped:"",hover:"",items:t.dermatologistappointments,fields:t.dermAppFields},on:{"row-clicked":t.showModal}}):t._e(),a("br"),0==t.dermatologistappointments.length?a("h3",[t._v(" Patient has no history of dermatology appointments! ")]):t._e(),a("b-pagination",{attrs:{align:"center","per-page":"4","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)],1)]),a("br")])]),a("b-modal",{attrs:{id:"my-modal",title:"Appointment","hide-footer":""}},[a("b-form",[1==t.checkType?a("b-form-group",{attrs:{label:"Dermatologist","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",disabled:""},model:{value:t.selected.dermatologist,callback:function(e){t.$set(t.selected,"dermatologist",e)},expression:"selected.dermatologist"}})],1):t._e(),0==t.checkType?a("b-form-group",{attrs:{label:"Pharmacist","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",disabled:""},model:{value:t.selected.pharmacist,callback:function(e){t.$set(t.selected,"pharmacist",e)},expression:"selected.pharmacist"}})],1):t._e(),a("b-form-group",{attrs:{label:"Drugstore","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",type:"email",disabled:""},model:{value:t.selected.drugstore,callback:function(e){t.$set(t.selected,"drugstore",e)},expression:"selected.drugstore"}})],1),a("b-form-group",{attrs:{label:"Date","label-for":"phonenumber-input"}},[a("b-form-input",{attrs:{id:"phonenumber-input",disabled:""},model:{value:t.selected.date,callback:function(e){t.$set(t.selected,"date",e)},expression:"selected.date"}})],1),a("b-form-group",{attrs:{label:"Time","label-for":"phonenumber-input"}},[a("b-form-input",{attrs:{id:"phonenumber-input",disabled:""},model:{value:t.selected.time,callback:function(e){t.$set(t.selected,"time",e)},expression:"selected.time"}})],1),a("b-form-group",{attrs:{label:"Duration","label-for":"duration-input"}},[a("b-form-input",{attrs:{id:"duration-input",disabled:""},model:{value:t.selected.duration,callback:function(e){t.$set(t.selected,"duration",e)},expression:"selected.duration"}})],1),a("b-form-group",{attrs:{label:"Appointment report","label-for":"duration-input"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selected.appointment_report,expression:"selected.appointment_report"}],staticStyle:{resize:"none"},attrs:{disabled:"",id:"diagnosis",name:"diagnosis",rows:"10",cols:"47"},domProps:{value:t.selected.appointment_report},on:{input:function(e){e.target.composing||t.$set(t.selected,"appointment_report",e.target.value)}}})]),a("b-button",{attrs:{type:"button",variant:"outline-hub"},on:{click:t.handleClose}},[t._v("Cancel")])],1)],1)],1)},Wi=[],Qi={props:{passedId:String,check:String},data:function(){return{dermatologistappointments:[],employee:{},editEnabled:!0,name:"",checkType:"derm"==this.check?1:0,pharmacistappointmentfields:[{key:"pharmacist",sortable:!0},{key:"date",sortable:!0},{key:"time"},{key:"processed",label:"Done"}],dermAppFields:[{key:"dermatologist",sortable:!0},{key:"date",sortable:!0},{key:"time"},{key:"processed",label:"Done"}],pharmacistappointments:[],selected:{},rows:0,currentPage:1}},watch:{currentPage:function(){this.getAppointments()}},methods:{getEmployee:function(){var t=this;this.employee.id=this.passedId,this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/id",{params:{patientId:this.employee.id}}).then((function(e){t.employee=e.data,t.name=t.employee.name})).catch((function(t){return console.log(t)}))},getAppointments:function(){var t=this;"pharm"==this.check?this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/get-appointments?page=".concat(this.currentPage-1,"&size=4"),{params:{patientId:this.passedId}}).then((function(e){t.getRows(),t.pharmacistappointments=e.data.map((function(t){return{id:t.id,pharmacist:t.pharmacist.name,date:t.date.slice(0,10),time:t.time.slice(0,5),processed:t.processed?"Yes":"No",drugstore:t.pharmacist.drugstore.name,duration:t.duration,appointment_eport:t.appointmentReport}}))})).catch((function(t){return console.log(t)})):this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/returnAppointments?page=".concat(this.currentPage-1,"&size=4"),{params:{patientId:this.passedId}}).then((function(e){t.getRows(),t.dermatologistappointments=e.data.map((function(t){return{id:t.id,dermatologist:t.dermatologist.name,date:t.date.slice(0,10),time:t.time.slice(0,5),processed:t.processed?"Yes":"No",drugstore:t.drugstore.name,duration:t.duration,appointment_report:t.appointmentReport}}))})).catch((function(t){return console.log(t)}))},showModal:function(t){this.$root.$emit("bv::show::modal","my-modal"),this.selected=JSON.parse(JSON.stringify(t)),console.log(this.selected)},handleClose:function(){this.$root.$emit("bv::hide::modal","my-modal")},getRows:function(){var t=this;"derm"==this.check?this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/returnAppointments-length",{params:{patientId:this.passedId}}).then((function(e){t.rows=e.data})):this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/get-appointments-length",{params:{patientId:this.passedId}}).then((function(e){t.rows=e.data}))}},mounted:function(){this.getEmployee(),this.getAppointments()}},Zi=Qi,Ki=Object(p["a"])(Zi,Gi,Wi,!1,null,null,null),Xi=Ki.exports,tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-modal",{attrs:{id:"my-modal","hide-footer":"",title:"Start appointment"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v("Patient: "+t._s(t.selected.patient.name)+" "+t._s(t.selected.patient.surname))]),a("p",[t._v("Drugstore: "+t._s(t.selected.drugstore.name))]),a("p",[t._v("Start: "+t._s(t.selected.start))]),a("p",[t._v("Duration: "+t._s(t.selected.duration)+" minutes")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-hub",disabled:!t.timeValid,block:""},on:{click:t.patientNotShowup}},[t._v("Patient did not show up!")]),a("b-button",{staticClass:"mt-2",attrs:{variant:"outline-hub",disabled:!t.timeValid,block:""},on:{click:t.startApp}},[t._v("Start appointment!")])],1),a("b-row",{staticStyle:{margin:"20px"},attrs:{"align-h":"center"}},[a("b-form-select",{staticStyle:{width:"30%",margin:"2px"},attrs:{options:t.options},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}}),a("b-button",{staticClass:"mr-1",staticStyle:{margin:"2px"},attrs:{variant:"outline-hub",size:"sm"},on:{click:t.sort}},[t._v(" Sort ")])],1),a("b-row",[a("b-col",[a("b-table",{attrs:{id:"tabela_pacijenata",striped:"",hover:"",items:t.appointments,fields:t.fields},on:{"row-clicked":t.showModal},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-hub",size:"sm"},on:{click:function(a){return t.patientProfileView(e.item,e.index,a.target)}}},[t._v(" Visit patient profile ")])]}}])}),0==t.appointments.length?a("h1",[t._v(" You have no scheduled appointments!")]):t._e()],1)],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-pagination",{attrs:{"per-page":"5","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},el=[],al={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),data:function(){return{selectedOption:"",options:[{text:"First Name",value:"patient.name"},{text:"Last Name",value:"patient.surname"},{text:"Drugstore",value:"drugstore.name"},{text:"Start",value:"date"},{text:"Duration",value:"duration"}],selected:{patient:{},drugstore:{}},appointments:[],fields:[{key:"last_name"},{key:"first_name"},{key:"drugstore"},{key:"start"},{key:"duration"},{key:"actions",label:"Visit"}],rows:0,currentPage:1}},watch:{currentPage:function(){this.getAllAppointments()}},methods:{patientProfileView:function(t){"Dermatologist"==this.user.type?this.$router.push({name:"PatientProfileView",params:{passedId:t.patient.id,check:"derm"}}):this.$router.push({name:"PatientProfileView",params:{passedId:t.patient.id,check:"pharm"}})},getAllAppointments:function(){var t=this;"Dermatologist"==this.user.type?this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/all-derm-todo?page=".concat(this.currentPage-1,"&size=5"),{params:{dermatologistId:this.user.id,sortBy:this.selectedOption}}).then((function(e){t.getRows(),t.appointments=e.data.map((function(t){return{id:t.id,first_name:t.patient.name,last_name:t.patient.surname,drugstore:t.drugstore.name,start:t.date.substring(0,10)+" "+t.time,duration:t.duration,end:t.date.substring(0,10)+" "+t.timeEnd,patient:t.patient}}))})):this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/all-pharm-todo?page=".concat(this.currentPage-1,"&size=5"),{params:{pharmacistId:this.user.id,sortBy:this.selectedOption}}).then((function(e){t.getRows(),t.appointments=e.data.map((function(t){return{id:t.id,first_name:t.patient.name,last_name:t.patient.surname,drugstore:t.pharmacist.drugstore.name,start:t.date.substring(0,10)+" "+t.time,duration:t.duration,end:t.date.substring(0,10)+" "+t.timeEnd,patient:t.patient}}))}))},getRows:function(){var t=this;"Dermatologist"==this.user.type?this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/all-derm-todo-length",{params:{dermatologistId:this.user.id}}).then((function(e){t.rows=e.data})):this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/all-pharm-todo-length",{params:{pharmacistId:this.user.id}}).then((function(e){t.rows=e.data}))},showModal:function(t){this.selected=JSON.parse(JSON.stringify(t));var e=new Date,a=new Date(this.selected.start);a.setMinutes(a.getMinutes()-10);var r=new Date(this.selected.start);r.setMinutes(r.getMinutes()+10),this.timeValid=e>a&&e<r,this.$root.$emit("bv::show::modal","my-modal")},patientNotShowup:function(){var t=this;alert("Patient did not show up"),this.$root.$emit("bv::hide::modal","my-modal"),this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/penalty",{params:{patientId:this.selected.patient.id}}).then((function(t){console.log(t),alert("Patient received a penalty.")})).catch((function(t){return console.log(t)})),"Dermatologist"==this.user.type?this.$http.get("https://mrs-isa-usijani.herokuapp.com/dermatologist-appointment/end-appointment",{params:{dermatologistAppointmentId:this.selected.id,appointmentReport:"Patient did not show up!"}}).then((function(e){console.log(e.data),t.getAllAppointments()})):(alert("Patient did not show up"),console.log(this.selected.extendedProps.patient.id),this.$root.$emit("bv::hide::modal","my-modal"),this.$http.get("https://mrs-isa-usijani.herokuapp.com/patients/penalty",{params:{patientId:this.selected.patient.id}}).then((function(t){console.log(t),alert("Patient received a penalty.")})).catch((function(t){return console.log(t)})),this.$http.get("https://mrs-isa-usijani.herokuapp.com/pharmacist-appointment/end-appointment",{params:{pharmacistAppointmentId:this.selected.id,appointmentReport:"Patient did not show up!"}}).then((function(e){console.log(e.data),t.getAllAppointments()})))},startApp:function(){"Dermatologist"==this.user.type?(alert("Appointment started"+this.selected.id),this.$root.$emit("bv::hide::modal","my-modal"),this.$router.push({name:"AppointmentDermatologist",params:{passedId:this.selected.id}})):(alert("Appointment started"+this.selected.id),this.$root.$emit("bv::hide::modal","my-modal"),this.$router.push({name:"AppointmentPharmacist",params:{passedId:this.selected.id}}))},sort:function(){this.getAllAppointments()}},mounted:function(){this.getAllAppointments()}},rl=al,nl=Object(p["a"])(rl,tl,el,!1,null,null,null),ol=nl.exports,sl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h1",{staticStyle:{margin:"10px"}},[t._v(" Reports for drugstore ")]),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Month reports",active:""}},[a("div",{attrs:{display:"flex"}},[a("div",{staticStyle:{"margin-right":"50px","text-align":"left",display:"inline"},attrs:{float:"left"}},[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.previousMonthReport}},[t._v("Previous year")])],1),a("div",{staticStyle:{"marign-left":"50px","text-align":"right",display:"inline"}},[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.nextMonthReport}},[t._v("Next year")])],1)]),0==t.monthReport.emptyData?a("h5",{staticStyle:{margin:"10px"},attrs:{inline:""}},[t._v(" Profit for period from "),a("b",[t._v(t._s(t.monthReport.dateFrom))]),t._v(" to "),a("b",[t._v(t._s(t.monthReport.dateTo))])]):t._e(),0==t.monthReport.emptyData?a("column-chart",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"},attrs:{id:"monthChart",data:t.monthReport.columnChartData}}):t._e(),0==t.monthReport.emptyData?a("h5",{staticStyle:{margin:"10px"}},[t._v(" Profit shares ")]):t._e(),0==t.monthReport.emptyData?a("pie-chart",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"},attrs:{data:t.monthReport.pieChartData}}):t._e(),t.monthReport.emptyData?a("h2",{staticStyle:{margin:"25px"}},[t._v(" There are no data for period from "+t._s(this.monthReport.dateFrom)+" to "+t._s(this.monthReport.dateTo)+". ")]):t._e()],1),a("b-tab",{attrs:{title:"Quartal reports"}},[a("div",{attrs:{display:"flex"}},[a("div",{staticStyle:{"margin-right":"50px","text-align":"left",display:"inline"},attrs:{float:"left"}},[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.previousQuartalReport}},[t._v("Previous year")])],1),a("div",{staticStyle:{"marign-left":"50px","text-align":"right",display:"inline"}},[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.nextQuartalReport}},[t._v("Next year")])],1)]),0==t.quartalReport.emptyData?a("h5",{staticStyle:{margin:"10px"},attrs:{inline:""}},[t._v(" Profit for period from "),a("b",[t._v(t._s(t.quartalReport.dateFrom))]),t._v(" to "),a("b",[t._v(t._s(t.quartalReport.dateTo))])]):t._e(),0==t.quartalReport.emptyData?a("column-chart",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"},attrs:{data:t.quartalReport.columnChartData}}):t._e(),0==t.quartalReport.emptyData?a("h5",{staticStyle:{margin:"10px"}},[t._v(" Profit shares ")]):t._e(),0==t.quartalReport.emptyData?a("pie-chart",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"},attrs:{data:t.quartalReport.pieChartData}}):t._e(),t.quartalReport.emptyData?a("h2",{staticStyle:{margin:"25px"}},[t._v(" There are no data for period from "+t._s(this.quartalReport.dateFrom)+" to "+t._s(this.quartalReport.dateTo)+". ")]):t._e()],1),a("b-tab",{attrs:{title:"Year reports"}},[a("div",{attrs:{display:"flex"}},[a("div",{staticStyle:{"margin-right":"50px","text-align":"left",display:"inline"},attrs:{float:"left"}},[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.previousYearReport}},[t._v("Previous decade")])],1),a("div",{staticStyle:{"marign-left":"50px","text-align":"right",display:"inline"}},[a("b-button",{attrs:{variant:"outline-hub"},on:{click:t.nextYearReport}},[t._v("Next decade")])],1)]),0==t.yearReport.emptyData?a("h5",{staticStyle:{margin:"10px"},attrs:{inline:""}},[t._v(" Profit for period from "),a("b",[t._v(t._s(t.yearReport.dateFrom))]),t._v(" to "),a("b",[t._v(t._s(t.yearReport.dateTo))])]):t._e(),0==t.yearReport.emptyData?a("column-chart",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"},attrs:{data:t.yearReport.columnChartData}}):t._e(),0==t.yearReport.emptyData?a("h5",{staticStyle:{margin:"10px"}},[t._v(" Profit shares ")]):t._e(),0==t.yearReport.emptyData?a("pie-chart",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"},attrs:{data:t.yearReport.pieChartData}}):t._e(),t.yearReport.emptyData?a("h2",{staticStyle:{margin:"25px"}},[t._v(" There are no data for period from "+t._s(this.yearReport.dateFrom)+" to "+t._s(this.yearReport.dateTo)+". ")]):t._e()],1)],1)],1)],1)},il=[],ll={computed:Object(l["a"])({},Object(u["b"])({user:function(t){return t.userModule.loggedInUser}})),components:{},data:function(){return{drugstoreId:"",counter:0,monthReport:{currentYear:2021,direction:0,columnChartData:[],pieChartData:[],dateFrom:"",dateTo:"",emptyData:!1},quartalReport:{currentYear:2021,direction:0,columnChartData:[],pieChartData:[],dateFrom:"",dateTo:"",emptyData:!1},yearReport:{currentYear:2021,direction:0,columnChartData:[],pieChartData:[],dateFrom:"",dateTo:"",emptyData:!1}}},methods:{getDrugstore:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/employees/drugstoreForId",{params:{drugstoreAdminId:this.user.id}}).then((function(e){t.drugstoreId=e.data.id,t.getQuartalReport(),t.getYearReport(),t.getMonthReport()})).catch((function(t){return console.log(t)}))},getMonthReport:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/reports/month",{params:{drugstoreId:this.drugstoreId,currentYear:this.monthReport.currentYear,direction:this.monthReport.direction}}).then((function(e){if(e.data){var a=[];a[0]=["January",e.data.columnChart[0]],a[1]=["February",e.data.columnChart[1]],a[2]=["March",e.data.columnChart[2]],a[3]=["April",e.data.columnChart[3]],a[4]=["May",e.data.columnChart[4]],a[5]=["June",e.data.columnChart[5]],a[6]=["July",e.data.columnChart[6]],a[7]=["August",e.data.columnChart[7]],a[8]=["September",e.data.columnChart[8]],a[9]=["October",e.data.columnChart[9]],a[10]=["November",e.data.columnChart[10]],a[11]=["December",e.data.columnChart[11]],t.monthReport.columnChartData=a,t.monthReport.pieChartData=e.data.pieChart,t.monthReport.dateFrom=e.data.startDate,t.monthReport.dateTo=e.data.endDate,t.monthReport.emptyData=!1}else t.monthReport.emptyData=!0,t.monthReport.dateFrom=t.monthReport.currentYear+t.monthReport.direction+t.monthReport.dateFrom.substring(4),t.monthReport.dateTo=t.monthReport.currentYear+t.monthReport.direction+1+t.monthReport.dateTo.substring(4)})).catch((function(t){return console.log(t)}))},previousMonthReport:function(){this.monthReport.direction-=1,this.getMonthReport()},nextMonthReport:function(){this.monthReport.direction+=1,this.getMonthReport()},getQuartalReport:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/reports/quartal",{params:{drugstoreId:this.drugstoreId,currentYear:this.quartalReport.currentYear,direction:this.quartalReport.direction}}).then((function(e){e.data?(t.quartalReport.columnChartData=e.data.columnChart,t.quartalReport.pieChartData=e.data.pieChart,t.quartalReport.dateFrom=e.data.startDate,t.quartalReport.dateTo=e.data.endDate,t.quartalReport.emptyData=!1):(t.quartalReport.emptyData=!0,t.quartalReport.dateFrom=t.quartalReport.currentYear+t.quartalReport.direction+t.quartalReport.dateFrom.substring(4),t.quartalReport.dateTo=t.quartalReport.currentYear+t.quartalReport.direction+1+t.quartalReport.dateTo.substring(4))})).catch((function(t){return console.log(t)}))},previousQuartalReport:function(){this.quartalReport.direction-=1,this.getQuartalReport()},nextQuartalReport:function(){this.quartalReport.direction+=1,this.getQuartalReport()},getYearReport:function(){var t=this;this.$http.get("https://mrs-isa-usijani.herokuapp.com/reports/year",{params:{drugstoreId:this.drugstoreId,currentYear:this.yearReport.currentYear,direction:this.yearReport.direction}}).then((function(e){e.data?(t.yearReport.columnChartData=e.data.columnChart,t.yearReport.pieChartData=e.data.pieChart,t.yearReport.dateFrom=e.data.startDate,t.yearReport.dateTo=e.data.endDate,t.yearReport.emptyData=!1):(t.yearReport.emptyData=!0,t.yearReport.dateFrom=t.yearReport.currentYear+t.yearReport.direction+t.yearReport.dateFrom.substring(4),t.yearReport.dateTo=t.yearReport.currentYear+t.yearReport.direction+10+t.yearReport.dateTo.substring(4))})).catch((function(t){return console.log(t)}))},previousYearReport:function(){this.yearReport.direction-=10,this.getYearReport()},nextYearReport:function(){this.yearReport.direction+=10,this.getYearReport()}},mounted:function(){this.getDrugstore()}},ul=ll,cl=Object(p["a"])(ul,sl,il,!1,null,null,null),dl=cl.exports;r["default"].use(y["a"]);var pl=[{path:"/",name:"HomePage",component:ps},{path:"/register",name:"RegistrationPage",component:si},{path:"/patientoverview",name:"PatientOverview",component:Ps},{path:"/employeesOverview",name:"EmployeesOverview",component:Io},{path:"/drugs-overview",name:"DrugOverview",component:vn},{path:"/drugstoreUpdate",name:"drugstoreUpdate",component:En},{path:"/addPharmacistForm",name:"addPharmacistForm",component:za},{path:"/AddDermatologistForm",name:"AddDermatologistForm",component:Ca},{path:"/SelectDermatologistForm",name:"SelectDermatologistForm",component:F},{path:"/drugSearch",name:"DrugSearch",component:So},{path:"/drugstoreSearch",name:"DrugstoreSearch",component:to},{path:"/employeeprofiles",name:"EmployeeProfiles",component:S},{path:"/add-drugstore-form",name:"AddDrugstoreForm",component:Na},{path:"/drug-stock-overview",name:"DrugStockOverview",component:Dn},{path:"/appointments-overview",name:"AppointmentsOverview",component:br},{path:"/admin-drugstore-table",name:"AdminDrugstoreTable",component:_t},{path:"/appointment-dermatologist",name:"AppointmentDermatologist",component:or,props:!0},{path:"/drugstores/:id",name:"DrugstoreView",component:yo},{path:"/dermatologist-appointments/:id",name:"DeramtologistAppointments",component:Br},{path:"/appointment-pharmacist",name:"AppointmentPharmacist",component:dr,props:!0},{path:"/pharm-derm-profile",name:"PharmDermProfile",component:ti},{path:"/patient/",name:"PatientProfile",component:Es},{path:"/admin-drug-table",name:"AdminDrugTable",component:Xt},{path:"/admin-user-table",name:"AdminUserTable",component:de},{path:"/login",name:"LoginPage",component:vs},{path:"/schedule-appointment",name:"ScheduleAppointment",component:Ci},{path:"/schedule",name:"Schedule",component:bi},{path:"/schedule-pharm",name:"SchedulePharmacist",component:xi},{path:"/pharmacist-overview",name:"PharmacistOverview",component:Gs},{path:"/dermatologist-overview",name:"DermatologistOverview",component:Xr},{path:"/supplier-stock",name:"SupplierStockTable",component:ba},{path:"/supplier-orders",name:"DrugOrderTable",component:xe},{path:"/supplier-offers",name:"OfferTable",component:Ne},{path:"/treated",name:"Treated",component:Bi},{path:"/receipt-generator",name:"ReceiptGeneratorView",component:Fo},{path:"/receipt-scanner",name:"ReceiptScannerView",component:ts},{path:"/subscriptions",name:"SubscriptionsView",component:zi},{path:"/create-drug-order",name:"CreateDrugOrder",component:Nr},{path:"/drug-issuing",name:"DrugIssuing",component:on},{path:"/absence-request",name:"AbsenceRequest",component:xa},{path:"/drug-orders-overview",name:"DrugOrdersOverview",component:pn},{path:"/drugstore-administrator-profile",name:"DrugstoreAdministratorProfile",component:Pn},{path:"/my-drugstore",name:"MyDrugstore",component:Ds},{path:"/admin-patient-categories",name:"Patient Categories",component:Xe},{path:"/admin-complaints",name:"Admin Complaints View",component:xr},{path:"/patient-complaints",name:"Patient Complaints View",component:Cr},{path:"/pharmacist-absence-requests",name:"PharmacistAbsenceRequests",component:Us},{path:"/dermatologist-absence-requests",name:"DermatologistAbsenceRequests",component:zr},{path:"/patient-profile-view",name:"PatientProfileView",component:Xi,props:!0},{path:"/appointment-page",name:"AppointmentPage",component:ol},{path:"/drugstore-reports",name:"DrugstoreReports",component:dl}],ml=new y["a"]({routes:pl}),hl=ml,gl=(a("f9e3"),a("2dd8"),a("a1a3"),a("5f5b")),fl=a("b1e0"),bl=a("d21d"),vl=a.n(bl),yl=a("bc3a"),kl=a.n(yl),_l=kl.a.create({baseURL:"http://web.local/api/",timeout:1e4});_l.interceptors.request.use((function(t){return t.headers.Authorization=localStorage.getItem("token")?"Bearer ".concat(localStorage.getItem("token")):"",t}));var wl=_l,xl=function(){return{loggedInUser:null,error:"",role:""}},Dl={getLoggedInUser:function(t){return t.loggedInUser},getLoggedInUserRole:function(t,e){return e.getLoggedInUser().role}},Sl={setLoggedInUser:function(t,e){t.loggedInUser=e},setLoggedInUserRole:function(t,e){var a=e.role;t.role=a},logout:function(t){t.role="",t.loggedInUser=null,localStorage.removeItem("token"),sessionStorage.clear()},setError:function(t,e){t.error=e}},$l={login:function(t,e){var a=t.commit;wl.post("https://mrs-isa-usijani.herokuapp.com/auth/login",e).then((function(t){localStorage.setItem("token",t.data.accessToken),a("setLoggedInUser",t.data.user),a("setError",""),hl.push("/")})).catch((function(t){"401"==t.response.status?a("setError","Failed to login, wrong password/username"):a("setError",t)}))},logout:function(t){var e=t.commit;e("logout")}},jl={namespaced:!0,state:xl,getters:Dl,actions:$l,mutations:Sl},Rl=a("0e44"),Cl=function(t){return null==t||void 0==t||0===Object.keys(t).length},Pl={isObjectEmpty:Cl},Il=a("025a");function Ol(){r["default"].helpers=Pl,r["default"].prototype.$helpers=Pl}r["default"].use(u["a"]),r["default"].use(Il["a"]);var Al=new u["a"].Store({modules:{userModule:jl},plugins:[Object(Rl["a"])({storage:window.sessionStorage}),Ol]}),Ml=a("d842"),Nl=a("30ef"),El=a.n(Nl);r["default"].config.productionTip=!1,r["default"].prototype.$http=wl,r["default"].use(gl["a"]),r["default"].use(fl["b"]),r["default"].use(fl["a"]),r["default"].use(vl.a),r["default"].use(Ml["a"].use(El.a));var ql=new r["default"];new r["default"]({router:hl,store:Al,render:function(t){return t(v)}}).$mount("#app")},"77a1":function(t,e,a){},"905c":function(t,e,a){"use strict";a("e50c")},a03a:function(t,e,a){},a1a3:function(t,e,a){},b865:function(t,e,a){"use strict";a("77a1")},b9f9:function(t,e,a){"use strict";a("a03a")},bddf:function(t,e,a){},e0bb:function(t,e,a){},e50c:function(t,e,a){},e76a:function(t,e,a){},ee52:function(t,e,a){"use strict";a("e0bb")},f817:function(t,e,a){"use strict";a("bddf")}});
//# sourceMappingURL=app.2715e9e5.js.map